[
    {
        "content": "<p>A couple new projects are using poetry:</p>\n<ul>\n<li><a href=\"https://github.com/gdcc/dataversecommunity.global\">https://github.com/gdcc/dataversecommunity.global</a></li>\n<li><a href=\"https://github.com/gdcc/python-dvuploader\">https://github.com/gdcc/python-dvuploader</a></li>\n</ul>\n<p>However, on Mac on Python on Python 3.9.6 I can't install poetry. I'm getting this error:</p>\n<p><code>Exception: This build of python cannot create venvs without using symlinks</code></p>",
        "id": 393679670,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898451
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>pdurbin@air dataversecommunity.global % curl -sSL https://install.python-poetry.org | python3 -\nRetrieving Poetry metadata\n\n# Welcome to Poetry!\n\nThis will download and install the latest version of Poetry,\na dependency and package manager for Python.\n\nIt will add the `poetry` command to Poetry&#39;s bin directory, located at:\n\n/Users/pdurbin/.local/bin\n\nYou can uninstall at any time by executing this script with the --uninstall option,\nand these changes will be reverted.\n\nInstalling Poetry (1.6.1): Creating environment\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 945, in &lt;module&gt;\n  File &quot;&lt;stdin&gt;&quot;, line 923, in main\n  File &quot;&lt;stdin&gt;&quot;, line 560, in run\n  File &quot;&lt;stdin&gt;&quot;, line 581, in install\n  File &quot;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py&quot;, line 117, in __enter__\n    return next(self.gen)\n  File &quot;&lt;stdin&gt;&quot;, line 653, in make_env\n  File &quot;&lt;stdin&gt;&quot;, line 639, in make_env\n  File &quot;&lt;stdin&gt;&quot;, line 317, in make\n  File &quot;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/venv/__init__.py&quot;, line 66, in __init__\n    self.symlinks = should_use_symlinks(symlinks)\n  File &quot;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/venv/__init__.py&quot;, line 31, in should_use_symlinks\n    raise Exception(&quot;This build of python cannot create venvs without using symlinks&quot;)\nException: This build of python cannot create venvs without using symlinks\npdurbin@air dataversecommunity.global % python3 --version\nPython 3.9.6\npdurbin@air dataversecommunity.global %\n</code></pre></div>",
        "id": 393679738,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898485
    },
    {
        "content": "<p>The docs I'm following: <a href=\"https://python-poetry.org/docs/#installation\">https://python-poetry.org/docs/#installation</a></p>",
        "id": 393679853,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898534
    },
    {
        "content": "<p>GitHub issue about this: <a href=\"https://github.com/python-poetry/install.python-poetry.org/issues/24\">https://github.com/python-poetry/install.python-poetry.org/issues/24</a></p>",
        "id": 393680039,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898593
    },
    {
        "content": "<p>Suggestion to install with homebrew instead: <a href=\"https://stackoverflow.com/questions/73805879/poetry-installation-failing-on-mac-os-says-should-use-symlinks/73834174#73834174\">https://stackoverflow.com/questions/73805879/poetry-installation-failing-on-mac-os-says-should-use-symlinks/73834174#73834174</a></p>",
        "id": 393680122,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898629
    },
    {
        "content": "<p>Why people say not to install poetry with homebrew: <a href=\"https://stackoverflow.com/questions/73365780/why-is-not-recommended-to-install-poetry-with-homebrew\">https://stackoverflow.com/questions/73365780/why-is-not-recommended-to-install-poetry-with-homebrew</a></p>",
        "id": 393680186,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898653
    },
    {
        "content": "<p>Should we stick with <code>python -m venv venv</code> instead? Fewer headaches, right?</p>",
        "id": 393680288,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695898674
    },
    {
        "content": "<p>As suggested in the issue, I can reproduce the problem with this:</p>\n<div class=\"codehilite\"><pre><span></span><code>pdurbin@air foo % /usr/bin/python3 -m venv --copies --without-pip venv &amp;&amp; ./venv/bin/python3\nError: This build of python cannot create venvs without using symlinks\n</code></pre></div>",
        "id": 393684267,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695899457
    },
    {
        "content": "<p>Ha, by far it's the number 1 upvoted issue: <a href=\"https://github.com/python-poetry/install.python-poetry.org/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc\">https://github.com/python-poetry/install.python-poetry.org/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc</a></p>",
        "id": 393684746,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695899564
    },
    {
        "content": "<p>I tried this...</p>\n<p><code>curl -sSL https://install.python-poetry.org | sed 's/symlinks=False/symlinks=True/' | python3 -</code></p>\n<p>... as suggested at <a href=\"https://github.com/python-poetry/install.python-poetry.org/issues/24#issuecomment-1692427804\">https://github.com/python-poetry/install.python-poetry.org/issues/24#issuecomment-1692427804</a></p>",
        "id": 393686414,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695899936
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>pdurbin@air ~ % curl -sSL https://install.python-poetry.org | sed &#39;s/symlinks=False/symlinks=True/&#39; | python3 -\nRetrieving Poetry metadata\n\n# Welcome to Poetry!\n\nThis will download and install the latest version of Poetry,\na dependency and package manager for Python.\n\nIt will add the `poetry` command to Poetry&#39;s bin directory, located at:\n\n/Users/pdurbin/.local/bin\n\nYou can uninstall at any time by executing this script with the --uninstall option,\nand these changes will be reverted.\n\nInstalling Poetry (1.6.1): Done\n\nPoetry (1.6.1) is installed now. Great!\n\nTo get started you need Poetry&#39;s bin directory (/Users/pdurbin/.local/bin) in your `PATH`\nenvironment variable.\n\nAdd `export PATH=&quot;/Users/pdurbin/.local/bin:$PATH&quot;` to your shell configuration file.\n\nAlternatively, you can call Poetry explicitly with `/Users/pdurbin/.local/bin/poetry`.\n\nYou can test that everything is set up by executing:\n\n`poetry --version`\n\npdurbin@air ~ %\n</code></pre></div>",
        "id": 393686542,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695899962
    },
    {
        "content": "<p>Seems to mostly work:</p>\n<div class=\"codehilite\"><pre><span></span><code>pdurbin@air ~ % .local/bin/poetry --version\n/Users/pdurbin/Library/Application Support/pypoetry/venv/lib/python3.9/site-packages/urllib3/__init__.py:34: NotOpenSSLWarning: urllib3 v2.0 only supports OpenSSL 1.1.1+, currently the &#39;ssl&#39; module is compiled with &#39;LibreSSL 2.8.3&#39;. See: https://github.com/urllib3/urllib3/issues/3020\n  warnings.warn(\nPoetry (version 1.6.1)\npdurbin@air ~ %\n</code></pre></div>",
        "id": 393686675,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695899994
    },
    {
        "content": "<p>Small update here (and not to overcomplicate your life naturally), but I typically handle this through pyenv.  We use Poetry for relatively painless dependency management, but with different Python versions, that still ends up as a metric ton of environments. Pyenv makes that less painful locally.</p>",
        "id": 394351284,
        "sender_full_name": "Thomas van Erven",
        "timestamp": 1696233387
    },
    {
        "content": "<p>Sorry <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> I saw your messages just now. Thanks for sharing, I was not aware of this! I usually set up my environments via <code>conda</code> and have not run into this.</p>",
        "id": 394456879,
        "sender_full_name": "Jan Range",
        "timestamp": 1696259563
    },
    {
        "content": "<p>Have you tried installing python-dvuploader via pip? Should work independent of the virtual environment.</p>",
        "id": 394457675,
        "sender_full_name": "Jan Range",
        "timestamp": 1696259796
    },
    {
        "content": "<p>Double-checked in a Colab and it works here</p>\n<p><a href=\"/user_uploads/53090/zKPkLESmFNSAWMgXznaFw_w1/image.png\">image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/zKPkLESmFNSAWMgXznaFw_w1/image.png\" title=\"image\"><img src=\"/user_uploads/53090/zKPkLESmFNSAWMgXznaFw_w1/image.png\"></a></div>",
        "id": 394457849,
        "sender_full_name": "Jan Range",
        "timestamp": 1696259848
    },
    {
        "content": "<p>Right. I'm not particularly worried about Python DVUploader. <code>python3 -m pip install dvuploader</code> just worked great for me. However the new GDCC website instructions require poetry. It just feels like the bar is being raised a bit.</p>",
        "id": 394458268,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696259959
    },
    {
        "content": "<blockquote>\n<p>It just feels like the bar is being raised a bit.</p>\n</blockquote>\n<p>That's a pity , should actually be the other way around :-(</p>",
        "id": 394474436,
        "sender_full_name": "Jan Range",
        "timestamp": 1696265345
    },
    {
        "content": "<p>I assume everyone has seen <a href=\"https://xkcd.com/1987/\">https://xkcd.com/1987/</a> <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 394476053,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696265917
    },
    {
        "content": "<p>My latest struggle: <a class=\"stream-topic\" data-stream-id=\"377090\" href=\"/#narrow/channel/377090-python/topic/poetry.20not.20working.20for.20python-dvuploader/with/535005500\">#python &gt; poetry not working for python-dvuploader</a></p>",
        "id": 535005572,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1755543662
    },
    {
        "content": "<p>My Mac got wiped. This time I'm trying <code>brew install poetry</code>. Wish me luck!</p>",
        "id": 540309030,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1758224736
    }
]