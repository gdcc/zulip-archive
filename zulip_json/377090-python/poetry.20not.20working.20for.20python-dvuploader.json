[
    {
        "content": "<p><code>poetry run task docs-live</code> works fine for <a href=\"https://github.com/gdcc/www.gdcc.io\">https://github.com/gdcc/www.gdcc.io</a></p>\n<p>However, for <a href=\"https://github.com/gdcc/python-dvuploader\">https://github.com/gdcc/python-dvuploader</a> even when running <code>poetry --version</code> I get an error:</p>\n<div class=\"codehilite\"><pre><span></span><code>% poetry --version\ndyld[47269]: Library not loaded: /opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/Python\n  Referenced from: &lt;2104F075-5875-3801-93D0-6184863AB9F9&gt; /Users/PDurbin/Library/Application Support/pypoetry/venv/bin/python\n  Reason: tried: &#39;/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/Python&#39; (no such file), &#39;/System/Volumes/Preboot/Cryptexes/OS/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/Python&#39; (no such file), &#39;/opt/homebrew/Cellar/python@3.12/3.12.4/Frameworks/Python.framework/Versions/3.12/Python&#39; (no such file)\nzsh: abort      poetry --version\n</code></pre></div>\n<p>Why? And how do I fix this?</p>",
        "id": 534995370,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1755539041
    },
    {
        "content": "<p>Which version of poetry are you using? I have 2.1.3 and the commands are working in the repository.</p>",
        "id": 535003031,
        "sender_full_name": "Jan Range",
        "timestamp": 1755542445
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>pdurbin@beamish www.gdcc.io % poetry --version\nPoetry (version 2.1.4)\n</code></pre></div>\n<p>(I can't run it from the other repo.)</p>",
        "id": 535003136,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1755542498
    },
    {
        "content": "<p>Seems like it tries to use Python 3.12 but it fails. Have you installed poetry via brew?</p>",
        "id": 535003547,
        "sender_full_name": "Jan Range",
        "timestamp": 1755542684
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>pdurbin@beamish www.gdcc.io % which poetry\n/Users/PDurbin/.pyenv/shims/poetry\n</code></pre></div>",
        "id": 535003663,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1755542741
    },
    {
        "content": "<p>I am not a 100% sure but it could be due to <code>pyenv</code> trying to use a global Python version that does not exist or has no Poetry installation. Maybe you could re-install Poetry globally using <code>brew install poetry</code></p>",
        "id": 535004978,
        "sender_full_name": "Jan Range",
        "timestamp": 1755543404
    },
    {
        "content": "<p>I guess I'm confused why poetry works in one repo but not the other.</p>",
        "id": 535005187,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1755543488
    },
    {
        "content": "<p>Dito, thats pretty confusing <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 535005274,
        "sender_full_name": "Jan Range",
        "timestamp": 1755543540
    },
    {
        "content": "<p>I was looking at <a class=\"stream-topic\" data-stream-id=\"377090\" href=\"/#narrow/channel/377090-python/topic/install.20poetry.20fail.20on.20Mac/with/394476053\">#python &gt; install poetry fail on Mac</a> and I thought you recommended Conda last time. You're ok with Homebrew now? <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span> I'm already using Homebrew.</p>",
        "id": 535005500,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1755543633
    },
    {
        "content": "<p>For dependency management <code>poetry</code> is a nice choice, but I handle my envs exclusively through <code>conda</code> since years. Maybe I am just too routined with it, but it has given me the least headaches so far <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 535006119,
        "sender_full_name": "Jan Range",
        "timestamp": 1755543884
    },
    {
        "content": "<p>I have installed <code>poetry</code> through homebrew and havent run into any issues so far, apart from envs, for which I use <code>conda</code>. Maybe it helps to install through homebrew, as I am not sure about the behaviour when used with <code>pyenv</code></p>",
        "id": 535006345,
        "sender_full_name": "Jan Range",
        "timestamp": 1755543994
    },
    {
        "content": "<p>Good news, <code>poetry install --with test</code> worked fine. I installed Python 3.10 and poetry from brew.</p>",
        "id": 540311078,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1758225627
    },
    {
        "content": "<p>Awesome!</p>",
        "id": 540311436,
        "sender_full_name": "Jan Range",
        "timestamp": 1758225799
    }
]