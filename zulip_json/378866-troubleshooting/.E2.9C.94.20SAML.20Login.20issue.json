[
    {
        "content": "<p>web error message: Problem with Identity Provider â€“ The SAML assertion for \"eppn\" was null. Please contact support.<br>\nshibboleth log message: <br>\n2023-11-09 16:58:54 WARN Shibboleth.AttributeFilter [1] [default]: attribute (eppn) invalid scope (<a href=\"http://sysdev.pclan.xxx\">sysdev.pclan.xxx</a>)<br>\n2023-11-09 16:58:54 WARN Shibboleth.AttributeFilter [1] [default]: removed value at position (0) of attribute (eppn) from (<a href=\"http://stswebdev.sysdev.pclan.xxx\">http://stswebdev.sysdev.pclan.xxx</a>)<br>\n2023-11-09 16:58:54 WARN Shibboleth.AttributeFilter [1] [default]: no values left, removing attribute (eppn) from (<a href=\"http://stswebdev.sysdev.pclan.xxx\">http://stswebdev.sysdev.pclan.xxx</a>)</p>\n<p>SAML response  has eppn value (<a href=\"mailto:alexng@sysdev.pclan.xxx\">alexng@sysdev.pclan.xxx</a>), but shibd still not working, anyone knows how to fix this issue? thanks</p>",
        "id": 401121612,
        "sender_full_name": "alexng",
        "timestamp": 1699524053
    },
    {
        "content": "<p>We might need to wait until our Shib hero <span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span> is around. Timezones... <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> <br>\nAlso, I am moving this thread to <a class=\"stream\" data-stream-id=\"378866\" href=\"/#narrow/stream/378866-troubleshooting\">#troubleshooting</a> as it does not seem to be dev related (for now)</p>",
        "id": 401127658,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699525637
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"379673\" href=\"/#narrow/stream/379673-dev/topic/SAML.20Login.20issue\">#dev &gt; SAML Login issue</a> by <span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span>.</p>",
        "id": 401127717,
        "sender_full_name": "Notification Bot",
        "timestamp": 1699525652
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"662285\">alexng</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/SAML.20Login.20issue/near/401121612\">said</a>:</p>\n<blockquote>\n<p>web error message: Problem with Identity Provider â€“ The SAML assertion for \"eppn\" was null. Please contact support.<br>\nshibboleth log message: <br>\n2023-11-09 16:58:54 WARN Shibboleth.AttributeFilter [1] [default]: attribute (eppn) invalid scope (<a href=\"http://sysdev.pclan.xxx\">sysdev.pclan.xxx</a>)<br>\n2023-11-09 16:58:54 WARN Shibboleth.AttributeFilter [1] [default]: removed value at position (0) of attribute (eppn) from (<a href=\"http://stswebdev.sysdev.pclan.xxx\">http://stswebdev.sysdev.pclan.xxx</a>)<br>\n2023-11-09 16:58:54 WARN Shibboleth.AttributeFilter [1] [default]: no values left, removing attribute (eppn) from (<a href=\"http://stswebdev.sysdev.pclan.xxx\">http://stswebdev.sysdev.pclan.xxx</a>)</p>\n<p>SAML response  has eppn value (<a href=\"mailto:alexng@sysdev.pclan.xxx\">alexng@sysdev.pclan.xxx</a>), but shibd still not working, anyone knows how to fix this issue? thanks</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"662285\">@alexng</span> what's powering the IDP?</p>",
        "id": 401150475,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1699534663
    },
    {
        "content": "<p>I suppose they might already be back to sleep... <a href=\"https://www.timeanddate.com/worldclock/macau/macau\">https://www.timeanddate.com/worldclock/macau/macau</a></p>",
        "id": 401158198,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699537387
    },
    {
        "content": "<p>Are they missing config bits for the scope? <a href=\"https://shibboleth.atlassian.net/wiki/spaces/IDP30/pages/2496987397/ScopeConfiguration\">https://shibboleth.atlassian.net/wiki/spaces/IDP30/pages/2496987397/ScopeConfiguration</a></p>",
        "id": 401159510,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699537864
    },
    {
        "content": "<p>I usually ask to try the equivalent of <a href=\"https://demo.dataverse.org/Shibboleth.sso/Session\">https://demo.dataverse.org/Shibboleth.sso/Session</a></p>",
        "id": 401159939,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1699538007
    },
    {
        "content": "<p>I got message form \"/Shibboleth.sso/Session\" ,  other attributes received successfully </p>\n<p>Miscellaneous<br>\nSession Expiration (barring inactivity): 479 minute(s)<br>\nClient Address: 161.64.159.78<br>\nSSO Protocol: urn:oasis:names:tc:SAML:2.0:protocol<br>\nIdentity Provider: <a href=\"http://stswebdev.sysdev.pclan.umac.mo/adfs/services/trust\">http://stswebdev.sysdev.pclan.umac.mo/adfs/services/trust</a><br>\nAuthentication Time: 2023-11-10T01:52:18.293Z<br>\nAuthentication Context Class: urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport<br>\nAuthentication Context Decl: (none)</p>\n<p>Attributes<br>\ncn: alexng<br>\ngivenName: alexng<br>\nmail: <a href=\"mailto:alexng@sysdev.pclan.umac.mo\">alexng@sysdev.pclan.umac.mo</a></p>",
        "id": 401271259,
        "sender_full_name": "alexng",
        "timestamp": 1699581993
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/SAML.20Login.20issue/near/401159510\">said</a>:</p>\n<blockquote>\n<p>Are they missing config bits for the scope? <a href=\"https://shibboleth.atlassian.net/wiki/spaces/IDP30/pages/2496987397/ScopeConfiguration\">https://shibboleth.atlassian.net/wiki/spaces/IDP30/pages/2496987397/ScopeConfiguration</a></p>\n</blockquote>\n<p>You mean need to add the scope in attribute-map.xml ?<br>\nmy attribute mapping is using this one <a href=\"https://guides.dataverse.org/en/latest/_downloads/2fa33ab92f96836906cbf6d9d3badeb9/attribute-map.xml\">https://guides.dataverse.org/en/latest/_downloads/2fa33ab92f96836906cbf6d9d3badeb9/attribute-map.xml</a></p>",
        "id": 401271967,
        "sender_full_name": "alexng",
        "timestamp": 1699582474
    },
    {
        "content": "<p>thank you all of you, I solved the problem,  I change the \"eppn\" scope in attribute-policy.xml</p>",
        "id": 401316333,
        "sender_full_name": "alexng",
        "timestamp": 1699607630
    },
    {
        "content": "<p>Glad you could figure it out!</p>",
        "id": 401347600,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699614527
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> has marked this topic as resolved.</p>",
        "id": 401347670,
        "sender_full_name": "Notification Bot",
        "timestamp": 1699614554
    }
]