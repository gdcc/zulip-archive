[
    {
        "content": "<p>Continuing conversation from google groups: <a href=\"https://groups.google.com/g/dataverse-community/c/Yw9F63MHMUQ\">https://groups.google.com/g/dataverse-community/c/Yw9F63MHMUQ</a></p>\n<p>After upgrading to V6.6, we were getting errors in our server.log. Before I reindexed \"all\" (clear index), I created a new dataset. It didn't show up in the listing. The direct URLs work, shows draft record and one published, but nothing in the collection list.</p>\n<p>So I ran api/admin/index/clear - and then reindex. And still getting the errors reported in google.</p>\n<p>BUT now nothing shows in any collection.....</p>\n<p>Help!   Luckily this is my test server.</p>",
        "id": 518305311,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1747316054
    },
    {
        "content": "<p>Did you do all the Solr-related upgrade steps in <a href=\"https://github.com/IQSS/dataverse/releases/tag/v6.6\">https://github.com/IQSS/dataverse/releases/tag/v6.6</a> including switching to Solr 9.8.0?</p>",
        "id": 518306200,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1747316254
    },
    {
        "content": "<p>I think so..... our solr is on a different box so my admins use terraform?? to push the updated schema.xml and solrconfig.xml</p>",
        "id": 518306649,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1747316358
    },
    {
        "content": "<p>I know we did that part.... but hm..... let me check on the actual upgrade.</p>",
        "id": 518306717,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1747316374
    },
    {
        "content": "<p>Awesome, thanks</p>",
        "id": 518306919,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1747316411
    },
    {
        "content": "<p>Still waiting to hear from my sysadmin.... but question while I wait....</p>\n<p>In the release notes, since UVA has additional metadata blocks, we do not use the schema.xml file in step 10 (of 6.6 release notes) downloaded via \"wget\"?</p>\n<p>Instead we run the <a href=\"http://update-fields.sh\">update-fields.sh</a> command on our schema.xml.</p>\n<p>That might not be what I did.....</p>",
        "id": 518317052,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1747318615
    },
    {
        "content": "<p>Yes, that's something to check.</p>",
        "id": 518318428,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1747318938
    },
    {
        "content": "<p>solr was updated.<br>\nTrying stop/starting solr.... when Tim (the sysadmin, not the cat) has a break.</p>\n<p>Questions about the solr section in release notes......</p>\n<p>The schema.xml that is downloaded (wget) should it go directly to the directory.  ..../solr/collection1/conf/<br>\nBut if solr 9.8.0 is already installed, do we have to do the wget?</p>\n<p>By installing solr 9.8.0, we should already have the \"schema.xml\" file and would not need to do the \"wget\", or do we really need the ones from V6.6 of dataverse (wget command)?</p>\n<p>Then... with this new schema.xml file in it's correct place (either from wget or from install).</p>\n<p>I would then run the <a href=\"http://update-fields.sh\">update-fields.sh</a> script - and it would update (in place) the new schema.xml file (in our solr/collection1/conf directory) using the contents of our solr \"index\" command (api/admin/index/solr/schema) to get our customized metadata parts in the new schema.xml? </p>\n<p>Because re-index of solr hasn't happened at this step in V6.6 upgrade, the index has our customized metadata block?</p>\n<p>Trying to understand what is supposed to happen, so I might figure out what I did. So I don't make the mistake on production!</p>",
        "id": 518358388,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1747328925
    },
    {
        "content": "<p>Correct, <a href=\"https://guides.dataverse.org/en/6.6/installation/prerequisites.html#solr\">https://guides.dataverse.org/en/6.6/installation/prerequisites.html#solr</a> does explain how to get the schema.xml file.</p>",
        "id": 518362522,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1747330247
    },
    {
        "content": "<p>Ok, datasets now showing. Not sure what the problem was, but Tim <br>\n\"reloaded the core\" (not sure what that is)<br>\nand reindexed.</p>\n<p>Seeing existing datasets and new ones.</p>",
        "id": 518374873,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1747334241
    },
    {
        "content": "<p>Fantastic! Go Tim! <img alt=\":dataverse_man:\" class=\"emoji\" src=\"https://avatars.zulip.com/53090/emoji/images/c7b94a03.png\" title=\"dataverse man\"></p>",
        "id": 518375774,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1747334552
    },
    {
        "content": "<p>For Dataverse there's only one core and we call it \"collection1\".</p>",
        "id": 518376263,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1747334718
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599826\">Sherry Lake</span> has marked this topic as resolved.</p>",
        "id": 518384960,
        "sender_full_name": "Notification Bot",
        "timestamp": 1747337619
    }
]