[
    {
        "content": "<p>Hi there.<br>\nI hope everyone is well.<br>\nI'm attempting to set up our instance with EZID as the DOI provider and am not able to mint DOIs.<br>\nI am using the following jvm options:   </p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;jvm-options&gt;-Ddataverse.pid.ezid.username=ucblibrary&lt;/jvm-options&gt;\n        &lt;jvm-options&gt;-Ddataverse.pid.ezid.password=${ALIAS=doi_password_alias}&lt;/jvm-options&gt;\n        &lt;jvm-options&gt;-Ddataverse.pid.ezid.api-url=https://ezid.cdlib.org&lt;/jvm-options&gt;\n</code></pre></div>\n<p>Is this what Dataverse expects?<br>\nAlso how can I turn on additional logging for this?<br>\nThanks much! Jay</p>",
        "id": 422918309,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708642426
    },
    {
        "content": "<p>Hmm, is DataCite an option for you? The reason I ask is that I'm not sure if the EZID provider is still working or not. It's California-only so its use is limited these days.</p>",
        "id": 422930241,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708649491
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"653479\">@jamie jamison</span> you don't happen to use EZID, do you?</p>",
        "id": 422930259,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708649506
    },
    {
        "content": "<p>I do use EZID , -  a UC decision. I'm at 5.14 and my code reflects that</p>",
        "id": 422930552,
        "sender_full_name": "jamie jamison",
        "timestamp": 1708649666
    },
    {
        "content": "<p>Oh! So it does still work. Phew!</p>",
        "id": 422930592,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708649706
    },
    {
        "content": "<p>Working just fine. Looks like the 5.14 documentation.</p>",
        "id": 422930646,
        "sender_full_name": "jamie jamison",
        "timestamp": 1708649758
    },
    {
        "content": "<p>Does anything jump out at you about the config above? I think it looks ok to me. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 422930706,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708649774
    },
    {
        "content": "<p>It certainly seems to match. At this point I might start picking through logs and probably go to you for help.</p>",
        "id": 422930802,
        "sender_full_name": "jamie jamison",
        "timestamp": 1708649861
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"674237\">@Jay Sundu</span> what about the database settings listed at <a href=\"https://guides.dataverse.org/en/6.1/installation/config.html#configuring-your-dataverse-installation-for-dois\">https://guides.dataverse.org/en/6.1/installation/config.html#configuring-your-dataverse-installation-for-dois</a> ?</p>",
        "id": 422930917,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708649918
    },
    {
        "content": "<p>:Authority for example</p>",
        "id": 422930939,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708649934
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"674237\">@Jay Sundu</span> <br>\nYou will need these set (which it seems that you do):<br>\nJVM Options for EZID:</p>\n<p>dataverse.pid.ezid.api-url<br>\ndataverse.pid.ezid.username<br>\ndataverse.pid.ezid.password</p>\n<p><a href=\"https://guides.dataverse.org/en/latest/installation/config.html#configuring-your-dataverse-installation-for-dois\">https://guides.dataverse.org/en/latest/installation/config.html#configuring-your-dataverse-installation-for-dois</a><br>\nAND you need these set:<br>\n:DoiProvider<br>\n:Protocol<br>\n:Authority<br>\n:Shoulder</p>\n<p>UVa has....<br>\n\":Protocol\": \"doi\",<br>\n\":DoiProvider\": \"DataCite\",        - you will need \":DoiProvider\": \"EZID\",<br>\n\":Authority\": \"10.18130\",<br>\n\":Shoulder\": \"V3/\",</p>\n<p>Our Autrhority is 10.18130<br>\nOur Shoulder is \"V3/\"   (with the slash) Our DOIs look like: <a href=\"https://doi.org/10.18130/V3/ZGS4T4\">https://doi.org/10.18130/V3/ZGS4T4</a></p>\n<p>We had EZID in the beginning (before it was limited to UC schools) and the \"V3\" was given to us  by EZID as a shoulder.</p>",
        "id": 423027994,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1708699041
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"599826\">@Sherry Lake</span> and <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> . I did see a error in the database settings and have retested. I'm waiting on confirmation. I'm hopeful it will now work and I much appreciate the responses! Stay tuned, I will report back here.</p>",
        "id": 423030749,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708699922
    },
    {
        "content": "<p>Success! Thanks <span class=\"user-mention\" data-user-id=\"653479\">@jamie jamison</span> <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> <span class=\"user-mention\" data-user-id=\"599826\">@Sherry Lake</span> !!!</p>",
        "id": 423064167,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708710004
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"674237\">Jay Sundu</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/ezid.20jvm.20configuration/near/423064167\">said</a>:</p>\n<blockquote>\n<p>Success! Thanks <span class=\"user-mention silent\" data-user-id=\"653479\">jamie jamison</span> <span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <span class=\"user-mention silent\" data-user-id=\"599826\">Sherry Lake</span> !!!</p>\n</blockquote>\n<p>I spoke too soon. Its working in staging but I'm seeing this in prod. Note <a href=\"http://nceas.ucsb.edu\">nceas.ucsb.edu</a> referenced. I've double-checked that staging config matches prod. Any thoughts on where this misconfig might be? Why does it think I'm nceas?</p>\n<div class=\"codehilite\"><pre><span></span><code>[2024-02-23T12:48:30.192-0800] [Payara 6.2023.9] [WARNING] [] [edu.harvard.iq.dataverse.DOIEZIdServiceBean] [tid: _ThreadID=97 _ThreadName=http-thread-pool::jk-connector(3)] [timeMillis: 1708721310192] [levelValue: 900] [[\n  String edu.ucsb.nceas.ezid.EZIDException: unauthorized]]\n</code></pre></div>",
        "id": 423096588,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708723220
    },
    {
        "content": "<p>I wouldn't worry about <code>nceas</code> in <code>edu.ucsb.nceas.ezid.EZIDException</code>. That's just showing who wrote the Java library we use.</p>",
        "id": 423096775,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708723335
    },
    {
        "content": "<p>Unauthorized, huh? Do you have a different username and password for prod? That's how DataCite does it.</p>",
        "id": 423096933,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708723427
    },
    {
        "content": "<p>It should be the same username/password  -- I'm using the same api-url.  When setting the password with asadmin, I accidently did <code>create-password-alias doi_password_alias</code> (instead of <code>update-password-alias</code>) I then updated it and just now deleted and created it again thinking this looks like it's not accepting the password for some reason.</p>",
        "id": 423097754,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708723812
    },
    {
        "content": "<p>Woof. Password alias stuff. Not my strong suit.</p>",
        "id": 423098458,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708724205
    },
    {
        "content": "<p>You could temporarily put the password in plain text just to confirm it's working.</p>",
        "id": 423098506,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708724233
    },
    {
        "content": "<p>How can I try that - I'd give it a shot.</p>",
        "id": 423098556,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708724269
    },
    {
        "content": "<p>Well, in domain.xml the username is in plain text, right?</p>",
        "id": 423098631,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708724298
    },
    {
        "content": "<p>Oh. I guess hardcode it into the domain yeah.</p>",
        "id": 423098646,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708724307
    },
    {
        "content": "<p>just as a test</p>",
        "id": 423098662,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708724317
    },
    {
        "content": "<p>Okay that worked. So something is messed up with the alias.</p>",
        "id": 423099467,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708724721
    },
    {
        "content": "<p>It's tricky. I never use it in dev. Maybe next week we can ask Don Sizemore for help.</p>",
        "id": 423099945,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708724957
    },
    {
        "content": "<p>It's quittin' time here on the east coast. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 423100018,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708724987
    },
    {
        "content": "<p>Oh gosh yes. Enjoy the weekend and thanks again. I'm off for three weeks so you'll be hearing from me then.</p>",
        "id": 423100138,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708725021
    },
    {
        "content": "<p>Three weeks. Nice. Enjoy!</p>",
        "id": 423100181,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708725041
    },
    {
        "content": "<p>Baby bonding time with my six-month old son!</p>",
        "id": 423100221,
        "sender_full_name": "Jay Sundu",
        "timestamp": 1708725059
    },
    {
        "content": "<p>Aw. Mine are teenagers now. You can see one in <a class=\"stream-topic\" data-stream-id=\"375707\" href=\"/#narrow/stream/375707-community/topic/good.20vibes\">#community &gt; good vibes</a> . Enjoy that baby time!</p>",
        "id": 423100282,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708725093
    },
    {
        "content": "<p>Thank you Phil for all the help for those of us getting started!</p>",
        "id": 423100390,
        "sender_full_name": "jamie jamison",
        "timestamp": 1708725130
    },
    {
        "content": "<p>It's my pleasure. I didn't write this code for people to not be able to use it! <span aria-label=\"crazy\" class=\"emoji emoji-1f61c\" role=\"img\" title=\"crazy\">:crazy:</span></p>",
        "id": 423100477,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1708725174
    }
]