[
    {
        "content": "<p>Hi team, <br>\nAfter upgrade to 6.2 (5.13 -&gt; 5.14 -&gt; 6.0 -&gt; 6.1 -&gt; 6.2), we have noticed that contents of 'uploads' directory are not clearing automatically. On Production I had to setup a cronjob to manually clear it periodically.</p>",
        "id": 441953212,
        "sender_full_name": "Bikram",
        "timestamp": 1717270643
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/E-e-BKSD5Cj1FWLpdSrr0rlO/Screenshot-2024-06-01-at-3.38.53PM.png\">Screenshot-2024-06-01-at-3.38.53PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/E-e-BKSD5Cj1FWLpdSrr0rlO/Screenshot-2024-06-01-at-3.38.53PM.png\" title=\"Screenshot-2024-06-01-at-3.38.53PM.png\"><img src=\"/user_uploads/53090/E-e-BKSD5Cj1FWLpdSrr0rlO/Screenshot-2024-06-01-at-3.38.53PM.png\"></a></div>",
        "id": 441953449,
        "sender_full_name": "Bikram",
        "timestamp": 1717270749
    },
    {
        "content": "<p>On demo site, still seeing files from May 9 after upgrade</p>",
        "id": 441953492,
        "sender_full_name": "Bikram",
        "timestamp": 1717270776
    },
    {
        "content": "<p>Interesting. Are you using dvwebloader or other addons? Globus?</p>",
        "id": 442273674,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1717425814
    },
    {
        "content": "<p>Hi Phil, <br>\nOnly using the Web uploader, we don't have Globus setup for Production yet.</p>",
        "id": 442280403,
        "sender_full_name": "Bikram",
        "timestamp": 1717427254
    },
    {
        "content": "<p>Do you think it could be dvwebloader? <span class=\"user-mention\" data-user-id=\"599826\">@Sherry Lake</span> are you seeing the same thing? Files sticking around?</p>",
        "id": 442283778,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1717427936
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"719882\">@Bikram</span> I'm asking <a href=\"https://iqss.slack.com/archives/C010LA04BCG/p1717428081486169\">in IQSS Slack</a> if anyone has any ideas.</p>",
        "id": 442284657,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1717428115
    },
    {
        "content": "<p>For us its happening on all Test, Demo, Prod environments</p>",
        "id": 442285670,
        "sender_full_name": "Bikram",
        "timestamp": 1717428307
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/Uploads.20directory.20content.20not.20clearing.20after.206.2E2.20upgrade/near/442283778\">said</a>:</p>\n<blockquote>\n<p>Do you think it could be dvwebloader? <span class=\"user-mention silent\" data-user-id=\"599826\">Sherry Lake</span> are you seeing the same thing? Files sticking around?</p>\n</blockquote>\n<p>We haven't upgraded to 6.2 yet. We are doing that (from 5.14) next week.</p>",
        "id": 442288684,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1717428955
    },
    {
        "content": "<p>Thanks, Sherry.</p>",
        "id": 442290648,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1717429373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"719882\">@Bikram</span> honestly, if you want to go ahead and create an issue, please feel free. Where there's smoke, there's fire, as we say. <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>",
        "id": 442290802,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1717429406
    },
    {
        "content": "<p>Thanks Phil, will create issue.</p>",
        "id": 442301959,
        "sender_full_name": "Bikram",
        "timestamp": 1717431412
    },
    {
        "content": "<p>This looks great, thanks: Temporary files in uploads directory not deleting automatically <a href=\"https://github.com/IQSS/dataverse/issues/10667\">#10667</a></p>",
        "id": 449883074,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1720448399
    },
    {
        "content": "<p>I can confirm this. Is it safe to remove those <code>.tmp</code> files manually?</p>",
        "id": 450117796,
        "sender_full_name": "Henning Timm",
        "timestamp": 1720518626
    },
    {
        "content": "<p>AFAIK once the file is uploaded and user hit the save button, those .tmp files are of no use and should be deleted automatically. I have added a cronjob to run every 2hours and deleted files older than 2hrs. It should give users enough time to save the changes.</p>",
        "id": 450161068,
        "sender_full_name": "Bikram",
        "timestamp": 1720528876
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"719882\">@Bikram</span> what type of datastore were you testing? my GRA was unable to reproduce this in version 6.3 with a local datastore. next to set up an S3 bucket.</p>",
        "id": 464116317,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1724260309
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span>, we are using S3 datastore but Openstack Swift S3.</p>",
        "id": 464129288,
        "sender_full_name": "Bikram",
        "timestamp": 1724263856
    }
]