[
    {
        "content": "<p>I have a test server running Dataverse 5.14, talking to Amazon S3. I can, using the credentials specified in jvm-options and in ~payara/.aws/credentials, upload and download test files using the AWS CLI. I have disabled upload-direct and download-direct in domain.xml. I have quadruple-checked my S3-related jvm-options. No matter what I do, Amazon complains, returning a 403 Forbidden when Dataverse attempts to retrieve the bucket ACL, then another 403 Forbidden when Dataverse attempts to upload a file. I am allowing GetBucketACL in the policy attached to the IAM role. Any ideas or suggestions would be most welcome. Thank you, Don</p>",
        "id": 452430794,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1721333270
    },
    {
        "content": "<p>Which version? I remember Jim fixed some auth ordering in some release, that might cause trouble. Don't remember the deets though <span aria-label=\"melting face\" class=\"emoji emoji-1fae0\" role=\"img\" title=\"melting face\">:melting_face:</span></p>",
        "id": 452455640,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1721345364
    },
    {
        "content": "<p>Maybe we can do a quick screen share sometime to quadruple check the settings. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 452456175,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1721345718
    },
    {
        "content": "<p>Sry it's late here. 5.14... <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 452456820,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1721346195
    },
    {
        "content": "<p>Yeah the fix was done in 6.1, see <a href=\"https://github.com/IQSS/dataverse/issues/10003\">#10003</a> / <a href=\"https://github.com/IQSS/dataverse/issues/10004\">#10004</a></p>",
        "id": 452457044,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1721346360
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/403.20Forbiddens.20from.20Amazon.20S3/near/452457044\">said</a>:</p>\n<blockquote>\n<p>Yeah the fix was done in 6.1, see <a href=\"https://github.com/IQSS/dataverse/issues/10003\">#10003</a> / <a href=\"https://github.com/IQSS/dataverse/issues/10004\">#10004</a></p>\n</blockquote>\n<p>I was looking at the issue/PR, but we arenâ€™t using RBAC, just keys. The ordering issue was reported in 5.14 when RBAC support came back on the scene, and I have 5.12.1 and 5.13 servers which seem to behave just fine.</p>",
        "id": 452464253,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1721349614
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> I would love a screen share, though at some point today I have a meeting with Jamie to talk about LetsEncrypt within Dataverse-Ansible, and also her 403 Forbiddens. Note that she was running 5.14 with no S3 woes, so I'm curious how her S3 creds are defined.</p>",
        "id": 452554588,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1721389948
    },
    {
        "content": "<p>Well, she's on the west coast. If you're available now, I'm around. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 452567871,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1721394951
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> I have an 0945 with Sonia, then I may pester you?</p>",
        "id": 452572029,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1721396335
    },
    {
        "content": "<p>sure!</p>",
        "id": 452576613,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1721397588
    },
    {
        "content": "<p>Found it. A forgotten experiment from 3 years ago was lurking in our AWS configuration. Good to know about the RBAC preference bug between 5.14-6.1, though.</p>",
        "id": 452641088,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1721415123
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"626369\">Don Sizemore</span> has marked this topic as resolved.</p>",
        "id": 452641104,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721415131
    }
]