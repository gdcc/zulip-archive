[
    {
        "content": "<p>This is a great option:<br>\n<a href=\"https://guides.dataverse.org/en/latest/api/native-api.html#view-dataset-files-and-folders-as-a-directory-index\">https://guides.dataverse.org/en/latest/api/native-api.html#view-dataset-files-and-folders-as-a-directory-index</a></p>\n<p>and works when using (viewing) in a browser. Typing this URL in a browser window, I can navigate see the directory structure of my dataset and download individual files:<br>\n<a href=\"https://demo.dataverse.org/api/datasets/:persistentId/dirindex?persistentId=doi:10.70122/FK2/92XEEU\">https://demo.dataverse.org/api/datasets/:persistentId/dirindex?persistentId=doi:10.70122/FK2/92XEEU</a></p>\n<p>BUT... of course there is a but...</p>\n<p>when I try to download using the <code>wget</code>¬†command line for crawling (‚Äúrecursive downloading‚Äù) as specified in the docs, the files (directories) are not saved correctly - in the right folder structure. </p>\n<p>Here's the command I used, taken from the above API guide:<br>\n<code>wget -r -e robots=off -nH --cut-dirs=3 --content-disposition https://demo.dataverse.org/api/datasets/:persistentId/dirindex?persistentId=doi:10.70122/FK2/92XEEU</code></p>\n<p>Am I missing an option? </p>\n<p>Thanks.</p>",
        "id": 453510488,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1721764885
    },
    {
        "content": "<p>I'm pretty sure it's a known issue:</p>\n<p>wget command to download all files in a dataset not preserving file hierarchy <a href=\"https://github.com/IQSS/dataverse/issues/8836\">#8836</a></p>",
        "id": 453511354,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1721765139
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> I didn't look that far down in issues - that is from 2022.</p>\n<p>It doesn't work on demo.dataverse either.... is that local or S3.<br>\nDoesn't work on our S3 box at UVa.</p>",
        "id": 453512324,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1721765428
    },
    {
        "content": "<p>Oh, I thought it didn't work at all. Are we thinking it might work for non-S3?</p>",
        "id": 453513170,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1721765663
    },
    {
        "content": "<p>I think demo is a mix of S3 and local (per collection) but I'm not sure.</p>",
        "id": 453513236,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1721765688
    },
    {
        "content": "<p>Meghan's \"Other notes\" seems to imply it does work on \"local\", but not sure what \"S3 emulation\" means, this was in V5.8.3:</p>\n<blockquote>\n<p>Based on our testing, we are wondering if this is related to the file system. When using a local machine with a standard file system, the command seems to work. Borealis uses S3 emulation.</p>\n</blockquote>",
        "id": 453514205,
        "sender_full_name": "Sherry Lake",
        "timestamp": 1721765882
    },
    {
        "content": "<p>Oh, I see. Good reading comprehension. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span> I missed that.</p>",
        "id": 453515869,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1721766223
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599826\">Sherry Lake</span> has marked this topic as resolved.</p>",
        "id": 454294399,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721998816
    }
]