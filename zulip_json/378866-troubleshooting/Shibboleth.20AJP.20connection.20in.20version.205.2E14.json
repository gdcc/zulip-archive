[
    {
        "content": "<p>Hello everyone,<br>\nDuring the process of updating <a href=\"http://dataverse.no\">dataverse.no</a> from 5.13 to 5.14 we have a question about AJP connection in version 5.14.<br>\nWe are using Shibboleth as described in the documentation[Shibboleth â€” Dataverse.org]. (ajp on port 8009) However, the Shibboleth proxy gets the following error message.<br>\nThe timeout specified has expired: [client ...:38708] AH00878: read response failed from ...:8009 (dataverse)</p>\n<p>The website on port 8080 works. My question is, how can I get the ajp to work in this version 5.14 dataverse.<br>\nHas anything changed in the ajp connection?<br>\nThank you in advance for your time.</p>",
        "id": 425518682,
        "sender_full_name": "LoÃ¯c",
        "timestamp": 1709904504
    },
    {
        "content": "<p>Hmm, I'm not aware of anything changing <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 425519109,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709904646
    },
    {
        "content": "<p>I have updated the whole thing from 5.13 to 5.14 and then the communication does not work. If we go back from 5.14 to 5.13 ajp works. So there is a change in the setting of ajp. Has anyone tested ajp in version 5.14 with a proxy?</p>",
        "id": 425522727,
        "sender_full_name": "Benedikt",
        "timestamp": 1709905975
    },
    {
        "content": "<p>At Harvard Dataverse we use Apache as a proxy. I assume you're using mod_shib and Apache. Are you also using an additional proxy? If so, which one?</p>",
        "id": 425524451,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709906539
    },
    {
        "content": "<p>Yes,</p>\n<div class=\"codehilite\"><pre><span></span><code>...\nProxyPass &quot;/&quot; &quot;ajp://dataverse:8009/&quot; timeout=600\nProxyPassReverse &quot;/&quot; &quot;ajp://dataverse:8009/&quot; timeout=600\n...\n</code></pre></div>\n<p>I have not changed the Shib Proxy server and version 5.13 works and the other version 5.14 does not work.</p>",
        "id": 425525941,
        "sender_full_name": "Benedikt",
        "timestamp": 1709907025
    },
    {
        "content": "<p>How can I see what is working on ajp? I have no idea how to debug this service.</p>",
        "id": 425526559,
        "sender_full_name": "Benedikt",
        "timestamp": 1709907213
    },
    {
        "content": "<p>We use the same. (Apache and mod_shib.)</p>",
        "id": 425528069,
        "sender_full_name": "Benedikt",
        "timestamp": 1709907729
    },
    {
        "content": "<p>The main issue we are are having is that payara dose not seams to be answering on the ajp protocol in V5.14.</p>",
        "id": 425531091,
        "sender_full_name": "LoÃ¯c",
        "timestamp": 1709908720
    },
    {
        "content": "<p>It's very strange. Are you using the version of Payara mentioned in the Dataverse 5.14 Installation Guide?</p>",
        "id": 425539808,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709911405
    },
    {
        "content": "<p>we are using :<br>\nVersion = Payara Server  5.2022.5 #badassfish (build 492)<br>\nThis should be the latest compatible version.</p>",
        "id": 425549261,
        "sender_full_name": "LoÃ¯c",
        "timestamp": 1709914651
    },
    {
        "content": "<p>At <a href=\"https://guides.dataverse.org/en/5.14/installation/prerequisites.html#payara\">https://guides.dataverse.org/en/5.14/installation/prerequisites.html#payara</a> I see \"Payara 5.2022.3 is recommended.\" Would you be able to try that version?</p>",
        "id": 425556652,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709917115
    },
    {
        "content": "<p>Thank you very much! That was the problem. <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 425871617,
        "sender_full_name": "Benedikt",
        "timestamp": 1710150494
    }
]