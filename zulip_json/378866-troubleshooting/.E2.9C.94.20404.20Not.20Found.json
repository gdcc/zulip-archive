[
    {
        "content": "<p>I installed dataverse in my MacBook M1. When I head to <a href=\"http://localhost:8080\">http://localhost:8080</a> I see \"Page Not Found - The page you are looking for was not found.\"</p>\n<p>I looked at the /usr/local/payara6/glassfish/domains/domain1/logs/server.log and saw this log:</p>\n<p>jakarta.ejb.EJBException: getSingleResult() did not retrieve any entities.<br>\n    at com.sun.ejb.containers.EJBContainerTransactionManager.processSystemException(EJBContainerTransactionManager.java:723)<br>\n    at com.sun.ejb.containers.EJBContainerTransactionManager.completeNewTx(EJBContainerTransactionManager.java:652)<br>\n    at com.sun.ejb.containers.EJBContainerTransactionManager.postInvokeTx(EJBContainerTransactionManager.java:482)<br>\n    at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4601)...</p>",
        "id": 425536267,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1709910292
    },
    {
        "content": "<p>On your MacBook? Which guide were you following?</p>",
        "id": 425539518,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709911307
    },
    {
        "content": "<p><a href=\"https://guides.dataverse.org/en/latest/installation/installation-main.html\">https://guides.dataverse.org/en/latest/installation/installation-main.html</a></p>",
        "id": 425540083,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1709911496
    },
    {
        "content": "<p>The following is the installation process:</p>\n<p>mohsen@Mohsens-Air dvinstall % sudo python3 install.py</p>\n<p>This appears to be a MacOS X system; good.</p>\n<p>####################################################################<br>\n     It is recommended that this script not be run as root.<br>\n Consider creating the service account \"dataverse\", giving it ownership<br>\n  on the glassfish/domains/domain1/ and glassfish/lib/ directories,<br>\n    along with the JVM-specified files.dir location, and designate<br>\n    that account to launch and run the Application Server (Payara),<br>\n           AND use that user account to run this installer.<br>\n####################################################################</p>\n<p>hit return to continue (or ctrl-C to exit the installer)<br>\nChecking for required components...<br>\ndataverse.war available to deploy. Good.<br>\nChecking if jq is available...<br>\njq-1.7.1<br>\ngood!<br>\nFound java version java version \"17.0.3.1\" 2022-04-22 LTS<br>\nJava(TM) SE Runtime Environment (build 17.0.3.1+2-LTS-6)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.3.1+2-LTS-6, mixed mode, sharing)</p>\n<p>Welcome to the Dataverse installer.</p>\n<p>You will be guided through the process of setting up a NEW<br>\ninstance of the dataverse application<br>\nPlease enter the following configuration values:<br>\n(hit [RETURN] to accept the default value)<br>\nFully Qualified Domain Name of your host:(enter numeric IP address, if FQDN is unavailable)[Mohsens-Air] localhost<br>\nPayara service account username:This user will be running the App. Server (Payara) service on your system.</p>\n<ul>\n<li>If this is a dev. environment, this should be your own username; </li>\n<li>\n<p>In production, we suggest you create the account \"dataverse\", or use any other unprivileged user account<br>\n:[root] <br>\nApp. Server (Payara) Directory: [/usr/local/payara6] <br>\nPayara download timeout:<br>\n Defaults to 1800 seconds (30 minutes)[1800] <br>\nPostgres Server Address: [localhost] <br>\nPostgres Server Port: [5432] <br>\nName of the Postgres Database: [dvndb] <br>\nName of the Postgres User:</p>\n</li>\n<li>\n<p>This is the Postgres user that the Dataverse app will be using to talk to the database<br>\n:[dvnapp] <br>\nPostgres user password: [secret] <br>\nPostgres ADMIN password:</p>\n</li>\n<li>\n<p>We will need this to create the user and database that the Dataverse application will be using.<br>\n (Hit RETURN if access control is set to \"trust\" for this connection in pg_hba.conf)<br>\n:[secret] <br>\nRserve Server: [localhost] <br>\nRserve Server Port: [6311] <br>\nRserve User Name: [rserve] <br>\nRserve User Password: [rserve] <br>\nAdministrator email address for this Dataverse:<br>\n(please enter a valid email address!)[] <a href=\"mailto:mj@google.com\">mj@google.com</a><br>\nSMTP (mail) server (and port) to relay notification messages: [localhost] <br>\nRemote SOLR indexing service? </p>\n</li>\n<li>\n<p>Leave this set to \"LOCAL\" if the SOLR will be running on the same (this) server.<br>\n Otherwise, please enter the host AND THE PORT NUMBER of the remote SOLR service, colon-separated<br>\n (for example: foo.edu:8983)<br>\n:[LOCAL] <br>\nDatacite usernameDataCite or EZID username. Only necessary for publishing / minting DOIs.[dataciteuser] <br>\nDatacite passwordDataCite or EZID account password.[datacitepassword] <br>\nDatacite URLDataCite or EZID URL. Probably https://mds.datacite.org[https://mds.test.datacite.org] <br>\nDatacite REST API URLDataCite REST API URL (Make Data Count, /pids API). Probably https://api.datacite.org[https://api.test.datacite.org] <br>\nOK, please confirm what you've entered:<br>\nFully Qualified Domain Name of your host: localhost<br>\nPayara service account username: root<br>\nApp. Server (Payara) Directory: /usr/local/payara6<br>\nPayara download timeout: 1800<br>\nPostgres Server Address: localhost<br>\nPostgres Server Port: 5432<br>\nName of the Postgres Database: dvndb<br>\nName of the Postgres User: dvnapp<br>\nPostgres user password: secret<br>\nPostgres ADMIN password: secret<br>\nRserve Server: localhost<br>\nRserve Server Port: 6311<br>\nRserve User Name: rserve<br>\nRserve User Password: rserve<br>\nAdministrator email address for this Dataverse: <a href=\"mailto:mj@google.com\">mj@google.com</a><br>\nSMTP (mail) server (and port) to relay notification messages: localhost<br>\nRemote SOLR indexing service: LOCAL<br>\nDatacite username: dataciteuser<br>\nDatacite password: datacitepassword<br>\nDatacite URL: <a href=\"https://mds.test.datacite.org\">https://mds.test.datacite.org</a><br>\nDatacite REST API URL: <a href=\"https://api.test.datacite.org\">https://api.test.datacite.org</a><br>\nIs this correct? [y/n] y<br>\nperforming database setup<br>\ndbname='postgres' user='postgres' password='secret' host='localhost'<br>\nAdmin database connectivity succeeds.<br>\nPostgreSQL version: 13<br>\nDatabase and role created!<br>\nSetting App. Server heap size (Xmx) to 4096 Megabytes<br>\nusing payara/glassfish client file: /var/root/.gfclient/pass<br>\nPayara admin credentials written to /var/root/.gfclient/pass.<br>\nLooks like Payara isn't running. Attempting to start it...<br>\nWaiting for domain1 to start ............<br>\nSuccessfully started the domain : domain1<br>\ndomain  Location: /usr/local/payara6/glassfish/domains/domain1<br>\nLog File: /usr/local/payara6/glassfish/domains/domain1/logs/server.log<br>\nAdmin Port: 4848<br>\nCommand start-domain executed successfully.<br>\nChecking to be sure domain1 is running.<br>\nEnter admin user name [Enter to accept default]&gt; <br>\nLogin information relevant to admin user name [admin] for host [localhost] and admin port [4848] stored at [/var/root/.gfclient/pass] successfully.<br>\nMake sure that this file remains protected. Information stored in this file will be used by administration commands to manage associated domain.<br>\nCommand login executed successfully.<br>\nNote: some asadmin commands will fail, and that's ok. Existing settings can't be created; new settings can't be cleared beforehand.<br>\nrunning app. server configuration script (<a href=\"http://as-setup.sh\">as-setup.sh</a>)<br>\nchecking glassfish root:/usr/local/payara6<br>\nchecking glassfish domain:/usr/local/payara6/glassfish/domains/domain1<br>\nSetting up your app. server (Payara) to support Dataverse<br>\nPayara directory: /usr/local/payara6<br>\nDomain directory:    /usr/local/payara6/glassfish/domains/domain1<br>\n/usr/local/payara6/bin /private/tmp/dvinstall<br>\ndomain running<br>\nremote failure: Application dataverse is not deployed on this target [server]<br>\nCommand undeploy failed.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCommand create-password-alias executed successfully.<br>\nCommand create-password-alias executed successfully.<br>\nCommand create-password-alias executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nserver-config.network-config.protocols.protocol.http-listener-1.http.comet-support-enabled=true<br>\nCommand set executed successfully.<br>\nserver-config.network-config.protocols.protocol.http-listener-1.http.request-timeout-seconds=1800<br>\nCommand set executed successfully.<br>\nCommand create-network-listener executed successfully.<br>\nDeleted 1 option(s)<br>\nCommand delete-jvm-options executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nCommand create-system-properties executed successfully.<br>\nCommand create-system-properties executed successfully.<br>\nCommand create-system-properties executed successfully.<br>\nCommand create-system-properties executed successfully.<br>\nCreated 1 option(s)<br>\nCommand create-jvm-options executed successfully.<br>\nremote failure: A Mail resource named mail/notifyMailSession does not exist.<br>\nCommand delete-javamail-resource failed.<br>\nMail Resource mail/notifyMailSession created.<br>\nCommand create-javamail-resource executed successfully.<br>\nUpdates done. Restarting...<br>\nWaiting for the domain to stop .<br>\nCommand stop-domain executed successfully.<br>\nWaiting for domain1 to start .............<br>\nSuccessfully started the domain : domain1<br>\ndomain  Location: /usr/local/payara6/glassfish/domains/domain1<br>\nLog File: /usr/local/payara6/glassfish/domains/domain1/logs/server.log<br>\nAdmin Port: 4848<br>\nCommand start-domain executed successfully.<br>\n/private/tmp/dvinstall<br>\nPayara setup complete<br>\nFri Mar  8 14:36:51 CET 2024<br>\nInstalling additional configuration files (Jhove)... <br>\ndone.<br>\nDeploying the application (dataverse.war)<br>\nPER01003: Deployment encountered SQL Exceptions:<br>\n    PER01000: Got SQLException executing statement \"ALTER TABLE fileaccessrequests ADD CONSTRAINT FK_fileaccessrequests_DATAFILE_ID FOREIGN KEY (DATAFILE_ID) REFERENCES DVOBJECT (ID)\": org.postgresql.util.PSQLException: ERROR: constraint \"fk_fileaccessrequests_datafile_id\" for relation \"fileaccessrequests\" already exists<br>\nCommand deploy completed with warnings.<br>\nRunning post-deployment setup script (<a href=\"http://setup-all.sh\">setup-all.sh</a>)<br>\nconfiguring system email address...<br>\n&lt;html&gt;<br>\n&lt;head&gt;&lt;title&gt;405 Not Allowed&lt;/title&gt;&lt;/head&gt;<br>\n&lt;body&gt;<br>\n&lt;center&gt;&lt;h1&gt;405 Not Allowed&lt;/h1&gt;&lt;/center&gt;<br>\n&lt;hr&gt;&lt;center&gt;nginx/1.25.3&lt;/center&gt;<br>\n&lt;/body&gt;<br>\n&lt;/html&gt;<br>\ndone.<br>\nYou should now have a running Dataverse instance at<br>\n<a href=\"http://localhost:8080\">http://localhost:8080</a></p>\n</li>\n</ul>",
        "id": 425543413,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1709912537
    },
    {
        "content": "<p>Yikes. Do you use Docker? Would you like to try this new tutorial? <a href=\"https://preview.guides.gdcc.io/en/develop/container/running/demo.html\">https://preview.guides.gdcc.io/en/develop/container/running/demo.html</a></p>",
        "id": 425556985,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709917218
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/404.20Not.20Found/near/425556985\">said</a>:</p>\n<blockquote>\n<p>Yikes. Do you use Docker? Would you like to try this new tutorial? <a href=\"https://preview.guides.gdcc.io/en/develop/container/running/demo.html\">https://preview.guides.gdcc.io/en/develop/container/running/demo.html</a></p>\n</blockquote>\n<p>I will try and let you know about the result.</p>",
        "id": 425773409,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1710077256
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"698782\">Mohsen Jafari</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/404.20Not.20Found/near/425773409\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/404.20Not.20Found/near/425556985\">said</a>:</p>\n<blockquote>\n<p>Yikes. Do you use Docker? Would you like to try this new tutorial? <a href=\"https://preview.guides.gdcc.io/en/develop/container/running/demo.html\">https://preview.guides.gdcc.io/en/develop/container/running/demo.html</a></p>\n</blockquote>\n<p>I will try and let you know about the result.</p>\n</blockquote>\n<p>I have used the docker version and it worked. Thanks. One question: Is it okay to use the dockerized version in a real production environment?</p>",
        "id": 425852203,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1710143712
    },
    {
        "content": "<p>Hmm, that's a good question. It's probably ok, especially if you create a more secure \"demo\" persona as explained in that tutorial. We could start a new topic about this under <a class=\"stream\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers\">#containers</a> if you like, to get others' opinions.</p>",
        "id": 425886277,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1710155702
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/378866-troubleshooting/topic/404.20Not.20Found/near/425886277\">said</a>:</p>\n<blockquote>\n<p>Hmm, that's a good question. It's probably ok, especially if you create a more secure \"demo\" persona as explained in that tutorial. We could start a new topic about this under <a class=\"stream\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers\">#containers</a> if you like, to get others' opinions.</p>\n</blockquote>\n<p>Others' opinions could be precious, too.</p>",
        "id": 425889319,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1710156915
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"698782\">Mohsen Jafari</span> has marked this topic as resolved.</p>",
        "id": 425889350,
        "sender_full_name": "Notification Bot",
        "timestamp": 1710156925
    }
]