[
    {
        "content": "<p>Hello, I tried to update my Dataverse to Version 5.3. I followed the instructions as described to update Payara to Payara 5.2020.6 including the replacement of domain1 folder. But when starting Payara I will get the following errors:</p>\n<p>Caused by: A MultiException has 2 exceptions.  They are:<br>\nDez 11 14:52:42 dataverse java[831]: 1. com.sun.enterprise.module.ResolveError: Failed to start OSGiModuleImpl:: Bundle = [fish.payara.server.internal.payara-appserver-modules.mic&gt;<br>\nDez 11 14:52:42 dataverse java[831]: 2. java.lang.IllegalStateException: Could not load descriptor SystemDescriptor(<br>\nDez 11 14:52:42 dataverse java[831]:         implementation=fish.payara.microprofile.config.extensions.aws.AWSSecretsConfigSourceConfigurationInjector<br>\nDez 11 14:52:42 dataverse java[831]:         name=aws-secrets-config-source-configuration<br>\nDez 11 14:52:42 dataverse java[831]:         contracts={fish.payara.microprofile.config.extensions.aws.AWSSecretsConfigSourceConfigurationInjector,org.jvnet.hk2.config.ConfigInjec&gt;<br>\nDez 11 14:52:42 dataverse java[831]:         scope=javax.inject.Singleton<br>\nDez 11 14:52:42 dataverse java[831]:         qualifiers={org.jvnet.hk2.config.InjectionTarget}<br>\nDez 11 14:52:42 dataverse java[831]:         descriptorType=CLASS<br>\nDez 11 14:52:42 dataverse java[831]:         descriptorVisibility=NORMAL<br>\nDez 11 14:52:42 dataverse java[831]:         metadata=@region-name={required,datatype\\:java.lang.String,leaf},@secret-name={required,datatype\\:java.lang.String,leaf},@enabled={opt&gt;<br>\nDez 11 14:52:42 dataverse java[831]:         rank=0<br>\nDez 11 14:52:42 dataverse java[831]:         loader=OsgiPopulatorPostProcessor.HK2Loader(OSGiModuleImpl:: Bundle = [fish.payara.server.internal.payara-appserver-modules.microprofi&gt;<br>\nDez 11 14:52:42 dataverse java[831]:         proxiable=null</p>\n<p>Any advice?</p>",
        "id": 407247426,
        "sender_full_name": "Lennard Golsch",
        "timestamp": 1702303677
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"673752\">@Lennard Golsch</span> yikes, I'm not sure. I don't think I've seen this. Can you please email <a href=\"mailto:support@dataverse.org\">support@dataverse.org</a> and let us know the ticket number?</p>",
        "id": 407248600,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702304013
    },
    {
        "content": "<p>Judging from <a href=\"https://github.com/IQSS/dataverse/releases/tag/v5.3\">https://github.com/IQSS/dataverse/releases/tag/v5.3</a> you're using the exact version of Payara mentioned there, which is probably good.</p>",
        "id": 407248908,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702304097
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span>, yes I am trying to use Payara 5.2020.6. Backing und Restoring Domain1 doesn't work to...</p>",
        "id": 407250130,
        "sender_full_name": "Lennard Golsch",
        "timestamp": 1702304449
    },
    {
        "content": "<p>[2023-12-11T15:17:49.647+0100] [Payara 5.2020.6] [WARNING] [NCLS-MON-00506] [javax.enterprise.system.tools.monitor] [tid: _ThreadID=22 _ThreadName=RunLevelControllerThread-1702304219180] [timeMillis: 1702304269647] [levelValue: 900] [[<br>\n  Error unregistering ProbeProvider<br>\njava.lang.NullPointerException<br>\n        at org.glassfish.flashlight.impl.provider.FlashlightProbeProviderFactory.unregisterProbeProvider(FlashlightProbeProviderFactory.java:377)<br>\n        at com.sun.ejb.containers.util.pool.AbstractPool.unregisterProbeProvider(AbstractPool.java:268)<br>\n        at com.sun.ejb.containers.util.pool.NonBlockingPool.close(NonBlockingPool.java:405)<br>\n        at com.sun.ejb.containers.StatelessSessionContainer.doConcreteContainerShutdown(StatelessSessionContainer.java:633)<br>\n        at com.sun.ejb.containers.BaseContainer.onShutdown(BaseContainer.java:4311)<br>\n        at org.glassfish.ejb.startup.EjbApplication.stop(EjbApplication.java:313)<br>\n        at org.glassfish.internal.data.EngineRef.stop(EngineRef.java:162)<br>\n        at com.sun.enterprise.v3.server.ApplicationLifecycle$3.actOn(ApplicationLifecycle.java:304)<br>\n        at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:629)<br>\n        at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:332)<br>\n        at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)<br>\n        at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)<br>\n        at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)<br>\n        at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)<br>\n        at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)<br>\n        at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)<br>\n        at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)<br>\n        at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)<br>\n        at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)<br>\n        at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)<br>\n        at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpOneLevel.run(CurrentTaskFuture.java:762)<br>\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)<br>\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)<br>\n        at java.base/java.lang.Thread.run(Thread.java:829)<br>\n]]</p>",
        "id": 407250460,
        "sender_full_name": "Lennard Golsch",
        "timestamp": 1702304539
    },
    {
        "content": "<p>Another try brings me to:<br>\n[2023-12-11T15:27:20.561+0100] [Payara 5.2020.6] [SEVERE] [] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=79 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1702304840561] [levelValue: 1000] [[<br>\n  RAR5099 : Wrong class name or classpath for Datasource Object<br>\njava.lang.ClassNotFoundException: org.postgresql.ds.PGPoolingDataSource<br>\n        at com.sun.enterprise.v3.server.APIClassLoaderServiceImpl$APIClassLoader.loadClass(APIClassLoaderServiceImpl.java:245)<br>\n        at com.sun.enterprise.v3.server.APIClassLoaderServiceImpl$APIClassLoader.loadClass(APIClassLoaderServiceImpl.java:237)<br>\n        at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:98)<br>\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)<br>\n        at java.base/java.lang.Class.forName0(Native Method)<br>\n        at java.base/java.lang.Class.forName(Class.java:398)<br>\n        at com.sun.gjc.common.DataSourceObjectBuilder.getDataSourceObject(DataSourceObjectBuilder.java:264)<br>\n        at com.sun.gjc.common.DataSourceObjectBuilder.constructDataSourceObject(DataSourceObjectBuilder.java:110)<br>\n        at com.sun.gjc.spi.ManagedConnectionFactoryImpl.getDataSource(ManagedConnectionFactoryImpl.java:1384)<br>\n        at com.sun.gjc.spi.DSManagedConnectionFactory.getDataSource(DSManagedConnectionFactory.java:166)<br>\n        at com.sun.gjc.spi.DSManagedConnectionFactory.crea</p>",
        "id": 407251711,
        "sender_full_name": "Lennard Golsch",
        "timestamp": 1702304915
    },
    {
        "content": "<p>Ok...</p>\n<ol>\n<li>create backup</li>\n<li>install Payara 2020.06</li>\n<li>restore backup</li>\n<li>install postgres jbdc</li>\n<li>deploy dataverse-5.2</li>\n</ol>\n<p>now it works</p>",
        "id": 407252814,
        "sender_full_name": "Lennard Golsch",
        "timestamp": 1702305276
    },
    {
        "content": "<p>Wait, you just fixed it?</p>",
        "id": 407252929,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702305323
    },
    {
        "content": "<p>I'm confused because your step 5 says Dataverse 5.2 but I thought you wanted to go to 5.3.</p>",
        "id": 407253018,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702305361
    },
    {
        "content": "<p>Yes, I fixt it. I have followed the recommendation to try the deployment of Dataverse 5.2 first to test the Payara environment. Then I upgraded to Dataverse 5.3</p>",
        "id": 407267297,
        "sender_full_name": "Lennard Golsch",
        "timestamp": 1702309427
    },
    {
        "content": "<p>Fantastic! Good job! <img alt=\":dataverse_man:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/44207.png\" title=\"dataverse man\"></p>",
        "id": 407267545,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702309499
    }
]