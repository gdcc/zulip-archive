[
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin ğŸ‰</span> , we are having similar issue but with old handles. I came here to start a new topic but found this similar one. We were using handles in v3 and have quite a number of datasets from back then. Recently our users having issues while publishing a new version of dataset with handles. <br>\nI am assuming it broke after 6.2 implementation of multiple PID providers. We have only one legacy PID provider defined and I am thinking dataset with handles is also trying to update DOI!</p>",
        "id": 471334954,
        "sender_full_name": "Bikram",
        "timestamp": 1726688444
    },
    {
        "content": "<p>Sounds like a possibility. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 471335034,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726688486
    },
    {
        "content": "<p>Do you know how to fix that? <span aria-label=\"smiling face with tear\" class=\"emoji emoji-1f972\" role=\"img\" title=\"smiling face with tear\">:smiling_face_with_tear:</span></p>",
        "id": 471337530,
        "sender_full_name": "Bikram",
        "timestamp": 1726689308
    },
    {
        "content": "<p>I am thinking I would need to define a hdl PID provider which I wasnâ€™t looking forward to <span aria-label=\"exhausted\" class=\"emoji emoji-1f625\" role=\"img\" title=\"exhausted\">:exhausted:</span></p>",
        "id": 471337665,
        "sender_full_name": "Bikram",
        "timestamp": 1726689355
    },
    {
        "content": "<p>I have created this issue <a href=\"https://github.com/IQSS/dataverse/issues/10860\">https://github.com/IQSS/dataverse/issues/10860</a></p>",
        "id": 471339689,
        "sender_full_name": "Bikram",
        "timestamp": 1726690103
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"719882\">@Bikram</span> I'm confused. How did it work before? And should we move these messages to a new topic?</p>",
        "id": 471340060,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726690242
    },
    {
        "content": "<p>Moving conversation about issue <a href=\"https://github.com/IQSS/dataverse/issues/10860\">https://github.com/IQSS/dataverse/issues/10860</a> here</p>",
        "id": 471340495,
        "sender_full_name": "Bikram",
        "timestamp": 1726690401
    },
    {
        "content": "<p>So the thing I'm wondering about is how you were able to republish datasets with Handles before 6.2. Only a single PID provider was supported back then.</p>",
        "id": 471341139,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726690647
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin ğŸ‰</span> barely anyone Publish a new version of old Dataset with handle but it was working in past versions of DV.</p>",
        "id": 471341190,
        "sender_full_name": "Bikram",
        "timestamp": 1726690670
    },
    {
        "content": "<p>I think the update metadata was silently failing in logs only and it was not restricting the Publish</p>",
        "id": 471341337,
        "sender_full_name": "Bikram",
        "timestamp": 1726690719
    },
    {
        "content": "<p>Interesting. So perhaps the Dataverse UI was showing \"Published!\" but nothing was actually happening in terms of any Handle server getting updated.</p>",
        "id": 471341441,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726690777
    },
    {
        "content": "<p>Are you running a Handle server? Do you have all the infra set up? I've never run it myself.</p>",
        "id": 471341608,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726690836
    },
    {
        "content": "<p>exactly, it was being marked as published. We never had handle server's configuration setup in DV4, infact it was not even supported initialy</p>",
        "id": 471341698,
        "sender_full_name": "Bikram",
        "timestamp": 1726690871
    },
    {
        "content": "<p>ok</p>",
        "id": 471341748,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726690894
    },
    {
        "content": "<p>So you want it to work the way it used to? Kinda broken and weird? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 471341782,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726690913
    },
    {
        "content": "<p>we have a handle server running but only like in Read-only mode, it just resolve the old handles. We migrated any unpublished handles to DOIs couple of years ago</p>",
        "id": 471341830,
        "sender_full_name": "Bikram",
        "timestamp": 1726690923
    },
    {
        "content": "<p>haha exactly! <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> <br>\nI can try setting up additional hdl PID provider in DV but we don't want to use it for any new dataset and don't even want to display that option anywhere</p>",
        "id": 471342055,
        "sender_full_name": "Bikram",
        "timestamp": 1726691014
    },
    {
        "content": "<p>One possible solution would be to mint DOIs for those datasets that have Handles. That's what we did at Harvard Dataverse.</p>",
        "id": 471342530,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726691194
    },
    {
        "content": "<p>I wrote about this recently: <a href=\"https://groups.google.com/g/dataverse-community/c/bEz9uWXIjss/m/GOfbjsazAAAJ\">https://groups.google.com/g/dataverse-community/c/bEz9uWXIjss/m/GOfbjsazAAAJ</a></p>",
        "id": 471342664,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726691247
    },
    {
        "content": "<p><a href=\"https://guides.dataverse.org/en/6.3/admin/dataverses-datasets.html#mint-a-new-doi-for-a-dataset-with-a-handle\">https://guides.dataverse.org/en/6.3/admin/dataverses-datasets.html#mint-a-new-doi-for-a-dataset-with-a-handle</a></p>",
        "id": 471342710,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726691265
    },
    {
        "content": "<p>woww thats interesting, so that handle will still resolve but to new DOI URL!?</p>",
        "id": 471343136,
        "sender_full_name": "Bikram",
        "timestamp": 1726691433
    },
    {
        "content": "<p>Yep. You point the Handle at the DOI.</p>",
        "id": 471343863,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726691753
    },
    {
        "content": "<p>And URLs like <a href=\"https://dataverse.harvard.edu/dataset.xhtml?persistentId=hdl:1902.1/10038\">https://dataverse.harvard.edu/dataset.xhtml?persistentId=hdl:1902.1/10038</a> will go to the right dataset.</p>",
        "id": 471343961,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726691784
    },
    {
        "content": "<p>I ll need to manually change hdl records to point to new URL right? As we don't have DV connection to hdl server</p>",
        "id": 471344064,
        "sender_full_name": "Bikram",
        "timestamp": 1726691832
    },
    {
        "content": "<p>Right, hopefully there's an API or something.</p>",
        "id": 471344337,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726691928
    },
    {
        "content": "<p>yea there are commands, we have done that in past <br>\nSo issue resolved I guess. <br>\nI ll talk to team to migrate all hdl datasets to DOIs</p>",
        "id": 471344450,
        "sender_full_name": "Bikram",
        "timestamp": 1726691975
    },
    {
        "content": "<p>Ok. I didn't do the migration myself. Others here know more. I don't think it was too bad.</p>",
        "id": 471345502,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726692390
    },
    {
        "content": "<p>Looks like it should be straight forward, I ll update here</p>",
        "id": 471345865,
        "sender_full_name": "Bikram",
        "timestamp": 1726692543
    },
    {
        "content": "<p>sounds good</p>",
        "id": 471346756,
        "sender_full_name": "Philip Durbin ğŸš€",
        "timestamp": 1726692868
    }
]