[
    {
        "content": "<p>I'm experimenting with Migration API to import data from our legacy repository system. My goal is to create JSON-LD metadata which is compatible with Dataset Migration API in 6.5. </p>\n<p>To test the API, I exported some metadata records out of my 6.5 test installation in OAI-ORE format, as instructed in Migration API documents, made some trivial modifications to metadata and tried to re-import metadata using Migration API. </p>\n<p>However, I get a 400 bad request error when reimporting the data, Dataverse complaining about:<br>\nThe API request cannot be completed with the parameters supplied. Details: Compound field values must be JSON objects, field: author </p>\n<p>The example file I loaded from Migration API documentation imports fine.</p>",
        "id": 494778081,
        "sender_full_name": "mjlassila",
        "timestamp": 1737370413
    },
    {
        "content": "<p>How is your JSON-LD file different from the example file? Can you share it with us?</p>",
        "id": 495032641,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1737461183
    },
    {
        "content": "<p>At first I tried a file which I exported from Dataverse 6.5 using OAI-ORE export format because I supposed that exported JSONLD works directly with Dataset Migration API. </p>\n<p>It didn't work out but by trial and error I managed to modify the example file to include additional information our use case requires (eg. geospatial metadata). My exported file from 6.5 and modified, functional import file based on example file are here: <a href=\"https://gist.github.com/mjlassila/ecdbd11447ccdf87995db20bfc5e686c\">https://gist.github.com/mjlassila/ecdbd11447ccdf87995db20bfc5e686c</a></p>",
        "id": 495048899,
        "sender_full_name": "mjlassila",
        "timestamp": 1737466236
    },
    {
        "content": "<p>Ah, great, so you got it working.</p>",
        "id": 495059127,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1737468637
    },
    {
        "content": "<p>Yep, it works now as intended. </p>\n<p>Perhaps  it would be useful add to  Dataset Migration API documentation that exported OAI-ORE data is not directly compatible with the API? </p>\n<p>In case anyone other than us uses BaseX and XQuery for data wrangling, here is a snippet of XQuery for generating JSON-LD compatible with the Dataset Migration API. <a href=\"https://gist.github.com/mjlassila/ecdbd11447ccdf87995db20bfc5e686c\">https://gist.github.com/mjlassila/ecdbd11447ccdf87995db20bfc5e686c</a></p>",
        "id": 495233552,
        "sender_full_name": "mjlassila",
        "timestamp": 1737537683
    },
    {
        "content": "<p>Yes! Are you interested in making a pull request?</p>",
        "id": 495270870,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1737548750
    },
    {
        "content": "<p>I can try <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> Is the documentation source in the  Dataverse Github repo current or is there a separate repository for documentation?</p>",
        "id": 495648289,
        "sender_full_name": "mjlassila",
        "timestamp": 1737702983
    },
    {
        "content": "<p>Same repo. Here's the file: <a href=\"https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/developers/dataset-migration-api.rst\">https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/developers/dataset-migration-api.rst</a></p>",
        "id": 495701998,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1737721412
    },
    {
        "content": "<p>This might help as well: <a href=\"https://guides.dataverse.org/en/6.5/contributor/documentation.html\">https://guides.dataverse.org/en/6.5/contributor/documentation.html</a></p>",
        "id": 495702062,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1737721438
    },
    {
        "content": "<p>Even if you just write Markdown I'm happy to convert it to rst for you.</p>",
        "id": 495702172,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1737721463
    },
    {
        "content": "<p>Hopefully I got it right:  <a href=\"https://github.com/IQSS/dataverse/pull/11192\">https://github.com/IQSS/dataverse/pull/11192</a></p>",
        "id": 496287056,
        "sender_full_name": "mjlassila",
        "timestamp": 1738055173
    },
    {
        "content": "<p>Thanks for the PR!</p>\n<p><code>make html</code> works fine. You can preview the changes at <a href=\"https://dataverse-guide--11192.org.readthedocs.build/en/11192/developers/dataset-migration-api.html\">https://dataverse-guide--11192.org.readthedocs.build/en/11192/developers/dataset-migration-api.html</a></p>\n<p>I added that link to your PR description.</p>",
        "id": 496325579,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1738068069
    },
    {
        "content": "<p>As to the actual content, it looks like Jim (qqmyers) has some feedback for you.</p>",
        "id": 496325638,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1738068092
    },
    {
        "content": "<p>I'm surprised that siteUrl is needed but Jim would know better than I would.</p>",
        "id": 496325760,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1738068128
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"713909\">@mjlassila</span> merged! Thanks!</p>",
        "id": 497517069,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1738611305
    }
]