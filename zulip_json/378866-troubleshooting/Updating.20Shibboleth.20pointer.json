[
    {
        "content": "<p>Our institution is updating its Shibboleth servers and requiring us to point to their new server. The issue I'm encountering involves it now asking existing users to create a new account, which then leads to an error message when they attempt to do so:</p>\n<p>\"Error â€“ Couldn't create user. If you believe this is an error, please contact....\"<br>\n<a href=\"/user_uploads/53090/_f44GzxJuHWXJQ3ttYcUWDum/Screenshot-from-2024-03-28-14-20-44.png\">Screenshot-from-2024-03-28-14-20-44.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/_f44GzxJuHWXJQ3ttYcUWDum/Screenshot-from-2024-03-28-14-20-44.png\" title=\"Screenshot-from-2024-03-28-14-20-44.png\"><img src=\"/user_uploads/53090/_f44GzxJuHWXJQ3ttYcUWDum/Screenshot-from-2024-03-28-14-20-44.png\"></a></div><p>This outcome seems logical since the user already exists.</p>\n<p>I suspect the problem may lie with the \"persistentUserId\" that contains the old Shibboleth URL along with the user's email address. Is there a method to correct or update this?</p>",
        "id": 430139303,
        "sender_full_name": "Don Richards",
        "timestamp": 1711650274
    },
    {
        "content": "<p>Yes, but you have to hack on the database.</p>",
        "id": 430145660,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711652556
    },
    {
        "content": "<p>Please look at the persistentuserid column in the authenticateduserlookup table: <a href=\"https://guides.dataverse.org/en/5.14/schemaspy/tables/authenticateduserlookup.html\">https://guides.dataverse.org/en/5.14/schemaspy/tables/authenticateduserlookup.html</a></p>",
        "id": 430145790,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711652615
    },
    {
        "content": "<p>So it's basically a \"find and replace\" approach from the look of it.</p>",
        "id": 430146473,
        "sender_full_name": "Don Richards",
        "timestamp": 1711652906
    },
    {
        "content": "<p>Yeah. If you'd like an API for this, please feel free to create an issue.</p>",
        "id": 430146552,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711652948
    },
    {
        "content": "<p>Realistically, this would be for the next person who needs it, of course. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 430147201,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711653264
    },
    {
        "content": "<p>Thanks for opening this! API Endpoint for Updating persistentUserId <a href=\"https://github.com/IQSS/dataverse/issues/10446\">#10446</a></p>",
        "id": 430152517,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711655701
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> I'm gonna need it sooner than later!</p>",
        "id": 430601481,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1711981785
    },
    {
        "content": "<p>Yeah, good it get it in the queue, at least. It happens, IdP entityIds changing, unfortunately.</p>",
        "id": 430601865,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711981927
    },
    {
        "content": "<p>Another example: <a class=\"stream-topic\" data-stream-id=\"378866\" href=\"/#narrow/stream/378866-troubleshooting/topic/Switching.20SAML.20IDP.20servers.2C.20should.20it.20be.20seamless.3F\">#troubleshooting &gt; Switching SAML IDP servers, should it be seamless?</a></p>",
        "id": 455477792,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722457643
    }
]