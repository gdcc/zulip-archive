[
    {
        "content": "<p>Is it correct that in order to change the publication date of a dataset I need to mangle things in the DB? I didn't find an API call to do this... Or can I edit this metadata field using the usual Native API edit of metadata?</p>",
        "id": 424018777,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213305
    },
    {
        "content": "<p>There's this: <a href=\"https://guides.dataverse.org/en/6.1/api/native-api.html#set-citation-date-field-type-for-a-dataset\">https://guides.dataverse.org/en/6.1/api/native-api.html#set-citation-date-field-type-for-a-dataset</a></p>",
        "id": 424019526,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709213552
    },
    {
        "content": "<p>I saw that one</p>",
        "id": 424019563,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213566
    },
    {
        "content": "<p>But that does only change the field which is used to display the citation</p>",
        "id": 424019633,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213591
    },
    {
        "content": "<p>For our reporting, it looks like we want the publicationDate thing from the metadata</p>",
        "id": 424019678,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213605
    },
    {
        "content": "<p>I'm talking about this dataset: <a href=\"https://data.fz-juelich.de/dataset.xhtml?persistentId=doi%253A10.26165%252FJUELICH-DATA%252F1E1DTF\">https://data.fz-juelich.de/dataset.xhtml?persistentId=doi%253A10.26165%252FJUELICH-DATA%252F1E1DTF</a></p>",
        "id": 424019745,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213627
    },
    {
        "content": "<p>(There's another one, too)</p>",
        "id": 424019766,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213635
    },
    {
        "content": "<p>It is a mere registration of a dataset published at Zenodo in 2023</p>",
        "id": 424019841,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213650
    },
    {
        "content": "<p>Buh. I'm getting a 404.</p>",
        "id": 424019851,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709213654
    },
    {
        "content": "<p>So now I need to make the dates aligned</p>",
        "id": 424019869,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213662
    },
    {
        "content": "<p><a href=\"https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/1E1DTF\">https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/1E1DTF</a></p>",
        "id": 424019944,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213695
    },
    {
        "content": "<p>Sry, browser escaped the special chars</p>",
        "id": 424019974,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213705
    },
    {
        "content": "<p>If memory serves, publication data is an SQL timestamp.</p>",
        "id": 424019977,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709213707
    },
    {
        "content": "<p>Yeah, \"releasetime\" at <a href=\"https://guides.dataverse.org/en/5.6/schemaspy/tables/datasetversion.html\">https://guides.dataverse.org/en/5.6/schemaspy/tables/datasetversion.html</a></p>",
        "id": 424020297,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709213804
    },
    {
        "content": "<p>That should be it.</p>",
        "id": 424020327,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709213811
    },
    {
        "content": "<p>You can update it via SQL, yes. Dirty.</p>",
        "id": 424020366,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709213822
    },
    {
        "content": "<p><a href=\"https://github.com/poikilotherm/dataverse/blob/407d06155410b04b8d9085eb3568d192374e2742/src/main/java/edu/harvard/iq/dataverse/DvObject.java#L118-L118\">https://github.com/poikilotherm/dataverse/blob/407d06155410b04b8d9085eb3568d192374e2742/src/main/java/edu/harvard/iq/dataverse/DvObject.java#L118-L118</a></p>",
        "id": 424020396,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213831
    },
    {
        "content": "<p>It is a <code>Timestamp</code></p>",
        "id": 424020426,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213847
    },
    {
        "content": "<p>Haha yeah I can't edit it via the edit metadata thing - the <code>JsonParser</code> does not parse a <code>publicationDate</code> <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span> So hacky DB hack it is...</p>",
        "id": 424020852,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709213983
    },
    {
        "content": "<p>OK after a reindex of both datasets the cached exports are updates, too. Hacky, but worked.</p>",
        "id": 424025450,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1709215403
    },
    {
        "content": "<p>Great!</p>",
        "id": 424026654,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1709215772
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span>  I am sure that you know the Dataverse database much better than me, but in case it is useful, we did the next steps to modify the dataset dates:<br>\nselect * from datasetfieldvalue where value like '%UTANDE-HECTAD%';<br>\n   id   | displayorder |                                   value                                   | datasetfield_id <br>\n--------+--------------+---------------------------------------------------------------------------+-----------------<br>\n 144875 |            0 | CENTRAL SPAIN VEGETATION: UTANDE-HECTAD's RELEVÃ‰S (30TWL02 UTM GRID CELL) |          <em>216521</em><br>\n(1 row)</p>\n<p>dvndb=&gt; select * from datasetfield where id=216521;<br>\n   id   | datasetfieldtype_id | datasetversion_id | parentdatasetfieldcompoundvalue_id | template_id <br>\n--------+---------------------+-------------------+------------------------------------+-------------<br>\n<em>216521</em> |                   1 |              <strong>3508</strong> |                       â€¦</p>\n<p>dvndb=&gt; select dataset_id from datasetversion where id=<strong>3508</strong>;<br>\n dataset_id </p>\n<hr>\n<div class=\"codehilite\"><pre><span></span><code>  **13908**\n</code></pre></div>\n\n<p>Update dates of the current dataset version, dataset and dvobject:<br>\ndvndb=&gt; update dvobject set createdate='2023-12-26 12:07:41.324' where id=<strong>13908</strong>;<br>\nUPDATE 1<br>\ndvndb=&gt; update dvobject set modificationtime='2023-12-30 13:12:03.766' where id=<strong>13908</strong>;<br>\nUPDATE 1<br>\ndvndb=&gt; update dvobject set permissionmodificationtime='2023-12-26 12:07:41.324' where id=<strong>13908</strong>;<br>\nUPDATE 1<br>\ndvndb=&gt; update dvobject set globalidcreatetime='2023-12-26 12:07:41.324' where id=<strong>13908</strong>;<br>\nUPDATE 1<br>\ndvndb=&gt; update datasetversion set createtime='2023-12-26 12:07:41.332' where id=<strong>3508</strong>;<br>\nUPDATE 1<br>\ndvndb=&gt; update datasetversion set lastupdatetime='2023-12-30 13:12:03.766' where id=<strong>3508</strong>;<br>\nUPDATE 1</p>",
        "id": 424049213,
        "sender_full_name": "Juan",
        "timestamp": 1709221693
    }
]