[
    {
        "content": "<p>Greeting All,<br>\nIn order to outrun the impending EOL for PG13 we are moving to PG15 ( cant go to 16 yet due to other institutional factors ). How do the new public schema changes in 15 effect how I would migrate the data relative to (pg_dump) process or config file changes? Thanks for any input, advice or potential gotcha's</p>",
        "id": 527511156,
        "sender_full_name": "Tim Stevens",
        "timestamp": 1751904077
    },
    {
        "content": "<p>I have just recently played with running the DB upgrades outside of a deployment and presented my experiments during DCM2025. Maybe that's something you can play with, too? Here are my slides: <a href=\"http://talks.bertuch.name/dcm2025-upgrade\">http://talks.bertuch.name/dcm2025-upgrade</a></p>",
        "id": 527692533,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1751981905
    },
    {
        "content": "<p>If it helps, <a href=\"https://github.com/IQSS/dataverse/issues/9877\">#9877</a> is the PR where we updated the installer to <code>GRANT ALL ON SCHEMA public</code> to the pguser. And we added a related note to the guides.</p>",
        "id": 527694168,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1751982304
    },
    {
        "content": "<p>Thanks Oliver ( nice presentation by the way ) and Phil. All went smoothly and our staging instance is now using PG15. Since the installer was not involved in this move I was not sure if the GRANT ALL would carry over.</p>",
        "id": 527882807,
        "sender_full_name": "Tim Stevens",
        "timestamp": 1752065949
    },
    {
        "content": "<p>Hmm, so you didn't need the <code>GRANT ALL</code>, it sounds like. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 527883501,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1752066130
    },
    {
        "content": "<p>I did a basic pg_dump on the PG13 db and used command line psql command to import it into an empty PG15 db on our RDS PG15 datastore. The dvndb user owns the db within the datastore so perhaps the GRANT ALL is implied?</p>",
        "id": 527885174,
        "sender_full_name": "Tim Stevens",
        "timestamp": 1752066616
    },
    {
        "content": "<p>Maybe. Or maybe that GRANT ALL is only needed during the installation process? I think I remember it failing without it. Not sure. <img alt=\":shrugdog:\" class=\"emoji\" src=\"https://avatars.zulip.com/53090/emoji/images/86c833ef.png\" title=\"shrugdog\"></p>",
        "id": 527885304,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1752066664
    },
    {
        "content": "<p>Im adding it to my notes as a \"be aware of and verify\". Thanks Phil, will mark this as resolved.</p>",
        "id": 527885783,
        "sender_full_name": "Tim Stevens",
        "timestamp": 1752066814
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"935523\">Tim Stevens</span> has marked this topic as resolved.</p>",
        "id": 527886596,
        "sender_full_name": "Notification Bot",
        "timestamp": 1752067086
    },
    {
        "content": "<p>Thanks, Tim. For the record, it looks like we switched the installer from GRANT ALL to GRANT CREATE in <a href=\"https://github.com/IQSS/dataverse/issues/9903\">#9903</a>.</p>",
        "id": 527893667,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1752069059
    }
]