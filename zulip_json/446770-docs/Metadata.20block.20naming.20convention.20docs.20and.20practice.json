[
    {
        "content": "<p>This may be a documentation issue, but it could also point to something deeper.</p>\n<p>In the Dataverse documentation:<br>\n<a href=\"https://guides.dataverse.org/en/6.9/admin/metadatacustomization.html#id20\">https://guides.dataverse.org/en/6.9/admin/metadatacustomization.html#id20</a><br>\nthe convention for metadata field <code>name</code>s is described as:</p>\n<blockquote>\n<p><strong>By convention, should start with a letter, and use lower camel case</strong></p>\n</blockquote>\n<p>This guidance was accurate for a long time. However, with the introduction of <em>3D Objects Metadata</em>, it appears that field names can now also start with digits. If this behavior is intentional, the documentation should probably be updated to reflect it.</p>\n<p>That said, field naming conventions are ultimately constrained by what Solr allows and officially supports. According to the Solr documentation:<br>\n<a href=\"https://solr.apache.org/guide/solr/latest/indexing-guide/fields.html\">https://solr.apache.org/guide/solr/latest/indexing-guide/fields.html</a></p>\n<blockquote>\n<p><strong>Field names should consist of alphanumeric or underscore characters only and not start with a digit. This is not currently strictly enforced, but other field names will not have first class support from all components and back compatibility is not guaranteed.</strong></p>\n</blockquote>\n<p>In other words, while field names starting with digits may work in practice, they are not officially supported by Solr and could lead to compatibility issues in the future.</p>\n<p>Given that this behavior has existed for years, it is unlikely to cause immediate problems. Still, it is an important constraint to keep in mind when defining metadata fields, and it would be helpful for the Dataverse documentation to clarify this nuance explicitly.</p>",
        "id": 568404465,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768560157
    },
    {
        "content": "<p>Huh. Interesting. <span class=\"user-mention\" data-user-id=\"621770\">@Julian Gautier</span>, what do you think?</p>",
        "id": 568419447,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1768565354
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"602497\">@Bal√°zs Pataki</span> and <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin üöÄ</span>.</p>\n<p>I see in the Metadata Customization page's <a href=\"https://guides.dataverse.org/en/6.9/admin/metadatacustomization.html#datasetfield-field-properties\">#datasetField (field) properties table</a> that someone used that text you pointed to, <span class=\"user-mention\" data-user-id=\"602497\">@Bal√°zs Pataki</span>, from <a href=\"https://solr.apache.org/guide/solr/latest/indexing-guide/fields.html\">https://solr.apache.org/guide/solr/latest/indexing-guide/fields.html</a>, when describing the allowed values and restrictions of the database names of metadata fields.</p>\n<p>Since it sounds like the database names of metadata blocks and the database names of metadata fields should not start with digits for the same reason, maybe we should adjust the text in the allowed values and restrictions of the metadata block \"name\" property so it's similar to text in the allowed values and restrictions of the dataset field \"name\" property.</p>\n<p>Do you think that would be helpful?</p>\n<p>I don't have enough experience with Solr to guess how problematic database field names that start with digits might be in the future, either for the database names of metadata blocks or of metadata fields.</p>\n<p>Do y'all think we should fix this and any other database names of metadata block fields and dataset fields that start with numbers?</p>\n<p>I think that the folks who designed the 3D metadata block just didn't see that the guides say that these database names should start with letters. </p>\n<p>I do remember being worried about the process we used to design and add this 3D Objects metadata block. We didn't have the time to test it as I had planned, and we were asked to include it like we include the other \"Supported Metadata\" instead of adding it as \"Experimental Metadata\", which to be fair I think has it's own challenges.</p>",
        "id": 568441861,
        "sender_full_name": "Julian Gautier",
        "timestamp": 1768572319
    },
    {
        "content": "<p>From a pragmatic point of view, I think we should stick to ‚Äúnot starting with a digit,‚Äù since practically no mainstream programming languages allow symbol names that begin with digits. And there are probably good reasons for that.</p>\n<p>Now, the 3D metadata block might already be in use by the community, so I‚Äôm not sure how difficult it would be to change it at this point. </p>\n<p>On the other hand, it <em>does</em> work, so‚Ä¶ ¬Ø_(„ÉÑ)_/¬Ø</p>\n<p>Still, I‚Äôd support the pragmatic approach. Both in docs and in actual use.</p>",
        "id": 568445212,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768573187
    },
    {
        "content": "<p>In <a href=\"https://github.com/IQSS/dataverse/issues/9176\">#9176</a> <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> added a script to check for duplicate metadata field names. Maybe it could be extended to enforce a naming convention.</p>",
        "id": 568447528,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1768573810
    },
    {
        "content": "<p>I have been preaching that our \"specification\" of how our TSV format works and how this is mixing specification and file format and how the parser is lacking.... OMG finally someone else is stumbling over this and being annoyed.</p>",
        "id": 568448000,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768573918
    },
    {
        "content": "<p>After some rant, here some more productive stuff: I currently have a trainee that I assigned to doing something about this.</p>",
        "id": 568448153,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768573955
    },
    {
        "content": "<p>We will implement a Java library that a) has a proper data model for our metadata blocks, b) create an extensible parser interface, c) make these serializable (so we can generate Solr Schema from it or whatever), d) add validation, e) make it easy to use programmatically and f) put it also in a CLI application for more use cases.</p>",
        "id": 568448519,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574045
    },
    {
        "content": "<p>That way I want him to have a solid understanding of all we do around these parts and get a real contribution also into the core! (As the idea would be to replace the current \"parser\")</p>",
        "id": 568448650,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574075
    },
    {
        "content": "<p>Maybe it also time to move away from TSV then, isn‚Äôt it?</p>",
        "id": 568448800,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768574111
    },
    {
        "content": "<p>We will be free to do so, yes.</p>",
        "id": 568448857,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574122
    },
    {
        "content": "<p>But this needs a proper model first! Then parsers can use whatever format they want.</p>",
        "id": 568448956,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574145
    },
    {
        "content": "<p>If someone wants to use same fancy exotic whatever: fine, write a parser and be done with it.</p>",
        "id": 568449042,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574168
    },
    {
        "content": "<p>This reminds me of how <code>markdown.pl</code> evolved into CommonMark. <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 568449514,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1768574305
    },
    {
        "content": "<p>I had some discussions with Gustavo, and he said it was a rather adhoc decision to use TSV at the time, not much thinking went to it, so I guess IQSS won‚Äôt be against some better input/output formats.</p>",
        "id": 568449588,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768574324
    },
    {
        "content": "<p>Again, the culprit was not the create a specification and data model first! What we have in the guides is a whole mix of spec, model and format, all influencing each other.</p>",
        "id": 568449806,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574380
    },
    {
        "content": "<p>Would a discussion around the model/spec need a community review?</p>",
        "id": 568449888,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574398
    },
    {
        "content": "<p>As you said: these choices have consequences! (see 3D fields)</p>",
        "id": 568449958,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574412
    },
    {
        "content": "<p>We used TSV because the person developing the metadata blocks used Google Spreadsheets. We'd download the TSV from the spreadsheet. Then we wrote a parser.</p>",
        "id": 568450113,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1768574456
    },
    {
        "content": "<p>Historically grown mess <span aria-label=\"stuck out tongue wink\" class=\"emoji emoji-1f61c\" role=\"img\" title=\"stuck out tongue wink\">:stuck_out_tongue_wink:</span> (I get it, no blame here. But we should pay back that tech debt...)</p>",
        "id": 568450253,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574498
    },
    {
        "content": "<p>Related: harmonize formats for metadata schema and dataset creation¬†<a href=\"https://github.com/IQSS/dataverse/issues/4451\">#4451</a></p>\n<p>\"As a repository administrator / curator / metadata person, I would like to deal with hierarchical metadata schema in a way that is less awkward than a spreadsheet...\"</p>",
        "id": 568450585,
        "sender_full_name": "Philip Durbin üöÄ",
        "timestamp": 1768574589
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin üöÄ</span> <a href=\"#narrow/channel/446770-docs/topic/Metadata.20block.20naming.20convention.20docs.20and.20practice/near/568450585\">said</a>:</p>\n<blockquote>\n<p>Related: harmonize formats for metadata schema and dataset creation¬†<a href=\"https://github.com/IQSS/dataverse/issues/4451\">#4451</a></p>\n<p>\"As a repository administrator / curator / metadata person, I would like to deal with hierarchical metadata schema in a way that is less awkward than a spreadsheet...\"</p>\n</blockquote>\n<p>This is me! <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 568450878,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768574668
    },
    {
        "content": "<p>Been there, done that. Failed... <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 568451153,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574740
    },
    {
        "content": "<p>This ‚Äúsymbols starting with digit‚Äù problem actually came up with our CEDAR integration meeting with the new 3D MDB, because we validate/enforce the Solr rules, and this MDB failed to work.</p>",
        "id": 568451462,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768574835
    },
    {
        "content": "<p>After DCM2025 I already sketched up a few ideas for a JSON/YAML/TOML based format... But then again found myself locked in the problem of we don't have a model and a validator. <span class=\"user-mention\" data-user-id=\"602497\">@Bal√°zs Pataki</span> how interested are you in this? You know, for now I have plenty to do. But FZJ is offering paid development services... (As is Jim under the GDCC flag...)</p>",
        "id": 568451511,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574847
    },
    {
        "content": "<p>I am interested for sure.</p>",
        "id": 568451737,
        "sender_full_name": "Bal√°zs Pataki",
        "timestamp": 1768574912
    },
    {
        "content": "<p>Yeah, I remember that field names where limited due to Solr... <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> The current attempt at writing this is not publicly available (yet).</p>",
        "id": 568451770,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574922
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"602497\">Bal√°zs Pataki</span> <a href=\"#narrow/channel/446770-docs/topic/Metadata.20block.20naming.20convention.20docs.20and.20practice/near/568451737\">said</a>:</p>\n<blockquote>\n<p>I am interested for sure.</p>\n</blockquote>\n<p>Ha! But I suppose that money is not gonna find itself, right? <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> <span aria-label=\"money with wings\" class=\"emoji emoji-1f4b8\" role=\"img\" title=\"money with wings\">:money_with_wings:</span> (DM me if you want to talk more)</p>",
        "id": 568451883,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768574958
    }
]