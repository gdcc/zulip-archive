[
    {
        "content": "<p>Judging from the API test failures at <a href=\"https://github.com/pdurbin/dataverse-api-test-runner/actions/runs/5715146690/job/15483847990\">https://github.com/pdurbin/dataverse-api-test-runner/actions/runs/5715146690/job/15483847990</a> I suspect Solr might not be set up properly in GitHub Actions. Any ideas?</p>",
        "id": 380349654,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690811155
    },
    {
        "content": "<p>The log is full of errors like this:</p>\n<p><code>org.apache.solr.client.solrj.SolrServerException: IOException occurred when talking to server at: http://solr:8983/solr/collection1</code></p>\n<p>From <a href=\"https://github.com/pdurbin/dataverse-api-test-runner/suites/14567658790/artifacts/824866297\">https://github.com/pdurbin/dataverse-api-test-runner/suites/14567658790/artifacts/824866297</a></p>",
        "id": 380492408,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690837249
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/Solr.20not.20set.20up.20in.20GitHub.20Actions.3F/near/380349654\">said</a>:</p>\n<blockquote>\n<p>Judging from the API test failures at <a href=\"https://github.com/pdurbin/dataverse-api-test-runner/actions/runs/5715146690/job/15483847990\">https://github.com/pdurbin/dataverse-api-test-runner/actions/runs/5715146690/job/15483847990</a> I suspect Solr might not be set up properly in GitHub Actions. Any ideas?</p>\n</blockquote>\n<p>how does your docker-compose-payara6.yml differ from docker-compose-dev.yml in 8305-v3?</p>\n<p>I do see a solr-initializer mounting <code>conf</code> at <a href=\"https://github.com/IQSS/dataverse/blob/8305-payara6-ee10-v3/docker-compose-dev.yml#L72\">https://github.com/IQSS/dataverse/blob/8305-payara6-ee10-v3/docker-compose-dev.yml#L72</a> FWTW</p>",
        "id": 380660855,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1690889401
    },
    {
        "content": "<p>Hmm. Good thought. I'm playing around with that here: <a href=\"https://github.com/pdurbin/dataverse-api-test-runner/commit/915a12c\">https://github.com/pdurbin/dataverse-api-test-runner/commit/915a12c</a></p>",
        "id": 380693259,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690895203
    },
    {
        "content": "<p>It makes <code>chown: /var/solr: No such file or directory</code> go away.</p>",
        "id": 380695462,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690895584
    },
    {
        "content": "<p>This is the next error to fix, I think:</p>\n<div class=\"codehilite\"><pre><span></span><code>Executing /opt/docker-solr/scripts/precreate-core collection1 /template\ncp: cannot stat &#39;/template/&#39;: No such file or directory\n</code></pre></div>",
        "id": 380695848,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690895656
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span> I think you're on to something. I just pushed <a href=\"https://github.com/pdurbin/dataverse-api-test-runner/commit/4310c2c\">https://github.com/pdurbin/dataverse-api-test-runner/commit/4310c2c</a> and the tests are getting farther.</p>",
        "id": 380700996,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690896605
    },
    {
        "content": "<p>I think that did it! Thanks, <span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span> ! On develop anyway, I'm down to only three failing tests.</p>",
        "id": 380708525,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690897877
    }
]