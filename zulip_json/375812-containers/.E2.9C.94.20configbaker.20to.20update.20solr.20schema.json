[
    {
        "content": "<p>has someone used the new configbaker image to update the solr schema? I get the following error:</p>\n<div class=\"codehilite\"><pre><span></span><code># curl &quot;http://${DATAVERSE_HOSTNAME}:8080/api/admin/index/solr/schema&quot; | /scripts/update-fields.sh /template/conf/schema.xml\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 23010    0 23010    0     0   313k      0 --:--:-- --:--:-- --:--:--  316k\ned: unimplemented command\ned: can&#39;t find string &quot;SCHEMA-FIELDS::BEGIN&quot;\ned: can&#39;t find string &quot;SCHEMA-FIELDS::END&quot;\ned: bad line range for delete\ned: unimplemented command\ned: can&#39;t find string &quot;SCHEMA-COPY-FIELDS::BEGIN&quot;\ned: can&#39;t find string &quot;SCHEMA-COPY-FIELDS::END&quot;\ned: bad line range for delete\n</code></pre></div>",
        "id": 374241211,
        "sender_full_name": "Johannes D",
        "timestamp": 1689077047
    },
    {
        "content": "<p>The script within the container is identical with the one in <code>develop</code> and works if executed on the local machine but fails within the container.</p>",
        "id": 374252589,
        "sender_full_name": "Johannes D",
        "timestamp": 1689079365
    },
    {
        "content": "<p>Can you please say a bit more about what you're doing? You have a custom metadata block you're trying to add?</p>",
        "id": 374256546,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1689080118
    },
    {
        "content": "<p>Resvoled by adding<code>apk add ed</code>. Here is the PR: <a href=\"https://github.com/IQSS/dataverse/pull/9699\">https://github.com/IQSS/dataverse/pull/9699</a></p>",
        "id": 374256726,
        "sender_full_name": "Johannes D",
        "timestamp": 1689080163
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/configbaker.20to.20update.20solr.20schema/near/374256546\">said</a>:</p>\n<blockquote>\n<p>Can you please say a bit more about what you're doing? You have a custom metadata block you're trying to add?</p>\n</blockquote>\n<p>Yep, I've added a custom metadata block and wanted to use the new configbaker image to update the <code>schema.xml</code> for SOLR. Sadly it wasn't working out of the box.</p>",
        "id": 374257427,
        "sender_full_name": "Johannes D",
        "timestamp": 1689080301
    },
    {
        "content": "<p>Wow, thanks! How would I reproduce the bug on the develop branch? Do you think it would fail with <code>scripts/api/data/metadatablocks/customARCS.tsv</code> for example?</p>",
        "id": 374258004,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1689080424
    },
    {
        "content": "<p>handy link: <a href=\"https://github.com/IQSS/dataverse/blob/v5.13/scripts/api/data/metadatablocks/customARCS.tsv\">https://github.com/IQSS/dataverse/blob/v5.13/scripts/api/data/metadatablocks/customARCS.tsv</a></p>",
        "id": 374258241,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1689080463
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/configbaker.20to.20update.20solr.20schema/near/374258004\">said</a>:</p>\n<blockquote>\n<p>Wow, thanks! How would I reproduce the bug on the develop branch? Do you think it would fail with <code>scripts/api/data/metadatablocks/customARCS.tsv</code> for example?</p>\n</blockquote>\n<p>Yes, it already fails in a clean <code>dev</code> env without any custom metdata.</p>",
        "id": 374259806,
        "sender_full_name": "Johannes D",
        "timestamp": 1689080753
    },
    {
        "content": "<p>Thanks again for the PR!</p>",
        "id": 383890003,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1691747154
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> has marked this topic as resolved.</p>",
        "id": 383890023,
        "sender_full_name": "Notification Bot",
        "timestamp": 1691747157
    }
]