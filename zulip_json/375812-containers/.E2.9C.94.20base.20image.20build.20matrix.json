[
    {
        "content": "<p>Do we need a build matrix for the base image? P5 + J11, P5 + J17, P6 + J11, P6 + J17?</p>",
        "id": 343167497,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679329463
    },
    {
        "content": "<p>Hmm, maybe just P5 + J11 for now. Then add P6 + J11. Then add P6 + J17?</p>",
        "id": 343169941,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1679330008
    },
    {
        "content": "<p>Well what we have is P5+J11.</p>",
        "id": 343170206,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679330063
    },
    {
        "content": "<p>yes</p>",
        "id": 343170324,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1679330090
    },
    {
        "content": "<p>So do we want P6ish ones?</p>",
        "id": 343170468,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679330124
    },
    {
        "content": "<p>I mean, when we went from Glassfish 4 to Payara 5 we deleted all references to Glassfish 4. Are we in the same world still? Out with the old, in with the new? Or do we need to have both? The vision for Dataverse 6 is that you don't have to run it right away. You can use Dataverse 5.14 if you want the features without the platform upgrade.</p>",
        "id": 343171008,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1679330266
    },
    {
        "content": "<p>So we don't want any base images for testing etc until Dataverse 6 is released?</p>",
        "id": 343172358,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679330590
    },
    {
        "content": "<p>I'm wondering the same things as Phil. To my understanding, IQSS will switch to the newer technology and drop support for the older.</p>",
        "id": 343185278,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1679333861
    },
    {
        "content": "<p>Typically we make changes in a PR and test it. My understanding is that we'll be pushing images from PRs to GHCR. But this is all pretty short-lived, right? This matrix you're talking about makes me think you want to keep them around for a while. Maybe this will become more clear as we're doing it? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 343191146,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1679335405
    },
    {
        "content": "<p>Anyway, no objection to trying the build matrix thing. Let's experiment.</p>",
        "id": 343194387,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1679336202
    },
    {
        "content": "<p>Here's the thing: if we want to experiment with P6 and J17/J11, we will have to have some base image for that prepared. And it better shall be on Docker Hub, because app image builds will pull it from there.</p>",
        "id": 343213083,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679341724
    },
    {
        "content": "<p>So I'm not talking about keeping these around forever. And again, support is a big word.</p>",
        "id": 343213146,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679341752
    },
    {
        "content": "<p>Having these images at our fingertips merely means convenience for experiments</p>",
        "id": 343213232,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679341783
    },
    {
        "content": "<p>And all of this has still big red marks about community supported etc</p>",
        "id": 343213361,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1679341816
    },
    {
        "content": "<p>Sure, sounds fine. Does it require a code change other than the GitHub Action?</p>",
        "id": 343215659,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1679342543
    },
    {
        "content": "<p>\"free\" means \"free!\"</p>",
        "id": 343341699,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1679397824
    },
    {
        "content": "<p>I got the base image working with the dataverse-people app (thanks for helping, <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> !) and now, yes, I'm wondering about pushing a base image with Payara 6 (whatever the newest version is).</p>",
        "id": 351595854,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1682077255
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <a href=\"#narrow/stream/375812-containers/topic/base.20image.20build.20matrix/near/343172358\">said</a>:</p>\n<blockquote>\n<p>So we don't want any base images for testing etc until Dataverse 6 is released?</p>\n</blockquote>\n<p>As I said in <a href=\"https://harvard.zoom.us/rec/share/HjZX8HPCyNkvkc1tj6NAxkEMtA_5348Hl8jhCyRyarNNiVztpbUe6oS1UVMZeNs9.NGmm8VnIQh44GwNU\">today's container meeting</a>, I was wrong! We want these. <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 379262271,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1690482006
    },
    {
        "content": "<p>During yesterdays tech hour it seemed like we won't need 'em. <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 383187864,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691569417
    },
    {
        "content": "<p>Well, I can't build the Payara 6 base image on my M2 (see <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/can.27t.20build.20Payara.206.20base.20image\">#containers &gt; can't build Payara 6 base image</a> ) so I would appreciate having that image now, even before we merge the Payara 6 branch. I'm dead in the water on that M2 machine.</p>",
        "id": 383249389,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1691581695
    },
    {
        "content": "<p>I'm no longer dead in the water! See <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/.E2.9C.94.20can.27t.20build.20Payara.206.20base.20image\">#containers &gt; âœ” can't build Payara 6 base image</a> . Thanks, <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ! <img alt=\":dataverse_man:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/44207.png\" title=\"dataverse man\"></p>",
        "id": 383888590,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1691746842
    },
    {
        "content": "<p>But maybe we should still have the build matrix because my colleague can't build the Payara 6 image: <a href=\"https://github.com/IQSS/dataverse/issues/9771\">https://github.com/IQSS/dataverse/issues/9771</a></p>",
        "id": 383888826,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1691746891
    },
    {
        "content": "<p>Should we resolve this topic? What's the next time we'll want a build matrix? When we need to upgrade Payara 6.x or Solr 9.x? Or will those changes be so minor it won't even matter? I'm sure the next Java bump is pretty far out for us.</p>",
        "id": 389630720,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1694084827
    },
    {
        "content": "<p>Not <em>that</em> far away... LTS 21 is underway. But yes, let's close this for now. There are more pressing matters.</p>",
        "id": 389631058,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1694084921
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> has marked this topic as resolved.</p>",
        "id": 389632455,
        "sender_full_name": "Notification Bot",
        "timestamp": 1694085388
    }
]