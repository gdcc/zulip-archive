[
    {
        "content": "<p>It seems like docker:watch is not an option for now - it complains it doesn't know a thing about assemblies added to the image and bails out. Looks like a bug due to our very special config with compose</p>",
        "id": 357317213,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683729838
    },
    {
        "content": "<p>bummer</p>",
        "id": 357317362,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683729855
    },
    {
        "content": "<p>Haha easy, it's simply not possible. Either go for all or die. Maybe with compose</p>",
        "id": 357318665,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683730076
    },
    {
        "content": "<p>Ha works with compose! Tricky tricky tricky</p>",
        "id": 357322616,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683730766
    },
    {
        "content": "<p>OK I pushed some notes about that as well</p>",
        "id": 357325665,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683731344
    },
    {
        "content": "<p><a href=\"https://dataverse-guide--9584.org.readthedocs.build/en/9584/container/dev-usage.html#re-deploying\">https://dataverse-guide--9584.org.readthedocs.build/en/9584/container/dev-usage.html#re-deploying</a></p>",
        "id": 357326767,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683731583
    },
    {
        "content": "<p>Looks good. You've documented what I'm doing, a full clean and build each time. Thanks.</p>",
        "id": 357327690,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683731755
    },
    {
        "content": "<p>It's the hard way <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 357327931,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683731789
    },
    {
        "content": "<p>Hopefully we can have something else some other time</p>",
        "id": 357328026,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683731807
    },
    {
        "content": "<p>The only way, currently. Oh well. At least I'm not missing out on anything. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> #fomo</p>",
        "id": 357328115,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683731823
    },
    {
        "content": "<p>Let me try something with mounting as a volume</p>",
        "id": 357328330,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683731866
    },
    {
        "content": "<p>Ok that seems to have no effect - the files don't get picked up. Looks like this is not working in their layout...</p>",
        "id": 357335309,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683733232
    },
    {
        "content": "<p>But I do see a hot redeploy thing using their plugins for IDEs... Maybe that's a thing? Let's give it a shot!</p>",
        "id": 357335462,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683733265
    },
    {
        "content": "<p>Ha that works astonishingly well!</p>",
        "id": 357343158,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683734833
    },
    {
        "content": "<p>Just one problem: I need to ship a WAR file. We build that as \"dataverse-5.13.war\". That conflicts with our deployment name (dataverse)</p>",
        "id": 357343338,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683734879
    },
    {
        "content": "<p>If I rename the war, all goes well</p>",
        "id": 357343397,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683734888
    },
    {
        "content": "<p>And it actually is pretty fast</p>",
        "id": 357343423,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683734894
    },
    {
        "content": "<p>Takes about 10 seconds on my machine to redeploy</p>",
        "id": 357343470,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683734908
    },
    {
        "content": "<p>I'm going to open a new topic for this and move messages...</p>",
        "id": 357343614,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683734952
    },
    {
        "content": "<p>I followed this guide (as I am on IntelliJ) <a href=\"https://blog.payara.fish/payara-server-basics-adding-payara-server-to-intellij-idea\">https://blog.payara.fish/payara-server-basics-adding-payara-server-to-intellij-idea</a></p>",
        "id": 357343874,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683735006
    },
    {
        "content": "<p>But I see plenty of other plugins for Eclipse, Netbeans, VSCode in the docs: <a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/Ecosystem/IDE%20Integration/IntelliJ%20Plugin/Payara%20Server.html#deploying-application-payara-server-from-intellij\">https://docs.payara.fish/community/docs/Technical%20Documentation/Ecosystem/IDE%20Integration/IntelliJ%20Plugin/Payara%20Server.html#deploying-application-payara-server-from-intellij</a></p>",
        "id": 357344368,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683735104
    },
    {
        "content": "<p>Do you think it'll work with the free (community edition) version of Intellij?</p>",
        "id": 357350477,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683736542
    },
    {
        "content": "<p>No it won't. Explicitly says Ultimate only</p>",
        "id": 357357178,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683738415
    },
    {
        "content": "<p>But there's Eclipse, Netbeans, Vscode so plenty of free options</p>",
        "id": 357357268,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683738438
    },
    {
        "content": "<p>I took a quick look at the docs. <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> maybe you can give me a demo of your 10 second redeploy sometime. We could even show it during tomorrow's container meeting if you like.</p>",
        "id": 357377518,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683744166
    },
    {
        "content": "<p>I'm free to do whatever I want now - just tucked in the kids</p>",
        "id": 357377857,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683744245
    },
    {
        "content": "<p>Nice. I added it to the agenda. Hope you don't mind: <a href=\"https://docs.google.com/document/d/1eQVm88dP2rgM9DKn4ivoWBx6MOK6aXfkLhsZN-Y3fsc/edit?usp=sharing\">https://docs.google.com/document/d/1eQVm88dP2rgM9DKn4ivoWBx6MOK6aXfkLhsZN-Y3fsc/edit?usp=sharing</a></p>",
        "id": 357378840,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683744521
    },
    {
        "content": "<p>Meaning you don't want a demo now?</p>",
        "id": 357379689,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683744746
    },
    {
        "content": "<p>I'd have to find a room. Plus if we do it tomorrow, it'll be recorded. Let me know. I can find a room if you want to demo it now.</p>",
        "id": 357391424,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683748255
    },
    {
        "content": "<p>LOL - I tried with VSCode. That did not work _at all_. Great. \"Cannot read properties of undefined (reading '0')\" <span aria-label=\"rolling eyes\" class=\"emoji emoji-1f644\" role=\"img\" title=\"rolling eyes\">:rolling_eyes:</span> And the only thing kind of similar I could find was this <a href=\"https://github.com/payara/ecosystem-support/issues/33\">https://github.com/payara/ecosystem-support/issues/33</a></p>",
        "id": 357393118,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683748792
    },
    {
        "content": "<p>OK 10 seconds was a very subjective impression. It's ~30 seconds (excluding compile/package time):</p>\n<div class=\"codehilite\"><pre><span></span><code>[2023-05-11 12:13:11,007] Artifact dataverse:war: Artifact is being deployed, please wait...\nConnected to server\n[2023-05-11 12:13:39,266] Artifact dataverse:war: Artifact is deployed successfully\n[2023-05-11 12:13:39,266] Artifact dataverse:war: Deploy took 28,259 milliseconds\n[2023-05-11 12:13:40,708] Artifact dataverse:war: Artifact is deployed successfully\n</code></pre></div>",
        "id": 357413152,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683756891
    },
    {
        "content": "<p>64 seconds as of this comment: <a href=\"https://github.com/IQSS/dataverse/issues/5593#issuecomment-786190813\">https://github.com/IQSS/dataverse/issues/5593#issuecomment-786190813</a></p>",
        "id": 357415582,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683758133
    },
    {
        "content": "<p>Yeah, starting all the DB and index containers does take some time.</p>",
        "id": 357415696,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683758181
    },
    {
        "content": "<p>I'm looking forward to the demo.</p>",
        "id": 357415771,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683758247
    },
    {
        "content": "<p>How long would it take for <a href=\"https://github.com/IQSS/dataverse-people\">https://github.com/IQSS/dataverse-people</a> ?</p>",
        "id": 357416005,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683758370
    },
    {
        "content": "<p>It's basically the hello world app described in <a href=\"https://github.com/IQSS/dataverse/issues/5736\">#5736</a>. (I already left a comment there about it.)</p>",
        "id": 357416209,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683758478
    },
    {
        "content": "<p>Does ENABLE_RELOAD work? From <a href=\"https://guides.dataverse.org/en/5.13/container/base-image.html#tunables\">https://guides.dataverse.org/en/5.13/container/base-image.html#tunables</a></p>",
        "id": 357445187,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683773922
    },
    {
        "content": "<p>I tried to use it here: <a href=\"https://github.com/IQSS/dataverse-people/blob/6bd128e678cd1a9a580da7ffebf0e80cf616cfba/dataverse-people/wad-docker.sh#L13\">https://github.com/IQSS/dataverse-people/blob/6bd128e678cd1a9a580da7ffebf0e80cf616cfba/dataverse-people/wad-docker.sh#L13</a></p>",
        "id": 357445219,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683773936
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/357445187\">said</a>:</p>\n<blockquote>\n<p>Does ENABLE_RELOAD work? From <a href=\"https://guides.dataverse.org/en/5.13/container/base-image.html#tunables\">https://guides.dataverse.org/en/5.13/container/base-image.html#tunables</a></p>\n</blockquote>\n<p>I looked into this again and noticed that I actually might have forgotten to enable a certain setting. I will need to adapt the base image for that!</p>",
        "id": 357509216,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683794202
    },
    {
        "content": "<p>I probably should go ahead and create a new issue and PR for faster redeploy...</p>",
        "id": 357509310,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683794226
    },
    {
        "content": "<p>Should I create an issue about ENABLE_RELOAD?</p>",
        "id": 357524957,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683798095
    },
    {
        "content": "<p>Well not if we can't reproduce it. I have a fix here but I'm searching for a test</p>",
        "id": 357545605,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683803049
    },
    {
        "content": "<p>(The fix is basically to re-enable also the second setting...)</p>",
        "id": 357545757,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683803079
    },
    {
        "content": "<p>So mounting the files and touching \".reload\" does not seem to do the trick...</p>",
        "id": 357552958,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683804623
    },
    {
        "content": "<p>Even with a fixed setting and JSF set to Development status</p>",
        "id": 357553005,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683804639
    },
    {
        "content": "<p>You can use that wad docker commit above to test ^^</p>",
        "id": 357553909,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683804853
    },
    {
        "content": "<p>The war file is being updated in the deployments dir</p>",
        "id": 357554036,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683804887
    },
    {
        "content": "<p>but it isn't being deployed</p>",
        "id": 357554071,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683804894
    },
    {
        "content": "<p>I might have a way to configure that... The autodeploy thing is usually under the domain root</p>",
        "id": 357557951,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683805701
    },
    {
        "content": "<p>Just found out the setting to change that location</p>",
        "id": 357558014,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683805714
    },
    {
        "content": "<p>And we might also need to change the path to the app dir - that is by default also under the domain dir</p>",
        "id": 357558802,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683805900
    },
    {
        "content": "<p>Otherwise using .reload won't do anything</p>",
        "id": 357558845,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683805910
    },
    {
        "content": "<p>Ah DANG we can't do that - there are internal apps like the EJB timer etc in there</p>",
        "id": 357559507,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806046
    },
    {
        "content": "<p>Dunno if a symlink will be followed, but we can try :-D</p>",
        "id": 357559595,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806067
    },
    {
        "content": "<p>Do you think redeploy will work with an official Payara image? (I can't run these on my M2 Mac: <a href=\"#narrow/stream/375812-containers/topic/helping.20Payara.20with.20M1.2FM2.20builds\">https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/helping.20Payara.20with.20M1.2FM2.20builds</a> )</p>",
        "id": 357560237,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806214
    },
    {
        "content": "<p>(I tried with Open Liberty first but got a bit lost.)</p>",
        "id": 357560975,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806386
    },
    {
        "content": "<p>(because Open Liberty is what's used in the blog post and video I was following: <a href=\"https://blog.sebastian-daschner.com/entries/reloading-javaee-apps-wad\">https://blog.sebastian-daschner.com/entries/reloading-javaee-apps-wad</a> )</p>",
        "id": 357561215,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806433
    },
    {
        "content": "<p>I disbelieve that - I'm using the same scripting logic, so why would that be any different?</p>",
        "id": 357561266,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806451
    },
    {
        "content": "<p>Ok, maybe I'll try to get it working with Open Liberty, then.</p>",
        "id": 357561409,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806490
    },
    {
        "content": "<p>The video is pretty compelling: <a href=\"https://www.youtube.com/watch?v=V_haSihHHV8\">https://www.youtube.com/watch?v=V_haSihHHV8</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"V_haSihHHV8\" href=\"https://www.youtube.com/watch?v=V_haSihHHV8\"><img src=\"https://uploads.zulipusercontent.net/7d12a20d3f8f3416ad00555aa84a3f132a082ce7/68747470733a2f2f692e7974696d672e636f6d2f76692f565f6861536968484856382f64656661756c742e6a7067\"></a></div>",
        "id": 357561510,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806519
    },
    {
        "content": "<p>And it's IDE-independent, which I like.</p>",
        "id": 357561637,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806539
    },
    {
        "content": "<p>You did see <br>\n<a href=\"/user_uploads/53090/g8GciSte1gO1T8gloMZYtFRV/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/g8GciSte1gO1T8gloMZYtFRV/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/g8GciSte1gO1T8gloMZYtFRV/image.png\"></a></div>",
        "id": 357561926,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806608
    },
    {
        "content": "<p>That directory is the important bit...</p>",
        "id": 357562001,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806623
    },
    {
        "content": "<p>Yes, I saw that. Again, I can't try the official Payara image on my M2.</p>",
        "id": 357562317,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806669
    },
    {
        "content": "<p>Ok but it's the same thing.</p>",
        "id": 357562399,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806685
    },
    {
        "content": "<p>Both images are the same server</p>",
        "id": 357562440,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806692
    },
    {
        "content": "<p>Same structure</p>",
        "id": 357562474,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806699
    },
    {
        "content": "<p>I did copy most of the init scripting anyway</p>",
        "id": 357562536,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806712
    },
    {
        "content": "<p>Are you going to try my commit or not? <span aria-label=\"happy\" class=\"emoji emoji-1f600\" role=\"img\" title=\"happy\">:happy:</span></p>",
        "id": 357562567,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806720
    },
    {
        "content": "<p>Commit?</p>",
        "id": 357562634,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806738
    },
    {
        "content": "<p>Link link link</p>",
        "id": 357562657,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806743
    },
    {
        "content": "<p>Ah I see</p>",
        "id": 357562702,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806755
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse-people/blob/6bd128e678cd1a9a580da7ffebf0e80cf616cfba/dataverse-people/wad-docker.sh#L13\">https://github.com/IQSS/dataverse-people/blob/6bd128e678cd1a9a580da7ffebf0e80cf616cfba/dataverse-people/wad-docker.sh#L13</a></p>",
        "id": 357562717,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806759
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/357445219\">said</a>:</p>\n<blockquote>\n<p>I tried to use it here: <a href=\"https://github.com/IQSS/dataverse-people/blob/6bd128e678cd1a9a580da7ffebf0e80cf616cfba/dataverse-people/wad-docker.sh#L13\">https://github.com/IQSS/dataverse-people/blob/6bd128e678cd1a9a580da7ffebf0e80cf616cfba/dataverse-people/wad-docker.sh#L13</a></p>\n</blockquote>",
        "id": 357562791,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806765
    },
    {
        "content": "<p>That's your reproducer. Nice and small. <span aria-label=\"happy\" class=\"emoji emoji-1f600\" role=\"img\" title=\"happy\">:happy:</span></p>",
        "id": 357562855,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806779
    },
    {
        "content": "<p>I won't try it <em>yet</em> :-D We need to reconfigure the app server first to pickup modules with autodeploy from the other directory first</p>",
        "id": 357563115,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806842
    },
    {
        "content": "<p>I had to rename the \"backend\" directory to \"dataverse-people\" to make wad.jar happy.</p>",
        "id": 357563145,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806849
    },
    {
        "content": "<p>Otherwise you can try very very very long <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 357563163,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806853
    },
    {
        "content": "<p>Oh you could try something. Mount to /opt/payara/appserver/glassfish/domains/domain1/autodeploy for me</p>",
        "id": 357563467,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806917
    },
    {
        "content": "<p>I see. Are you saying in our base image Payara will do deployments from two directories? The official one and the one we added?</p>",
        "id": 357563489,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683806921
    },
    {
        "content": "<p>Yes and no</p>",
        "id": 357563539,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806931
    },
    {
        "content": "<p>What we do is manually craft a deployment and send that Payaras way. It basically is a \"deploy\" command</p>",
        "id": 357563672,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806962
    },
    {
        "content": "<p>That can source any dir / file whatever</p>",
        "id": 357563738,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806979
    },
    {
        "content": "<p>But autodeploy has a scanner that looks into a certain directory (the one above)</p>",
        "id": 357563811,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683806998
    },
    {
        "content": "<p>Ah dang if you try this you need to reenable autodeploy as well... Hmm you can do that once the server runs via asadmin I believe.</p>",
        "id": 357564060,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683807049
    },
    {
        "content": "<p>Or go via <a href=\"https://localhost:4848\">https://localhost:4848</a> and enable it from there. If it needs a restart, it should be possible to do that from there too</p>",
        "id": 357564278,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683807100
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/1hkjmsgJAyDDf381GJ9Gfta9/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/1hkjmsgJAyDDf381GJ9Gfta9/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/1hkjmsgJAyDDf381GJ9Gfta9/image.png\"></a></div>",
        "id": 357564390,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683807124
    },
    {
        "content": "<p>This is the diff you want in my wad docker script?</p>\n<div class=\"codehilite\"><pre><span></span><code>-DEPLOY_DIR=/opt/payara/deployments\n+DEPLOY_DIR=/opt/payara/appserver/glassfish/domains/domain1/autodeploy\n</code></pre></div>",
        "id": 357564426,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683807129
    },
    {
        "content": "<p>Yes</p>",
        "id": 357564613,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683807174
    },
    {
        "content": "<p>Doesn't work. I can see the war file changing...</p>\n<div class=\"codehilite\"><pre><span></span><code>payara@4ef27fd1982b:~$ ls -l /opt/payara/appserver/glassfish/domains/domain1/autodeploy\ntotal 4\n-rw-r--r-- 1 payara payara 3456 May 11 12:13 dataverse-people.war\npayara@4ef27fd1982b:~$ ls -l /opt/payara/appserver/glassfish/domains/domain1/autodeploy\ntotal 4\n-rw-r--r-- 1 payara payara 3460 May 11 12:15 dataverse-people.war\n</code></pre></div>\n<p>... but the output from curl doesn't change at all.</p>",
        "id": 357565485,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683807363
    },
    {
        "content": "<p>Nothing in server.log. No mention of attempted deployments.</p>",
        "id": 357565778,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683807431
    },
    {
        "content": "<p>You can try it yourself if you don't believe me. <span aria-label=\"happy\" class=\"emoji emoji-1f600\" role=\"img\" title=\"happy\">:happy:</span></p>",
        "id": 357565849,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683807448
    },
    {
        "content": "<p>Did you re-enable the autodeploy scanner?</p>",
        "id": 357566841,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683807661
    },
    {
        "content": "<p>GNARF. No use. Even with changing the directories it won't reload / autodeploy. I'm not sure if this works with exploded WARs</p>",
        "id": 357570432,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683808492
    },
    {
        "content": "<p>Should I push you my base image to GHCR  and you try with your WAD? You're using WARs <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span></p>",
        "id": 357570545,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683808520
    },
    {
        "content": "<p>I just did: <a href=\"https://github.com/orgs/gdcc/packages/container/base/92458934?tag=reload\">https://github.com/orgs/gdcc/packages/container/base/92458934?tag=reload</a></p>",
        "id": 357574499,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683809358
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>$ docker pull ghcr.io/gdcc/base:reload\nError response from daemon: Head &quot;https://ghcr.io/v2/gdcc/base/manifests/reload&quot;: unauthorized\n</code></pre></div>",
        "id": 357576995,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683809875
    },
    {
        "content": "<p>Oh. Might be private. Sec</p>",
        "id": 357577145,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683809899
    },
    {
        "content": "<p>Try again, just made it public</p>",
        "id": 357577467,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1683809960
    },
    {
        "content": "<p>I think I'm missing a step. The scanner or something.</p>",
        "id": 357578790,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683810240
    },
    {
        "content": "<p>This is what I've done so far: <a href=\"https://github.com/IQSS/dataverse-people/commit/74dd7e4\">https://github.com/IQSS/dataverse-people/commit/74dd7e4</a></p>",
        "id": 357579317,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683810334
    },
    {
        "content": "<p>Please let me know what I'm missing.</p>",
        "id": 357579435,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683810355
    },
    {
        "content": "<p>By the way, I've played with fast redeploys with Quarkus. It's a game changer. I would love to boost our productivity with a faster feedback loop.</p>",
        "id": 357579746,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1683810400
    },
    {
        "content": "<p>sekmiller and I are both having trouble with <a href=\"https://guides.dataverse.org/en/5.14/container/dev-usage.html#re-deploying\">https://guides.dataverse.org/en/5.14/container/dev-usage.html#re-deploying</a></p>",
        "id": 383284153,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691587783
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>$ docker compose -f docker-compose-dev.yml create dev_dataverse\n[+] Running 4/4\n ⠿ Container dev_postgres          Created                                                                        0.0s\n ⠿ Container dev_solr_initializer  Recreated                                                                      0.1s\n ⠿ Container dev_solr              Recreated                                                                      0.1s\n ⠿ Container dev_dataverse         Recreated                                                                      1.0s\n$ docker ps\nCONTAINER ID   IMAGE                           COMMAND       CREATED       STATUS       PORTS     NAMES\nae0ae4848ac1   moby/buildkit:buildx-stable-1   &quot;buildkitd&quot;   2 weeks ago   Up 2 weeks             buildx_buildkit_maven0\n$ curl http://localhost:8080/api/info/version\ncurl: (7) Failed to connect to localhost port 8080 after 7 ms: Connection refused\n</code></pre></div>",
        "id": 383284200,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691587794
    },
    {
        "content": "<p>I've never used these instructions until he said they weren't working this morning. I'm pretty sure he's right.</p>",
        "id": 383284579,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691587847
    },
    {
        "content": "<p>Should I create an issue?</p>",
        "id": 383284611,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691587853
    },
    {
        "content": "<p>Did you start the containers with compose before the recreation?</p>",
        "id": 383285299,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691587958
    },
    {
        "content": "<p>No.</p>",
        "id": 383286675,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691588166
    },
    {
        "content": "<p>Quote from the docs: </p>\n<blockquote>\n<p>In case of using Docker Compose and starting the containers in the background, you can use a workaround to only restart the application container</p>\n</blockquote>",
        "id": 383287003,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691588227
    },
    {
        "content": "<p>Maybe that sentence needs to be more precise in wording</p>",
        "id": 383287247,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691588264
    },
    {
        "content": "<p>Yeah, maybe I'll create a PR.</p>",
        "id": 383287672,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691588323
    },
    {
        "content": "<p>The explanation is easy - compose need to track the state of the containers, otherwise it can't maintain 'em. <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 383290048,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691588733
    },
    {
        "content": "<p>The foreground/background stuff might be a bit confusing.</p>",
        "id": 383301503,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691590620
    },
    {
        "content": "<p>I can't get the <code>docker compose -f docker-compose-dev.yml create dev_dataverse</code> thing to work at all. I'll just propose a commit to remove it for now.</p>",
        "id": 383343323,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691597483
    },
    {
        "content": "<p>Actually, instead of removing it, I just flagged it as a bit sus.</p>",
        "id": 383345745,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691597962
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> how does this look to you? <a href=\"https://github.com/IQSS/dataverse/compare/9616-container-dev...9616-redeploy\">https://github.com/IQSS/dataverse/compare/9616-container-dev...9616-redeploy</a></p>",
        "id": 383345793,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691597974
    },
    {
        "content": "<p>I sent a link to sekmiller as well.</p>",
        "id": 383375499,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691603624
    },
    {
        "content": "<p>Whoops. New link because that PR got merged: <a href=\"https://github.com/IQSS/dataverse/compare/8305-payara6-ee10-v3...9616-redeploy\">https://github.com/IQSS/dataverse/compare/8305-payara6-ee10-v3...9616-redeploy</a></p>",
        "id": 383417100,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691614975
    },
    {
        "content": "<p>At standup yesterday we agreed it's fine for me to push this commit into the Payara 6 branch. I will, when I get a minute. Or I could remove the whole \"Redeploying Just Dataverse with Docker Compose\" section (rather than saying we're not sure it works) because I can't get it working. <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> what do you think? Merge as is? Remove that section? Try to get it working?</p>",
        "id": 383888265,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691746785
    },
    {
        "content": "<p>If you feel it is more trouble than feature, remove it if you want...</p>",
        "id": 383898969,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691748873
    },
    {
        "content": "<p>Well, it must work for you, or you wouldn't have written it up. I wonder if I'm missing something. Do you use that method all the time?</p>",
        "id": 383899695,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691749009
    },
    {
        "content": "<p>Nope, as I'm not using docker-compose</p>",
        "id": 383899783,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691749027
    },
    {
        "content": "<p>To much to type <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 383899838,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691749041
    },
    {
        "content": "<p>But I tried it before and it did work (otherwise I would not have written it)</p>",
        "id": 383899900,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691749058
    },
    {
        "content": "<p>Would you want to try it again? And help me get it working?</p>",
        "id": 383902880,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691749549
    },
    {
        "content": "<p>Can try</p>",
        "id": 383903464,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691749642
    },
    {
        "content": "<p>Can we focus on topic <a href=\"https://github.com/IQSS/dataverse/issues/9769\">#9769</a> first? I want to get that fixed ASAP because it's breaking people's workflows</p>",
        "id": 383903817,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1691749705
    },
    {
        "content": "<p>Absolutely!</p>",
        "id": 383904367,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691749777
    },
    {
        "content": "<p>Related topic: <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/re-deploying.20.28dev.20usage.29\">#containers &gt; re-deploying (dev usage)</a></p>",
        "id": 384005839,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1691767157
    },
    {
        "content": "<p>I might have found a better way to do this...</p>",
        "id": 384768206,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017801
    },
    {
        "content": "<p>It's hacky.</p>",
        "id": 384768235,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017806
    },
    {
        "content": "<p>So I can't make \"dynamic reloads\" work. It simply doesn't pick up the touches on the .reload file.</p>",
        "id": 384768455,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017839
    },
    {
        "content": "<p>As a consequence, we can't use the builtin feature...</p>",
        "id": 384768591,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017866
    },
    {
        "content": "<p>But...</p>",
        "id": 384768634,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017874
    },
    {
        "content": "<p>I did some experimentation with \"reload\" from the Admin Console and it seems to work.</p>",
        "id": 384768762,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017895
    },
    {
        "content": "<p>The interesting part however is that internally, this \"reload\" seems to be a disable/enable command</p>",
        "id": 384769103,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692017971
    },
    {
        "content": "<p>It's loosing an app's state. But maybe that's OK?</p>",
        "id": 384769248,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018002
    },
    {
        "content": "<p>I did experiment with <code>asadmin redeploy --keepstate</code> as well</p>",
        "id": 384769401,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018023
    },
    {
        "content": "<p>That does work, although one has to ignore all the SQL exception. We really should make those go away BTW</p>",
        "id": 384769568,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018057
    },
    {
        "content": "<p>That said, I'm now wondering how we can make Payara do these things for us</p>",
        "id": 384769701,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018079
    },
    {
        "content": "<p>It certainly is quicker to do these reloads than stopping and starting the containers</p>",
        "id": 384769811,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018098
    },
    {
        "content": "<p>As we need to bring all the peaces together, one requirement for the workflow would be to execute the package command in some way. Otherwise we don't have all the apps stuff in one place</p>",
        "id": 384770166,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018158
    },
    {
        "content": "<p>But probably that is reasonable - redeploying after compiling seems not so reasonable to me</p>",
        "id": 384770362,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018197
    },
    {
        "content": "<p>BTW simply editing an XHTML file will not be enough to make it reload. And getting these in the right place is also tricky, needs packaging...</p>",
        "id": 384770733,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018267
    },
    {
        "content": "<p>(because we have a bunch of single files at the top location - would be easier if we had all of this in subfolders. But as JSF is going to go away anyway... well... maybe that's fine.)</p>",
        "id": 384770965,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018309
    },
    {
        "content": "<p>We can mount the exploded package into the container. Easy</p>",
        "id": 384771153,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018330
    },
    {
        "content": "<p>What's left is the trigger telling Payara to disable/enable or undeploy/deploy</p>",
        "id": 384771351,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018360
    },
    {
        "content": "<p>Here's a thought about that: we could use another container for this. It will sit on the same network. And it will talk to Payara via it's admin API. <a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Server%20Documentation/Management%20and%20Monitoring%20REST%20API/Overview.html\">https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Server%20Documentation/Management%20and%20Monitoring%20REST%20API/Overview.html</a></p>",
        "id": 384771845,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018447
    },
    {
        "content": "<p>Using the REST API we don't need Java in that container, it's simple curl/wget commands.</p>",
        "id": 384771979,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018471
    },
    {
        "content": "<p>We could write a script for configbaker... <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 384772117,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018492
    },
    {
        "content": "<p>Thanks for hacking on this! Please let me know if you'd like me to try any commands.</p>",
        "id": 384772560,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692018578
    },
    {
        "content": "<p>Do you think that workflow for a dev \"package the app\" is reasonable?</p>",
        "id": 384772718,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018604
    },
    {
        "content": "<p>Or should the DX be something else?</p>",
        "id": 384772764,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692018612
    },
    {
        "content": "<p>The developer joy DX of Quarkus would be ideal but I'm willing to try anything. <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 384774121,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692018886
    },
    {
        "content": "<p>Technically we could write a scripts that runs on your host maschine, monitors the compiled files and triggers packaging for you</p>",
        "id": 384774754,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692019001
    },
    {
        "content": "<p>It would still need to reach out to Payara to reload... So this REST API part would be the same</p>",
        "id": 384774896,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692019029
    },
    {
        "content": "<p>Sort of like <a href=\"https://github.com/AdamBien/wad\">https://github.com/AdamBien/wad</a> ?</p>",
        "id": 384777675,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692019573
    },
    {
        "content": "<p>Yes, sort of</p>",
        "id": 384795460,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692022751
    },
    {
        "content": "<p>I used wad with <a href=\"https://github.com/IQSS/dataverse-people\">https://github.com/IQSS/dataverse-people</a> and it worked fine.</p>",
        "id": 384797700,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692023145
    },
    {
        "content": "<p>We could use that tiny repo as a test bed, if you want.</p>",
        "id": 384797767,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692023157
    },
    {
        "content": "<p>If we can't come up with a good DX for a tiny repo, what hope do we have for Dataverse?</p>",
        "id": 384797917,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692023178
    },
    {
        "content": "<p>Adding a ref here: <a href=\"https://stackoverflow.com/questions/31035669/glassfish-application-reload-with-asadmin\">https://stackoverflow.com/questions/31035669/glassfish-application-reload-with-asadmin</a></p>",
        "id": 384895491,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692043500
    },
    {
        "content": "<p>I don't think we need a whole topic for this because JSF is going away, but I just got a report that a downside of Docker is that changing an xhtml file take a whole redeployment cycle. Previously, when you have Netbeans configured to redeploy, a change to an xhtml file was instantaneous.</p>",
        "id": 385138557,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692109268
    },
    {
        "content": "<p>Ehm... Told you so? <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 385236310,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692114665
    },
    {
        "content": "<p>It's not news to me. I'm just passing along feedback from people who have tried Docker and are using the classic method instead.</p>",
        "id": 385236763,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1692114759
    },
    {
        "content": "<p>Yeah, thx for the feedback, appreciate it. Can only say: workin' on it...</p>",
        "id": 385237305,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1692114863
    },
    {
        "content": "<p>Should we put this on the agenda for today's meeting? Any news? Anything to discuss! 3m to deploy according to <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/running.20using.20compose\">#containers &gt; running using compose</a> ! <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>",
        "id": 389629577,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1694084522
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/issues/9769\">#9769</a> has been closed. Should we discuss redeploying here or in <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/faster.20redeploy\">#containers &gt; faster redeploy</a> ? Are they separate topics? Should we close one of them?</p>",
        "id": 389630057,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1694084647
    },
    {
        "content": "<p>No news yet - sorry, my attention is requested at other places ATM</p>",
        "id": 389630553,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1694084777
    },
    {
        "content": "<p>Let's move discussion over there. Or can we merge?</p>",
        "id": 389630676,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1694084812
    },
    {
        "content": "<p>Or a fresh topic even <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 389632305,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1694085339
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> saw your comment on <a href=\"https://github.com/IQSS/dataverse/issues/9590#issuecomment-1734223276\">https://github.com/IQSS/dataverse/issues/9590#issuecomment-1734223276</a></p>",
        "id": 393100131,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695672351
    },
    {
        "content": "<p>When you are using Netbeans...</p>",
        "id": 393100182,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695672363
    },
    {
        "content": "<p>Is Netbeans starting the app server for you?</p>",
        "id": 393100286,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695672377
    },
    {
        "content": "<p>Or is it just deploying to a running webserver?</p>",
        "id": 393100375,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695672396
    },
    {
        "content": "<p>And if you change that XHTML, can you tell if it is redeploying the whole WAR / exploded WAR?</p>",
        "id": 393100466,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695672425
    },
    {
        "content": "<p>Yes, Netbeans is starting Payara. I'm happy to give you a quick demo if you like.</p>",
        "id": 393100651,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695672474
    },
    {
        "content": "<p>Sure!</p>",
        "id": 393100755,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695672490
    },
    {
        "content": "<p><a href=\"https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09\">https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09</a></p>",
        "id": 393100871,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695672523
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span>  and <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> , just curious, were you able to get the redeploy any faster?</p>",
        "id": 393102457,
        "sender_full_name": "Ellen K",
        "timestamp": 1695672965
    },
    {
        "content": "<p>Still hacking on it... <span aria-label=\"smile cat\" class=\"emoji emoji-1f638\" role=\"img\" title=\"smile cat\">:smile_cat:</span></p>",
        "id": 393107627,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695674688
    },
    {
        "content": "<p>Nothing yet. Took some notes here: <a href=\"https://github.com/IQSS/dataverse/issues/9590#issuecomment-1734223276\">https://github.com/IQSS/dataverse/issues/9590#issuecomment-1734223276</a></p>",
        "id": 393108037,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695674853
    },
    {
        "content": "<p>So I played with this some more and at least the JSF part is actually easy to pull of.</p>",
        "id": 393237073,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695735981
    },
    {
        "content": "<p>The key to success is making JSF work in dev mode and have a refresh time of 0</p>",
        "id": 393237148,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695736005
    },
    {
        "content": "<p>Oh, right, right, right. I forgot that bit.</p>",
        "id": 393237183,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736019
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598447\">@Ellen K</span> and I were just talking about the redeploy over coffee.</p>",
        "id": 393237246,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736037
    },
    {
        "content": "<p>I did a lot of more reading on this as well to look into hot redeploys for Java code</p>",
        "id": 393237384,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695736076
    },
    {
        "content": "<p>It looks like this might not (yet) be supported with IntelliJ, but should be doable with Netbeans, Eclipse and VSCode</p>",
        "id": 393237508,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695736100
    },
    {
        "content": "<p>/me looks at... As a developer, I want changes I make to the front end to be visible when I deploy from Netbeans <a href=\"https://github.com/IQSS/dataverse/issues/6953\">#6953</a></p>",
        "id": 393237579,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736122
    },
    {
        "content": "<p>And by the way: the way Netbeans copies on save is a special hack by them. I did not find any such functionality with the other IDEs</p>",
        "id": 393237638,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695736140
    },
    {
        "content": "<p>Well isn't that special</p>",
        "id": 393237788,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736184
    },
    {
        "content": "<p>The other IDEs require you to do a build for this... <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 393237927,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695736215
    },
    {
        "content": "<p>Here we define a refresh period of 1: <a href=\"https://guides.dataverse.org/en/6.0/developers/classic-dev-env.html#configure-your-development-environment-for-gui-edits\">https://guides.dataverse.org/en/6.0/developers/classic-dev-env.html#configure-your-development-environment-for-gui-edits</a></p>",
        "id": 393238438,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736368
    },
    {
        "content": "<p>I imagine any low number is fine.</p>",
        "id": 393238465,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736376
    },
    {
        "content": "<p>Still does't work. Am I don't this wrong?</p>\n<div class=\"codehilite\"><pre><span></span><code>diff --git a/docker-compose-dev.yml b/docker-compose-dev.yml\nindex ab44dbc180..ec67243e42 100644\n--- a/docker-compose-dev.yml\n+++ b/docker-compose-dev.yml\n@@ -14,6 +14,8 @@ services:\n       - DATAVERSE_DB_USER=${DATAVERSE_DB_USER}\n       - ENABLE_JDWP=1\n       - DATAVERSE_FEATURE_API_BEARER_AUTH=1\n+      - ENABLE_RELOAD=1\n+      - javax.faces.FACELETS_REFRESH_PERIOD=0\n     ports:\n       - &quot;8080:8080&quot; # HTTP (Dataverse Application)\n       - &quot;4848:4848&quot; # HTTP (Payara Admin Console)\n@@ -27,6 +29,7 @@ services:\n     volumes:\n       - ./docker-dev-volumes/app/data:/dv\n       - ./docker-dev-volumes/app/secrets:/secrets\n+      - ./target/dataverse-6.0:/opt/payara/deployments/dataverse\n     tmpfs:\n       - /dumps:mode=770,size=2052M,uid=1000,gid=1000\n       - /tmp:mode=770,size=2052M,uid=1000,gid=1000\n</code></pre></div>",
        "id": 393240559,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695736952
    },
    {
        "content": "<p>Oh wait, it should be <code>dataverse.jsf.refresh-period</code> but formatted in caps and such, I think.</p>",
        "id": 393240906,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737038
    },
    {
        "content": "<p>Yes. I'm about to make a PR about faster reloads. Personally, I would like to include this in the ENABLE_RELOAD switch, as it would make things easier then setting lots of things.</p>",
        "id": 393241189,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737105
    },
    {
        "content": "<p>\"Environment variables follow the key, replacing any dot, colon, dash, etc. into an underscore “_” and all uppercase letters. Example: <a href=\"http://dataverse.db.host\">dataverse.db.host</a> -&gt; DATAVERSE_DB_HOST\"</p>",
        "id": 393241242,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737119
    },
    {
        "content": "<p>We could also have a simple Maven property to enable this...</p>",
        "id": 393241317,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737140
    },
    {
        "content": "<p>Speaking of ENABLE_RELOAD=1, do I need it?</p>",
        "id": 393241470,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737170
    },
    {
        "content": "<p>Probably not right now</p>",
        "id": 393241563,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737194
    },
    {
        "content": "<p>I'll just want to make it more convenient that way</p>",
        "id": 393241645,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737216
    },
    {
        "content": "<p>It works! This is all I need:</p>\n<div class=\"codehilite\"><pre><span></span><code>diff --git a/docker-compose-dev.yml b/docker-compose-dev.yml\nindex ab44dbc180..2b9a69f9ba 100644\n--- a/docker-compose-dev.yml\n+++ b/docker-compose-dev.yml\n@@ -14,6 +14,7 @@ services:\n       - DATAVERSE_DB_USER=${DATAVERSE_DB_USER}\n       - ENABLE_JDWP=1\n       - DATAVERSE_FEATURE_API_BEARER_AUTH=1\n+      - DATAVERSE_JSF_REFRESH_PERIOD=1\n     ports:\n       - &quot;8080:8080&quot; # HTTP (Dataverse Application)\n       - &quot;4848:4848&quot; # HTTP (Payara Admin Console)\n@@ -27,6 +28,7 @@ services:\n     volumes:\n       - ./docker-dev-volumes/app/data:/dv\n       - ./docker-dev-volumes/app/secrets:/secrets\n+      - ./target/dataverse-6.0:/opt/payara/deployments/dataverse\n     tmpfs:\n       - /dumps:mode=770,size=2052M,uid=1000,gid=1000\n       - /tmp:mode=770,size=2052M,uid=1000,gid=1000\n</code></pre></div>",
        "id": 393242607,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737438
    },
    {
        "content": "<p>Muhahaha!</p>",
        "id": 393242642,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737451
    },
    {
        "content": "<p>Of course we need to factor out that <code>6.0</code> in there.</p>",
        "id": 393242777,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737484
    },
    {
        "content": "<p>Actually I do have an idea for that. Let me pick your brain about this.</p>",
        "id": 393242891,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737516
    },
    {
        "content": "<p>We can make the WAR plugin (that creates the exploded and the WAR) skip the version number</p>",
        "id": 393243026,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737542
    },
    {
        "content": "<p>Would that make sense? Would it be disruptive to someone else?</p>",
        "id": 393243097,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737564
    },
    {
        "content": "<p>Well, my first question is if we have a variable we can reuse for the number, the 6.0. It's in the pom already.</p>",
        "id": 393243223,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737601
    },
    {
        "content": "<p>(Obviously we could just change the config in the ct profile, but then it might get harder to use with IDE rebuilds, as you would need to configure the profile)</p>",
        "id": 393243251,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737609
    },
    {
        "content": "<p>Not if we insist on enabling people to run this just from using <code>docker compose</code></p>",
        "id": 393243328,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737640
    },
    {
        "content": "<p>It's would be no problem if everybody uses <code>mvn</code> to start the containers</p>",
        "id": 393243422,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737661
    },
    {
        "content": "<p>(Because then we can use variable substitution))</p>",
        "id": 393243473,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737680
    },
    {
        "content": "<p>We can of course add an env var in there, but that would need to be adapted with every version increase. Meh</p>",
        "id": 393243592,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737714
    },
    {
        "content": "<p>For the next PR, I say we:</p>\n<ul>\n<li>add <code>DATAVERSE_JSF_REFRESH_PERIOD=1</code> to the compose file (can't hurt)</li>\n<li>document how to add <code>./target/dataverse-6.0:/opt/payara/deployments/dataverse</code> as a volume to the compose file and explain that 6.0 is a placeholder</li>\n</ul>",
        "id": 393243917,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737807
    },
    {
        "content": "<p>instant value</p>",
        "id": 393243984,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695737825
    },
    {
        "content": "<p>I would like to make it a little more complete</p>",
        "id": 393244295,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737916
    },
    {
        "content": "<p>Just a tiny bit</p>",
        "id": 393244327,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737929
    },
    {
        "content": "<p>But in general, I agree</p>",
        "id": 393244359,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695737938
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598447\">@Ellen K</span> it works!</p>",
        "id": 393244773,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695738075
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> so are you making a PR or should I?</p>",
        "id": 393244846,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1695738099
    },
    {
        "content": "<p>On it</p>",
        "id": 393244886,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695738109
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/pull/9959\">https://github.com/IQSS/dataverse/pull/9959</a></p>",
        "id": 393252002,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695740033
    },
    {
        "content": "<p>I have a new Dataverse 6.0 docker installation as per <a href=\"https://guides.dataverse.org/en/latest/container/dev-usage.html\">https://guides.dataverse.org/en/latest/container/dev-usage.html</a> and when I try to access the Payara console at <a href=\"http://localhost:4848\">http://localhost:4848</a> it redirects to <a href=\"https://localhost:4848\">https://localhost:4848</a> with a warning about the self signed cert provided by this endpoint.</p>\n<p>Is there a reason for serving the Payara console via https in development mode?</p>\n<p>I actually wanted to try IntelliJ's Payara remote run config, which may enable deploying a new Dataverse version from IntelliJ directly, thus making development easier, but because of the invalid cert it cannot connect at localhost:4848.</p>",
        "id": 399050958,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698499541
    },
    {
        "content": "<p>I'm VERY interested in improving the DX (dev experience) for Dataverse. This remote run stuff falls under this issue, for sure: Faster turn-around times for devs using containers <a href=\"https://github.com/IQSS/dataverse/issues/9590\">#9590</a></p>\n<p>I might be out of luck with the community edition. It seems like need IntelliJ IDEA Ultimate to install Payara Platform Tools:</p>\n<p><a href=\"/user_uploads/53090/YCDj3W0iRf90c9QasWbNSwgF/Screenshot-2023-10-30-at-9.46.54-AM.png\">Screenshot-2023-10-30-at-9.46.54-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/YCDj3W0iRf90c9QasWbNSwgF/Screenshot-2023-10-30-at-9.46.54-AM.png\" title=\"Screenshot-2023-10-30-at-9.46.54-AM.png\"><img src=\"/user_uploads/53090/YCDj3W0iRf90c9QasWbNSwgF/Screenshot-2023-10-30-at-9.46.54-AM.png\"></a></div><p>I was trying to follow <a href=\"https://blog.jetbrains.com/idea/2021/04/fast-and-efficient-development-with-payara-server-intellij-idea-ultimate/\">https://blog.jetbrains.com/idea/2021/04/fast-and-efficient-development-with-payara-server-intellij-idea-ultimate/</a></p>\n<p>Anyway, what would be the best way to unblock you? To install a valid cert?</p>",
        "id": 399305736,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698673823
    },
    {
        "content": "<p>I have the ultimate edition and there I have these options:</p>\n<p><a href=\"/user_uploads/53090/X6DdF9_Yut3IqZ5f2oDS6AFp/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/X6DdF9_Yut3IqZ5f2oDS6AFp/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/X6DdF9_Yut3IqZ5f2oDS6AFp/image.png\"></a></div><p>When I use remote, I get these options:</p>\n<p><a href=\"/user_uploads/53090/x7XICm6FHX_geZXRupxU9MHS/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/x7XICm6FHX_geZXRupxU9MHS/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/x7XICm6FHX_geZXRupxU9MHS/image.png\"></a></div><p>Well, the best option would be no SSL at all. If I click \"Use SSL connection\" it will try to connect to port 61008, without this check it tries to connect to http 4848 which is actually a https port now.</p>",
        "id": 399322927,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698678896
    },
    {
        "content": "<p>I see. From the docker compose perspective, we're simply mapping ports one to one like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>    ports:\n      - &quot;8080:8080&quot; # HTTP (Dataverse Application)\n      - &quot;4848:4848&quot; # HTTP (Payara Admin Console)\n      - &quot;9009:9009&quot; # JDWP\n      - &quot;8686:8686&quot; # JMX\n</code></pre></div>\n<p>I wonder if there's a non-SSL port we can map.</p>",
        "id": 399324929,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698679469
    },
    {
        "content": "<p>But why is 4848 serving actually HTTPS? I couldn't find anything about it in the docker configs. Is it a new Payar 6 \"feature\" maybe?</p>\n<p>Can you, please, confirm that when you open <a href=\"http://localhost:4848\">http://localhost:4848</a> you also get the warning about the cert (in Chrome, for example)?</p>",
        "id": 399325609,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698679655
    },
    {
        "content": "<p>Not sure. I found this (perhaps) related issue: <a href=\"https://github.com/payara/ecosystem-support/issues/59\">https://github.com/payara/ecosystem-support/issues/59</a></p>",
        "id": 399326746,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698679932
    },
    {
        "content": "<p>Hmm, maybe this is what's doing it:</p>\n<div class=\"codehilite\"><pre><span></span><code>modules/container-base/src/main/docker/Dockerfile\n141:    ${ASADMIN} enable-secure-admin\n</code></pre></div>",
        "id": 399328090,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698680319
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> do you want to try rebuilding the base image without that?</p>",
        "id": 399328154,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698680346
    },
    {
        "content": "<p>Sure, I give it a try!</p>",
        "id": 399333918,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698682051
    },
    {
        "content": "<p>I tried commenting that out and also using</p>\n<div class=\"codehilite\"><pre><span></span><code>${ASADMIN} disable-secure-admin\n</code></pre></div>\n<p>But it did nothing. Then I tried it disabling via the admin console UI:</p>\n<p>Configurations &gt; default-config &gt; Protocols &gt; sec-admin-listener &gt; Use the Secure Administration page to enable/disable secure administration at <a href=\"https://localhost:4848/common/appServer/securityAdmin.jsf\">https://localhost:4848/common/appServer/securityAdmin.jsf</a></p>\n<p>This worked! Now I can access the admin console at <a href=\"http://localhost:4848\">http://localhost:4848</a>, however when  try to log in it gives me:</p>\n<p><a href=\"/user_uploads/53090/YdqAOQLTmKx8fKcVSahyfqtz/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/YdqAOQLTmKx8fKcVSahyfqtz/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/YdqAOQLTmKx8fKcVSahyfqtz/image.png\"></a></div><p>Configuration Error<br>\nSecure Admin must be enabled to access the DAS remotely.</p>\n<p>So, it seems to be a Catch-22 for me: I can disable secure admin via the admin console, but then I cannot log in via HTTP anymore.</p>",
        "id": 399520220,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698758580
    },
    {
        "content": "<p>Ok, I got a little bit further by adding an nginx to the docker-compose, which proxies HTTP 4849 to the backend HTTPS 4848. This way I can access from the Intellij run config Payara admin at <a href=\"http://localhost:4849\">http://localhost:4849</a>. However, during redeploy I get:</p>\n<div class=\"codehilite\"><pre><span></span><code>dev_dataverse&gt;   java.lang.Exception: Virtual server server already has a web module dataverse loaded at / therefore web module dataverse-6.0 cannot be loaded at this context path on this virtual server\n</code></pre></div>\n<p>Now, I undeployed the dataverse app by hand via the admin console, and now I can redeploy the app from IntelliJ or hot reload classes with minimal changes. </p>\n<p><a href=\"/user_uploads/53090/PPVgKLW8McnJ9sDjREF7BnMT/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/PPVgKLW8McnJ9sDjREF7BnMT/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/PPVgKLW8McnJ9sDjREF7BnMT/image.png\"></a></div><p>The redeploy is ~20 sec.</p>\n<p>Unfortunately the <code>Update classes and resources</code> is not available, which allows hot reloading XHTML files in normal local Payara usage:</p>\n<p><a href=\"/user_uploads/53090/66sqchFz_llKJDuZKiqk7Q7d/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/66sqchFz_llKJDuZKiqk7Q7d/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/66sqchFz_llKJDuZKiqk7Q7d/image.png\"></a></div>",
        "id": 399545100,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698765935
    },
    {
        "content": "<p>Huh, it looks available in the screenshot</p>",
        "id": 399545456,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698766043
    },
    {
        "content": "<p>The first one with the 2 items is what is availble with remote Payara run config (ie. Payara in Docker), the later is when IntelliJ can run asadmin locally for a locally running Payara.</p>",
        "id": 399546112,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698766215
    },
    {
        "content": "<p>Oh, I see. Thanks.</p>",
        "id": 399546542,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698766345
    },
    {
        "content": "<p>Well, you've made a lot of progress. We can see the limitations, at least.</p>",
        "id": 399546620,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698766370
    },
    {
        "content": "<p>But can we overcome them?</p>",
        "id": 399546662,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698766382
    },
    {
        "content": "<p>I'm not really sure, but probably not. </p>\n<p>As far as I understand, in case of remote deployment IntelliJ has 2 API-s available:</p>\n<ul>\n<li>The java remote debugging via 9009</li>\n<li>/__asadmin/deploy to deploy a packaged war build of dataverse</li>\n</ul>\n<p>Unfortunately, I don't know what is the magic behind <code>Update classes and resources</code>, but it doesn't seem to be related to remote java debugging via JDWP. Is it maybe a Payara feature with a magic classloader? I don't know.</p>",
        "id": 399549824,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698767180
    },
    {
        "content": "<p>Hmm. Have you heard of JRebel? <a href=\"https://www.jrebel.com\">https://www.jrebel.com</a> . I wonder how they do it.</p>",
        "id": 399569137,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698772971
    },
    {
        "content": "<p>Yes, I heard, they do it for a lot of $$$ :-) The closest free thing is <a href=\"http://hotswapagent.org/\">http://hotswapagent.org/</a> I tried it a couple of years ago, works quite nicely, allows reloading classes with deeper changes (new methods, fields added, etc), but I am not sure how it handles xhtml files, which are not compiled at IDE time.</p>",
        "id": 399667469,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698821093
    },
    {
        "content": "<p>There's also this, but I haven't tried it: <a href=\"https://manik.imixs.org/\">https://manik.imixs.org/</a></p>",
        "id": 399669406,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698822053
    },
    {
        "content": "<p>Manik also seem to work with a local Payara installation <a href=\"https://manik.imixs.org/userguide.html#payara\">https://manik.imixs.org/userguide.html#payara</a></p>\n<p>I wonder whether it is possible to make Payara in docker use an exploded war available in a mapped volume and pick up changes there.</p>",
        "id": 399670521,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698822587
    },
    {
        "content": "<p>As a Netbeans user, I'm no longer worried about xhtml files. Recently we made this pull request to address that: allow fast xhtml edits in Docker <a href=\"https://github.com/IQSS/dataverse/issues/9961\">#9961</a></p>",
        "id": 399713551,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698840924
    },
    {
        "content": "<p>Manik looks interesting! For the PR I just mentioned we have this under \"volumes\" in our docker compose: <code>./target/dataverse-6.0:/opt/payara/deployments/dataverse</code>. Maybe it'll work with Manik?!? Not sure.</p>",
        "id": 399713972,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698841086
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/Payara.20admin.20console.20redirects.20to.20https/near/399713551\">said</a>:</p>\n<blockquote>\n<p>As a Netbeans user, I'm no longer worried about xhtml files. Recently we made this pull request to address that: allow fast xhtml edits in Docker <a href=\"https://github.com/IQSS/dataverse/issues/9961\">#9961</a></p>\n</blockquote>\n<p>The main things seems to be <code>DATAVERSE_JSF_REFRESH_PERIOD=1</code> here. How does it relate to or specific to Netbeans?</p>\n<p>Once the war is loaded from a mapped volume I feel a lot of options open up regarding managing reloads, because this would be very simiilar to a local Payara install. But it needs experimenting, sure.</p>",
        "id": 399731313,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698847301
    },
    {
        "content": "<p>It's not specific to Netbeans. It tells the app server how often to look for changes to XHTML files. In production it's basically set to \"never\". In dev, we set it to every second, which is plenty fast enough.</p>",
        "id": 399735144,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698848453
    },
    {
        "content": "<p>Which should we try first, HotswapAgent or Manik?</p>",
        "id": 399738000,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698849367
    },
    {
        "content": "<p>I see Payara mentioned here: <a href=\"https://manik.imixs.org/userguide.html#payara\">https://manik.imixs.org/userguide.html#payara</a></p>",
        "id": 399738344,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698849487
    },
    {
        "content": "<p>I feel like we should rename this thread. It's becoming more about iterating on code quickly, right?</p>",
        "id": 399740983,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698850320
    },
    {
        "content": "<p>I could even move these messages to <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/faster.20redeploy\">#containers &gt; faster redeploy</a> ... Any objection, <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> ?</p>",
        "id": 399742144,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698850680
    },
    {
        "content": "<p>Sure, you can move it/rename it.</p>\n<p>I think HotswapAgent could be the first target. This would augment the current class reload capabilities via JDWP, which would be a big win.</p>",
        "id": 399742636,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698850810
    },
    {
        "content": "<p>30 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/Payara.20admin.20console.20redirects.20to.20https\">#containers &gt; Payara admin console redirects to https</a> by <span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span>.</p>",
        "id": 399742795,
        "sender_full_name": "Notification Bot",
        "timestamp": 1698850842
    },
    {
        "content": "<p>Yeah? HotswapAgent? Ok. No objection. They do seem to support Java 17.</p>",
        "id": 399745502,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698851618
    },
    {
        "content": "<p>Submitted PR for the nginx workaround: <a href=\"https://github.com/IQSS/dataverse/pull/10088\">https://github.com/IQSS/dataverse/pull/10088</a></p>",
        "id": 399969704,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1698939604
    },
    {
        "content": "<p>Aw. You removed \"hack\" from the name. Otherwise, looks perfect! Thanks! <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 399974821,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698941022
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> heads up that <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> was struggling with the re-deploy instructions this morning and I told him he's welcome to go ahead and make a PR to remove them. He just did: <a href=\"https://github.com/IQSS/dataverse/issues/10089\">#10089</a></p>",
        "id": 399998063,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698949015
    },
    {
        "content": "<p>Or rather, drastically shorten them: <a href=\"https://dataverse-guide--10089.org.readthedocs.build/en/10089/container/dev-usage.html#re-deploying\">https://dataverse-guide--10089.org.readthedocs.build/en/10089/container/dev-usage.html#re-deploying</a></p>",
        "id": 399998120,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698949045
    },
    {
        "content": "<p>Merged.</p>",
        "id": 399998578,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1698949275
    },
    {
        "content": "<p>I just made this PR: Containers: set autodeploy-enabled=true for ENABLE_RELOAD <a href=\"https://github.com/IQSS/dataverse/issues/10100\">#10100</a></p>",
        "id": 400331349,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699137231
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> no rush but I'm curious what you think.</p>",
        "id": 400331397,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699137247
    },
    {
        "content": "<p>In the toy \"people\" app, I'm starting to document how to redeploy to Payara running in Docker, starting with the most obvious ways: <a href=\"https://github.com/IQSS/dataverse-people/commit/afb59e8\">https://github.com/IQSS/dataverse-people/commit/afb59e8</a></p>",
        "id": 400345887,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699149375
    },
    {
        "content": "<p>I'm hoping to apply anything I learn through this exercise to Dataverse, of course.</p>",
        "id": 400345911,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699149406
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/400331397\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> no rush but I'm curious what you think.</p>\n</blockquote>\n<p>Nice! Just one hint... have you seen <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a>? <span aria-label=\"hug\" class=\"emoji emoji-1f917\" role=\"img\" title=\"hug\">:hug:</span><span aria-label=\"yum\" class=\"emoji emoji-1f60b\" role=\"img\" title=\"yum\">:yum:</span></p>",
        "id": 400380786,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699178103
    },
    {
        "content": "<p>Actually Manik which <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> mentioned could be one of the missing pieces of the puzzle here: something watching for changes and repackaging the application.</p>",
        "id": 400380925,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699178256
    },
    {
        "content": "<p>(I experimented a bit with changing the autodeploy dir in the domain config, but had no luck, didn't work. Maybe we can try again)</p>",
        "id": 400381199,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699178468
    },
    {
        "content": "<p>Ah, so you also discovered we don't have <code>autodeploy-enabled=true</code>. Do you care if I merge my pull request?</p>",
        "id": 400391319,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699187502
    },
    {
        "content": "<p>Dunno. Wouldn't it make sense to figure out some more stuff first to get this going? As I said, the autodeploy dir is different, so this will need some more tuning and experimentation</p>",
        "id": 400393613,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699189661
    },
    {
        "content": "<p>To me it's a harmless change that improves the base image. Without it, if you put a war file in the autodeploy directory, nothing happens.</p>",
        "id": 400395362,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699191487
    },
    {
        "content": "<p>Sadly, the autodeploy directory method only works the first time you copy a war file into it: <a href=\"https://github.com/IQSS/dataverse-people/commit/6e290c5\">https://github.com/IQSS/dataverse-people/commit/6e290c5</a></p>",
        "id": 400398647,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699194399
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> so! I'm on your branch, this PR: Add gdcc/nginx:unstable image and dev_nginx container for IntelliJ Payara plugin workaround <a href=\"https://github.com/IQSS/dataverse/issues/10088\">#10088</a></p>",
        "id": 400570741,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699288565
    },
    {
        "content": "<p>It says \"connected to server\":</p>\n<p><a href=\"/user_uploads/53090/yo6P-3ZLUvKKW0szZaBFlf90/Screenshot-2023-11-06-at-11.36.52-AM.png\">Screenshot-2023-11-06-at-11.36.52-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/yo6P-3ZLUvKKW0szZaBFlf90/Screenshot-2023-11-06-at-11.36.52-AM.png\" title=\"Screenshot-2023-11-06-at-11.36.52-AM.png\"><img src=\"/user_uploads/53090/yo6P-3ZLUvKKW0szZaBFlf90/Screenshot-2023-11-06-at-11.36.52-AM.png\"></a></div>",
        "id": 400570919,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699288634
    },
    {
        "content": "<p>Do you have time for a Zoom? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 400570950,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699288642
    },
    {
        "content": "<p>It works! <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> is my hero!! <img alt=\":dataverse_man:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/44207.png\" title=\"dataverse man\"></p>",
        "id": 400586548,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699294084
    },
    {
        "content": "<p>I hope no one minds about improvements?</p>",
        "id": 400596647,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699298621
    },
    {
        "content": "<p>I'd say let's make 4848 HTTP by default and do not create another image... Instead just use vanilla nginx.</p>",
        "id": 400596889,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699298676
    },
    {
        "content": "<p>But yes, I love where this is going!</p>",
        "id": 400596980,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699298702
    },
    {
        "content": "<p>Merged! I added some docs: <a href=\"https://dataverse-guide--10102.org.readthedocs.build/en/10102/container/dev-usage.html#intellij-idea-ultimate-and-payara-platform-tools\">https://dataverse-guide--10102.org.readthedocs.build/en/10102/container/dev-usage.html#intellij-idea-ultimate-and-payara-platform-tools</a></p>",
        "id": 400597760,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699298984
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> yes, please feel free to refactor away!</p>",
        "id": 400599960,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699299977
    },
    {
        "content": "<p>I just got it working in Netbeans too! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 400629391,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699314398
    },
    {
        "content": "<p>Hmm, having trouble reproducing what I did in Netbeans. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 400638936,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699319451
    },
    {
        "content": "<p>Here are some screenshots on what I was doing, at least:</p>\n<p><a href=\"/user_uploads/53090/V3onqCutDCWH33S1d_iOX9RB/apply-code-changes.png\">apply-code-changes.png</a><br>\n<a href=\"/user_uploads/53090/yAWmNc7BV5KCYisyaSrht4Gi/compile.png\">compile.png</a><br>\n<a href=\"/user_uploads/53090/BIVdSHYwkYUktfSkZP6yQXRA/run.png\">run.png</a><br>\n<a href=\"/user_uploads/53090/jMfaGCbWaBvpxuJ9vQiHu0ms/server-common.png\">server-common.png</a><br>\n<a href=\"/user_uploads/53090/PYNktq8CUfrSSgcFXXDR5Tdj/server-java.png\">server-java.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/V3onqCutDCWH33S1d_iOX9RB/apply-code-changes.png\" title=\"apply-code-changes.png\"><img src=\"/user_uploads/53090/V3onqCutDCWH33S1d_iOX9RB/apply-code-changes.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/53090/yAWmNc7BV5KCYisyaSrht4Gi/compile.png\" title=\"compile.png\"><img src=\"/user_uploads/53090/yAWmNc7BV5KCYisyaSrht4Gi/compile.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/53090/BIVdSHYwkYUktfSkZP6yQXRA/run.png\" title=\"run.png\"><img src=\"/user_uploads/53090/BIVdSHYwkYUktfSkZP6yQXRA/run.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/53090/jMfaGCbWaBvpxuJ9vQiHu0ms/server-common.png\" title=\"server-common.png\"><img src=\"/user_uploads/53090/jMfaGCbWaBvpxuJ9vQiHu0ms/server-common.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/53090/PYNktq8CUfrSSgcFXXDR5Tdj/server-java.png\" title=\"server-java.png\"><img src=\"/user_uploads/53090/PYNktq8CUfrSSgcFXXDR5Tdj/server-java.png\"></a></div>",
        "id": 400639229,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699319608
    },
    {
        "content": "<p>Actually, it stopped working in IntelliJ too. <span aria-label=\"disappointed\" class=\"emoji emoji-1f61e\" role=\"img\" title=\"disappointed\">:disappointed:</span></p>",
        "id": 400642317,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699321376
    },
    {
        "content": "<p>And when I start over and try to undeploy the war file that's initially deployed in our container, I'm not getting this error:</p>\n<div class=\"codehilite\"><pre><span></span><code>dev_dataverse&gt; [#|2023-11-07T01:41:56.980+0000|INFO|Payara 6.2023.8||_ThreadID=228;_ThreadName=admin-thread-pool::admin-listener(7);_TimeMillis=1699321316980;_LevelValue=800;|\ndev_dataverse&gt;   RewriteFilter shutting down...|#]\ndev_dataverse&gt;\ndev_dataverse&gt; [#|2023-11-07T01:41:56.980+0000|INFO|Payara 6.2023.8||_ThreadID=228;_ThreadName=admin-thread-pool::admin-listener(7);_TimeMillis=1699321316980;_LevelValue=800;|\ndev_dataverse&gt;   RewriteFilter deactivated.|#]\ndev_dataverse&gt;\ndev_dataverse&gt; [#|2023-11-07T01:41:57.145+0000|INFO|Payara 6.2023.8|javax.enterprise.system.container.ejb.com.sun.ejb.containers|_ThreadID=228;_ThreadName=admin-thread-pool::admin-listener(7);_TimeMillis=1699321317145;_LevelValue=800;|\ndev_dataverse&gt;   No timers to be deleted for id: 111366718806163456|#]\ndev_dataverse&gt;\ndev_dataverse&gt; [#|2023-11-07T01:41:57.146+0000|WARNING|Payara 6.2023.8|jakarta.enterprise.web.util|_ThreadID=228;_ThreadName=admin-thread-pool::admin-listener(7);_TimeMillis=1699321317146;_LevelValue=900;|\ndev_dataverse&gt;   The web application [] registered the JDBC driver [org.postgresql.Driver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered.|#]\ndev_dataverse&gt;\ndev_dataverse&gt; [#|2023-11-07T01:41:57.154+0000|SEVERE|Payara 6.2023.8|com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl|_ThreadID=124;_ThreadName=Executor-Service-9;_TimeMillis=1699321317154;_LevelValue=1000;|\ndev_dataverse&gt;   Could not instantiate service: fish.payara.jbatch.persistence.rdbms.LazyBootPersistenceManager due to exception:java.lang.ClassNotFoundException: fish.payara.jbatch.persistence.rdbms.LazyBootPersistenceManager not found by fish.payara.server.internal.batch.payara-jbatch [372]|#]\ndev_dataverse&gt;\ndev_dataverse&gt; [#|2023-11-07T01:41:57.154+0000|SEVERE|Payara 6.2023.8|com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl|_ThreadID=124;_ThreadName=Executor-Service-9;_TimeMillis=1699321317154;_LevelValue=1000;|\ndev_dataverse&gt;   Could not instantiate service: com.ibm.jbatch.container.impl.BatchKernelImpl due to exception:java.lang.reflect.InvocationTargetException|#]\ndev_dataverse&gt;\ndev_dataverse&gt; [#|2023-11-07T01:41:57.154+0000|WARNING|Payara 6.2023.8|javax.enterprise.system.core|_ThreadID=124;_ThreadName=Executor-Service-9;_TimeMillis=1699321317154;_LevelValue=900;_MessageID=NCLS-CORE-00069;|\ndev_dataverse&gt;   Exception while dispatching an event\ndev_dataverse&gt; java.util.ServiceConfigurationError: jakarta.batch.operations.JobOperator: Provider com.ibm.jbatch.container.api.impl.JobOperatorImpl could not be instantiated\ndev_dataverse&gt;  at java.base/java.util.ServiceLoader.fail(Unknown Source)\ndev_dataverse&gt;  at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(Unknown Source)\ndev_dataverse&gt;  at java.base/java.util.ServiceLoader$ProviderImpl.get(Unknown Source)\ndev_dataverse&gt;  at java.base/java.util.ServiceLoader$3.next(Unknown Source)\ndev_dataverse&gt;  at jakarta.batch.runtime.BatchRuntime.getJobOperator(BatchRuntime.java:48)\ndev_dataverse&gt;  at org.glassfish.batch.spi.impl.BatchRuntimeHelper.event(BatchRuntimeHelper.java:216)\ndev_dataverse&gt;  at org.glassfish.kernel.event.EventsImpl$1.run(EventsImpl.java:123)\ndev_dataverse&gt;  at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\ndev_dataverse&gt;  at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\ndev_dataverse&gt;  at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\ndev_dataverse&gt;  at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\ndev_dataverse&gt;  at java.base/java.lang.Thread.run(Unknown Source)\ndev_dataverse&gt; Caused by: java.lang.RuntimeException: Could not instantiate service com.ibm.jbatch.container.impl.BatchKernelImpl\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader._loadServiceHelper(ServicesManagerImpl.java:424)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader.getService(ServicesManagerImpl.java:403)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader.access$300(ServicesManagerImpl.java:388)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl.getService(ServicesManagerImpl.java:304)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl.getBatchKernelService(ServicesManagerImpl.java:348)\ndev_dataverse&gt;  at com.ibm.jbatch.container.api.impl.JobOperatorImplDelegate.&lt;init&gt;(JobOperatorImplDelegate.java:74)\ndev_dataverse&gt;  at com.ibm.jbatch.container.api.impl.JobOperatorImpl.&lt;init&gt;(JobOperatorImpl.java:73)\ndev_dataverse&gt;  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\ndev_dataverse&gt;  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\ndev_dataverse&gt;  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\ndev_dataverse&gt;  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\ndev_dataverse&gt;  at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\ndev_dataverse&gt;  ... 11 more\ndev_dataverse&gt; Caused by: java.lang.reflect.InvocationTargetException\ndev_dataverse&gt;  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\ndev_dataverse&gt;  at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\ndev_dataverse&gt;  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\ndev_dataverse&gt;  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Unknown Source)\ndev_dataverse&gt;  at java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader._loadService(ServicesManagerImpl.java:447)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader._loadServiceHelper(ServicesManagerImpl.java:420)\ndev_dataverse&gt;  ... 22 more\ndev_dataverse&gt; Caused by: java.lang.RuntimeException: Could not instantiate service fish.payara.jbatch.persistence.rdbms.LazyBootPersistenceManager\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader._loadServiceHelper(ServicesManagerImpl.java:424)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader.getService(ServicesManagerImpl.java:403)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader.access$300(ServicesManagerImpl.java:388)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl.getService(ServicesManagerImpl.java:304)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl.getPersistenceManagerService(ServicesManagerImpl.java:333)\ndev_dataverse&gt;  at com.ibm.jbatch.container.impl.BatchKernelImpl.&lt;init&gt;(BatchKernelImpl.java:87)\ndev_dataverse&gt;  ... 29 more\ndev_dataverse&gt; Caused by: java.lang.ClassNotFoundException: fish.payara.jbatch.persistence.rdbms.LazyBootPersistenceManager not found by fish.payara.server.internal.batch.payara-jbatch [372]\ndev_dataverse&gt;  at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1591)\ndev_dataverse&gt;  at org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)\ndev_dataverse&gt;  at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1976)\ndev_dataverse&gt;  at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader._loadService(ServicesManagerImpl.java:441)\ndev_dataverse&gt;  at com.ibm.jbatch.container.servicesmanager.ServicesManagerImpl$ServiceLoader._loadServiceHelper(ServicesManagerImpl.java:420)\ndev_dataverse&gt;  ... 34 more\ndev_dataverse&gt; |#]\ndev_dataverse&gt;\n</code></pre></div>",
        "id": 400642458,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699321448
    },
    {
        "content": "<p>This is on my laptop at home. It was working. Both IntelliJ and Netbeans. But now neither one works. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 400642590,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699321525
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 400643335,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699321995
    },
    {
        "content": "<p>I rebooted my laptop and now fast redeploy from both IntelliJ and Netbeans are working. <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 400744640,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699365272
    },
    {
        "content": "<p>Mind you, I'm not sure rebooting was necessary but I was getting frustrated. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 400744704,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699365293
    },
    {
        "content": "<p>I recorded a video of fast redeploy with Netbeans: <a href=\"https://harvard.zoom.us/rec/share/BCEJnBDUFCiRxkN0r54FWNku0GWdKJysRubQoYg2NCm6sYqsNPyq0_0kwzsT-8yZ.f1v-LGnfP9pPnJwv\">https://harvard.zoom.us/rec/share/BCEJnBDUFCiRxkN0r54FWNku0GWdKJysRubQoYg2NCm6sYqsNPyq0_0kwzsT-8yZ.f1v-LGnfP9pPnJwv</a></p>",
        "id": 400778359,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699375384
    },
    {
        "content": "<p>Once YouTube is done processing it, it should also appear here: <a href=\"https://www.youtube.com/watch?v=yo3aKOg96f0\">https://www.youtube.com/watch?v=yo3aKOg96f0</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"yo3aKOg96f0\" href=\"https://www.youtube.com/watch?v=yo3aKOg96f0\"><img src=\"https://uploads.zulipusercontent.net/340e7016889db9eaddad4bf215ee65492b58ca11/68747470733a2f2f692e7974696d672e636f6d2f76692f796f33614b4f67393666302f64656661756c742e6a7067\"></a></div>",
        "id": 400778457,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699375418
    },
    {
        "content": "<p>One take! <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 400778694,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699375521
    },
    {
        "content": "<p>I was working on improving the deets this morning to make the setup easier and have less new dependencies</p>",
        "id": 400779082,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699375658
    },
    {
        "content": "<p>We have <a href=\"https://github.com/IQSS/dataverse/issues/9590\">#9590</a>, should we write down some stuff we have in mind?</p>",
        "id": 400779434,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699375780
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> this works for XHTML edits, too, right?</p>",
        "id": 400779551,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699375805
    },
    {
        "content": "<p>Sure. Or we could do it live in the container meeting on Thursday. Or type here for now.</p>",
        "id": 400780559,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699376136
    },
    {
        "content": "<p>When I do \"apply code changes\" on xhtml, Netbeans says \"No class to reload\".</p>",
        "id": 400780927,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699376248
    },
    {
        "content": "<p>So XHTML isn't propagated after a change using the Payara Tools?</p>",
        "id": 400781569,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699376435
    },
    {
        "content": "<p>This is builtin Netbeans functionality I'm using.</p>",
        "id": 400781767,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699376491
    },
    {
        "content": "<p><a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/Ecosystem/IDE%20Integration/Apache%20NetBeans%20IDE/Payara%20Server.html\">https://docs.payara.fish/community/docs/Technical%20Documentation/Ecosystem/IDE%20Integration/Apache%20NetBeans%20IDE/Payara%20Server.html</a></p>",
        "id": 400781876,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699376522
    },
    {
        "content": "<p>That's a bummer! As the files are hotreload via a WAR file being thrown an the server, I don't see how this builtin thing actually would help with this. Can you do me a favor and try this?</p>",
        "id": 400782302,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699376643
    },
    {
        "content": "<p>Do you want to do a zoom?</p>",
        "id": 400782527,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699376738
    },
    {
        "content": "<p><a href=\"https://fz-juelich-de.zoom.us/j/66663859869?pwd=ZjZaRjFSK3QzV3RPK293N3dhUWlDZz09\">https://fz-juelich-de.zoom.us/j/66663859869?pwd=ZjZaRjFSK3QzV3RPK293N3dhUWlDZz09</a></p>",
        "id": 400783032,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699376923
    },
    {
        "content": "<p>Need to run soon</p>",
        "id": 400783046,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699376930
    },
    {
        "content": "<p>I just let people know about my Netbeans video: <a href=\"https://groups.google.com/g/dataverse-community/c/zNBDzSMF2Q0/m/Z-xS6fA2BgAJ\">https://groups.google.com/g/dataverse-community/c/zNBDzSMF2Q0/m/Z-xS6fA2BgAJ</a></p>",
        "id": 400797289,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699382714
    },
    {
        "content": "<p>I just posted about the video here: <a href=\"https://forum.payara.fish/t/fast-redeployment/721\">https://forum.payara.fish/t/fast-redeployment/721</a></p>",
        "id": 400854286,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699410689
    },
    {
        "content": "<p>And here (Netbeans mailing list): <a href=\"https://lists.apache.org/thread/y7x918bm30mdzyr88xfhvwlnqm3x51gs\">https://lists.apache.org/thread/y7x918bm30mdzyr88xfhvwlnqm3x51gs</a></p>",
        "id": 400854424,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699410757
    },
    {
        "content": "<p>In the little time I could spend on <a href=\"https://github.com/IQSS/dataverse/pull/9959\">https://github.com/IQSS/dataverse/pull/9959</a> today, I'm hacking away on making it more polished</p>",
        "id": 400973612,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699459066
    },
    {
        "content": "<p>Here's a sneak peak at the docs I'm writing, hoping you might add steps for Netbeans later. Maybe <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> can add steps for VSCode, too. <br>\n<a href=\"/user_uploads/53090/v9BBwc-xqmdwEzAhyE3n5qqY/grafik.png\">grafik.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/v9BBwc-xqmdwEzAhyE3n5qqY/grafik.png\" title=\"grafik.png\"><img src=\"/user_uploads/53090/v9BBwc-xqmdwEzAhyE3n5qqY/grafik.png\"></a></div>",
        "id": 400973824,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699459120
    },
    {
        "content": "<p>Looks good but <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> is gonna want more emojis in the docs. <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 400973979,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699459179
    },
    {
        "content": "<p>The docs are up: <a href=\"https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#ide-triggered-re-deployments\">https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#ide-triggered-re-deployments</a></p>",
        "id": 401004860,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699469739
    },
    {
        "content": "<p>\"limitations in what the JVM HotswapAgent can do for you\" ... huh, so this is built into the JVM, I guess</p>",
        "id": 401013074,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699473183
    },
    {
        "content": "<p>Absolutely. There is a reason why people spend money on JRebel</p>",
        "id": 401015216,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699473991
    },
    {
        "content": "<p>And the Hotswap thing is also only activated when going via JDWP. That's the reason why you need to run the debug mode in the IDE</p>",
        "id": 401015346,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699474063
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> what do you think about the docs? Is this more graphical thing useful?</p>",
        "id": 401015482,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699474113
    },
    {
        "content": "<p>I haven't finished reading them but sure, screenshots are nice.</p>",
        "id": 401018066,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699475382
    },
    {
        "content": "<p>They do get out of date sometimes.</p>",
        "id": 401018088,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699475393
    },
    {
        "content": "<p>Yeah, they are out of date in the Payara docs, too</p>",
        "id": 401018553,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699475606
    },
    {
        "content": "<p>But it seems like the UI doesn't change as much, so maybe we are fine for some time...</p>",
        "id": 401018601,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699475630
    },
    {
        "content": "<p>Complainers will be held to create pull requests <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 401018710,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699475666
    },
    {
        "content": "<p>heh, sounds fine</p>",
        "id": 401021109,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699476802
    },
    {
        "content": "<p>Great demo by <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ! Here's the recording: <a href=\"https://harvard.zoom.us/rec/share/HqZQYeYdmB_yXyzGF4TqbGG7ta3nThvtqnuCtulDJQj5YMmcjk3PUvPVLJaLRykJ.4bUUH8_fenHuLmWa\">https://harvard.zoom.us/rec/share/HqZQYeYdmB_yXyzGF4TqbGG7ta3nThvtqnuCtulDJQj5YMmcjk3PUvPVLJaLRykJ.4bUUH8_fenHuLmWa</a></p>",
        "id": 401200052,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699549401
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> really cool updates, documentation and demo!</p>",
        "id": 401293877,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1699596382
    },
    {
        "content": "<p>Thanks for getting us there in the first place!</p>",
        "id": 401490368,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699689507
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> I just tried your <a href=\"https://github.com/IQSS/dataverse/pull/9959\">https://github.com/IQSS/dataverse/pull/9959</a> but I'm getting an unexpected error: <code>dev_solr&gt; Caused by: org.apache.solr.common.SolrException: Error loading solr config from /var/solr/data/collection1/conf/solrconfig.xml</code></p>\n<p>I don't see any reason for this, based on the changes in the PR. Very strange.</p>",
        "id": 401994013,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699970866
    },
    {
        "content": "<p>Actually, never mind. It's fine now.</p>",
        "id": 401995466,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699971292
    },
    {
        "content": "<p>I am having trouble getting <code>-Dapp.deploy.skip</code> to work though. Maybe I'll try the env var.</p>",
        "id": 401995587,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699971330
    },
    {
        "content": "<p>Changing .env didn't seem to work.</p>",
        "id": 401995995,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699971462
    },
    {
        "content": "<p>Neither did changing skip from 0 to 1 in the docker compose file.</p>",
        "id": 401997996,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699972083
    },
    {
        "content": "<p>I have a demo in 30 minutes. I'm switching back to develop. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 401998084,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699972104
    },
    {
        "content": "<p>My money <span aria-label=\"money\" class=\"emoji emoji-1f4b0\" role=\"img\" title=\"money\">:money:</span>  is on \"you forgot to build the base image\" <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 402041283,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1699985607
    },
    {
        "content": "<p>Hmm, we should put that on a t-shirt.</p>",
        "id": 402045446,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699987077
    },
    {
        "content": "<p>Anyway, here's the demo I gave this morning: <a href=\"https://harvard.zoom.us/rec/share/AsB1xRUM3bsNmDrqTVa9ZM91FaHM5F1wdVAdoBAbbM5bXLllDUKfBfAbkLb4G7Ej.-Jyz6CjRt18R3Hfq\">https://harvard.zoom.us/rec/share/AsB1xRUM3bsNmDrqTVa9ZM91FaHM5F1wdVAdoBAbbM5bXLllDUKfBfAbkLb4G7Ej.-Jyz6CjRt18R3Hfq</a></p>",
        "id": 402045558,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699987113
    },
    {
        "content": "<p>I mentioned this thread, so maybe some people will join the discussion.</p>",
        "id": 402045622,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1699987137
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"614964\">@Eryk Kulikowski</span> are you using VS Code? Have you tried getting this fast redeploy stuff working?</p>",
        "id": 404949623,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701291807
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/404949623\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"614964\">Eryk Kulikowski</span> are you using VS Code? Have you tried getting this fast redeploy stuff working?</p>\n</blockquote>\n<p>I have tried, but I could not get it working. The plugin for VS Code connected to the server, but it was giving errors. I did manage to undeploy the application, but did not have any success on deploying it.</p>",
        "id": 405115274,
        "sender_full_name": "Eryk Kulikowski",
        "timestamp": 1701350055
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"614964\">@Eryk Kulikowski</span> thanks. It sounds like <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> is having the same trouble. You should both feel free to add it to the agenda if you like. Meeting in 45 minutes. See <a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/weekly.20meeting\">#containers &gt; weekly meeting</a></p>",
        "id": 405121036,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701352067
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> I'm running this:</p>\n<div class=\"codehilite\"><pre><span></span><code>mvn -Pct clean package docker:run -Dapp.deploy.skip\n</code></pre></div>\n<p>But it keeps checking <a href=\"http://dataverse:8080/api/info/version\">http://dataverse:8080/api/info/version</a> over and over. Is this the expected behavior?</p>",
        "id": 405126075,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701353586
    },
    {
        "content": "<p>I did get this, which is good:</p>\n<p><code>dev_dataverse&gt; Skipping deployment of /opt/payara/deployments/dataverse as requested.</code></p>",
        "id": 405126322,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701353676
    },
    {
        "content": "<blockquote>\n<p>But it keeps checking <a href=\"http://dataverse:8080/api/info/version\">http://dataverse:8080/api/info/version</a> over and over. Is this the expected behavior?</p>\n</blockquote>\n<p>Yes, that was intentional. You might want to deploy a fresh install and then bootstrapping gracefully waits for you to do the deployment. If you think we should not do that, we can alter the behaviour.</p>",
        "id": 405126599,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1701353772
    },
    {
        "content": "<p>Also: we can alter the Maven property name, too. Maybe it would be a nice idea to make it more inline with the other skipping things like <code>-DskipTests</code> etc</p>",
        "id": 405126762,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1701353844
    },
    {
        "content": "<p>The Payara plugin in VS Code worked for me, but only with manual deploy. First, I manually build the war file with maven (<code>mvn compile war:war</code>), it only compliles changed files so it is fast. Then I right-click on the war file and choose \"Run on Payara Server\".  This step takes some time, but it is still faster than rebuilding and replacing the docker image. This method works fine with our custom-build docker image, such that my other settings work just fine.</p>",
        "id": 405137042,
        "sender_full_name": "Eryk Kulikowski",
        "timestamp": 1701356733
    },
    {
        "content": "<p>I measured the redeployment time, it is roughly 30 seconds. It is a large improvement for me.</p>",
        "id": 405142983,
        "sender_full_name": "Eryk Kulikowski",
        "timestamp": 1701358523
    },
    {
        "content": "<p>Great! We just created an issue do add some docs: add Visual Studio Code to guides <a href=\"https://github.com/IQSS/dataverse/issues/10156\">#10156</a></p>",
        "id": 405144373,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701358955
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> like I said, you are very welcome to edit the description of that issue with whatever you like, links to resources, etc.</p>",
        "id": 405144477,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701358988
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"614964\">@Eryk Kulikowski</span> you're very welcome to add comments and/or we can keep discussing here. Or maybe a dedicated topic if that's better.</p>",
        "id": 405144570,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1701359023
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"614964\">@Eryk Kulikowski</span> ! I added some notes on <a href=\"https://github.com/IQSS/dataverse/issues/10156\">#10156</a> with the setup and the workflow that I been using. It would be great that if you have any sugestions or find anything better you could share it with us <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 405371741,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1701439764
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> I use exactly the same flow now. Since you mentioned the recommended plugin for docker (which I find very good and useful), you may also mention the \"Extension Pack for Java\" (mainly for java language support and maven) and XML plugins. I also find the \"Git History\" and \"Git Graph\" plugins useful. Finally, a good hint is to bump the memory setting for the Java language plugin up to 4 GB, I use the settings from here: <a href=\"https://github.com/redhat-developer/vscode-java/issues/2232\">https://github.com/redhat-developer/vscode-java/issues/2232</a></p>\n<div class=\"codehilite\"><pre><span></span><code>{\n    &quot;java.configuration.updateBuildConfiguration&quot;: &quot;interactive&quot;,\n    &quot;java.compile.nullAnalysis.mode&quot;: &quot;automatic&quot;,\n    &quot;java.jdt.ls.vmargs&quot;: &quot;-XX:+UseParallelGC -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Dsun.zip.disableMemoryMapping=true -Xmx4G -Xms100m -Xlog:disable&quot;\n}\n</code></pre></div>",
        "id": 405377088,
        "sender_full_name": "Eryk Kulikowski",
        "timestamp": 1701441655
    },
    {
        "content": "<p>Yeah, I been hit by the memory limit a couple of times already. <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 405377234,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1701441709
    },
    {
        "content": "<p>Should we put <a href=\"https://github.com/IQSS/dataverse/pull/9959\">https://github.com/IQSS/dataverse/pull/9959</a> in non-draft and let it get merged? <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> was just asking about the nice screenshoted guide <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 415969790,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705477888
    },
    {
        "content": "<p>We can add more guides with nice pics later</p>",
        "id": 415969830,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705477907
    },
    {
        "content": "<p>Here's what <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> and I talked about in another place:</p>\n<p>Balázs Pataki: Hi Oliver, as I remember you created a very nice screenshot illustrated guide to running/developing Dataverse in docker. I thought I would find it at <a href=\"https://guides.dataverse.org/en/latest/container/index.html\">https://guides.dataverse.org/en/latest/container/index.html</a>, but I couldn't. Could you please help me locate where it is available?</p>\n<p>Oliver Bertuch: I think it hasn't been merged yet<br>\nOliver Bertuch: This is the PR: <a href=\"https://github.com/IQSS/dataverse/pull/9959\">https://github.com/IQSS/dataverse/pull/9959</a><br>\nOliver Bertuch: And the guide you're looking for is here: <a href=\"https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#ide-triggered-re-deployments\">https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#ide-triggered-re-deployments</a></p>\n<p>Balázs Pataki: Oh, i see, thanks! I actually wanted to see if you figured out how one can edit .xhtml in Intellij and have it reloaded in the container without redeploying. I don't know if it is at all feasible all.</p>\n<p>Oliver Bertuch: We found that Netbeans has a special trick to copy the files into the target directory. Maybe there is a similar thing for IntelliJ?</p>\n<p>Balázs Pataki: What is the \"target\" dir? It must be something mapped into the container, right?</p>\n<p>Oliver Bertuch: /target is where Maven puts the build artifacts. And yes, we mounted that directory into the container. (Not /target, but the subpath where the exploded WAR lives and is updated)</p>\n<p>Balázs Pataki: Ok, thought about something similar. Is this mapping already part of the current docker:run mechanism? In IntelliJ one can add an action to run after deployment and it can be any script, so we could copy files anywhere.</p>\n<p>Oliver Bertuch: It is not mapped by default, no. The PR linked above would introduce that though.</p>\n<p>Balázs Pataki: Great, I will check it out!</p>\n<p>Oliver Bertuch: Please note the different mechanisms working under the hood here. If you want to on-the-fly edit XHTML, this is not going to work together with working on hot-reloading code. That is because hot-redeploy needs to ship a WAR file and then used JDWP to replace methods etc. The on-the-fly XHTML edit is using the exploded WAR mounted into the container, but that is not going to allow using the hot-redeploy stuff. The easiest solution to have both and both proper: buy a JRebel license...</p>\n<p>Balázs Pataki: Another idea: in IntelliJ one can run an action once a file is saved. At this point I could copy the changed (only .xhtml) file to the mapped directory. Would this also interfere with the hot-reloading mechanism? When fully redeploying the war, the changed .xhtml file would simply overwrite the separately copied version, but both would be identical at the end.</p>\n<p>Oliver Bertuch: Yes, redeploying the WAR would replace it. But it will require waiting for the redeploy to be done (~30 secs). People were asking about instant reload - change, save, switch to browser, hit F5 and done</p>\n<p>Balázs Pataki: Yes, sure, that's what I want as well ... without JRebel.</p>\n<p>Oliver Bertuch: Oh wait - redeploying the WAR using the hot redeploy method is not going to replace the copied file! If you use the exploded WAR to hot-edit the XHTML, that deployment needs to be unloaded and will be replaced with a WAR file based deployment. So these are completely independent sources. When using the hotredeploy method, editing and replacing the XHTML requires a redeployment of the WAR file, thus building and shipping will cost you time. But maybe that's fine for what you're trying to do. As long as you do not need to change XHMTML and Java code on the fly at the same time, this is good enough...?</p>\n<p>Balázs Pataki: Yes, I will do some experiments. Can you just help me with one thing? What is the payara setting we need to pick up changes to .xhtml files immediately?</p>",
        "id": 415973553,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705479497
    },
    {
        "content": "<p>If you are going to use what I did in PR <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a>, you only need to specify 'ENABLE_RELOAD=1' in your container env in some way. That is already done within the compose file of that PR.</p>",
        "id": 415973898,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705479626
    },
    {
        "content": "<p>See <a href=\"https://github.com/IQSS/dataverse/pull/9959/files#diff-0f68198e0abf41811cffbc8d15bfb11e7b1d4491769f1362597a7e43126e8082\">https://github.com/IQSS/dataverse/pull/9959/files#diff-0f68198e0abf41811cffbc8d15bfb11e7b1d4491769f1362597a7e43126e8082</a> for all the things done to enable this reloading <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 415974003,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705479666
    },
    {
        "content": "<p>The missing part is to make IntelliJ copy the saved file into the right spot</p>",
        "id": 415974076,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705479697
    },
    {
        "content": "<p>There might be an easy way to do this just yet... <a href=\"https://plugins.jetbrains.com/plugin/21538-save-actions-tool\">https://plugins.jetbrains.com/plugin/21538-save-actions-tool</a></p>",
        "id": 415975048,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705480100
    },
    {
        "content": "<p>That plugin can be fed actions you define as \"quick lists\"</p>",
        "id": 415975100,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705480129
    },
    {
        "content": "<p>And it can be triggered not only on every save (which might not be what you want), but using other key combos</p>",
        "id": 415975168,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705480157
    },
    {
        "content": "<p>The configuration is per project</p>",
        "id": 415975276,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705480195
    },
    {
        "content": "<p>Here's my solution for IntelliJ for quick webstuff update with hot class reload working as before.</p>\n<p>Assuming that 'dataverse.jsf.refresh-period=1' is already set:</p>\n<ul>\n<li>In docker-compose-dev.yml, I added this to the volumes of dev_dataverse:</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>    volumes:\n      ...\n      - ./docker-dev-volumes/glassfish/applications:/opt/payara/appserver/glassfish/domains/domain1/applications\n</code></pre></div>\n<p>war files deployed from IntelliJ will be placed here</p>\n<ul>\n<li>\n<p>Added the script  <a href=\"/user_uploads/53090/xuVG2YFMv-HCXVFf10ATN_65/cpwebapp.sh\">cpwebapp.sh</a>, which helps copying files under src/main/webapp to ./docker-dev-volumes/glassfish/applications</p>\n</li>\n<li>\n<p>Added a 'File watcher' configuration like this:</p>\n</li>\n</ul>\n<p><a href=\"/user_uploads/53090/yB3vIAk2ovQ7tTa0XAxlUYf1/Screenshot-2024-01-17-at-13.36.58.png\">Screenshot-2024-01-17-at-13.36.58.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/yB3vIAk2ovQ7tTa0XAxlUYf1/Screenshot-2024-01-17-at-13.36.58.png\" title=\"Screenshot-2024-01-17-at-13.36.58.png\"><img src=\"/user_uploads/53090/yB3vIAk2ovQ7tTa0XAxlUYf1/Screenshot-2024-01-17-at-13.36.58.png\"></a></div><p>Now when I edit an .xhtml file  (or .js or anything in webapp) and save it it is automatically copied to the appropriate ./docker-dev-volumes/glassfish/applications directory and the change is available in the browser after page reload.</p>",
        "id": 416018145,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705495300
    },
    {
        "content": "<p>The watcher setting can even be exported/imported, so it could be added by others easily without typing out the watcher config:</p>\n<p><a href=\"/user_uploads/53090/BbIZoBe9rZvxMUgzQmGjy-WJ/watchers.xml\">watchers.xml</a></p>",
        "id": 416018985,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705495590
    },
    {
        "content": "<p>It is also possible to create an \"External tool\" setting, which calls the same script as requested.  </p>\n<p><a href=\"/user_uploads/53090/WDCzTTalyO9JEJt4S6PokgvQ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/WDCzTTalyO9JEJt4S6PokgvQ/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/WDCzTTalyO9JEJt4S6PokgvQ/image.png\"></a></div><p>It can be invoked from a menu:</p>\n<p><a href=\"/user_uploads/53090/kHaKQ3Wk_yTseKjLr6WyH2-n/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/kHaKQ3Wk_yTseKjLr6WyH2-n/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/kHaKQ3Wk_yTseKjLr6WyH2-n/image.png\"></a></div><p>Or you can also assign a shortcut key to it.</p>\n<p>The \"Actions on save\" like plugins in the IntelliJ marketplace are not really usable and are not actually necessary.</p>",
        "id": 416021442,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705496450
    },
    {
        "content": "<p>Sure, let's make it non-draft, resolve merge conflicts, etc.</p>",
        "id": 416047870,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705503544
    },
    {
        "content": "<p>I just put <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a> into the \"in review\" column on our project board: <a href=\"https://github.com/orgs/IQSS/projects/34\">https://github.com/orgs/IQSS/projects/34</a></p>",
        "id": 416338154,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705526611
    },
    {
        "content": "<p>That is to say, I had it prioritized during our sprint kickoff today.</p>",
        "id": 416338195,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705526635
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span>  Should I create a PR with my solution above? So that it could be handled together with <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a>. Or maybe Oliver could add it to his PR if that is suitable.</p>",
        "id": 416513441,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705563765
    },
    {
        "content": "<p>Hmm. <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> would it make sense for you to make a PR into <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> 's PR?</p>",
        "id": 416559970,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705580616
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> I just invited you to join a readonly team so I can co-assign the issue to you. You should see the invite at <a href=\"https://github.com/IQSS\">https://github.com/IQSS</a></p>",
        "id": 416563034,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705581675
    },
    {
        "content": "<p>Thanks, accepted invitation. I don't know if PR-s on PR-s is a thing or not, but I can try. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 416563449,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705581811
    },
    {
        "content": "<p>I do it all the time. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 416563612,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705581871
    },
    {
        "content": "<p>All right then!</p>",
        "id": 416563679,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705581899
    },
    {
        "content": "<p>I guess it's a PR, not an issue, but I co-assigned you to it: <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a></p>",
        "id": 416563747,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705581923
    },
    {
        "content": "<p>I wasn't following very closely what you wrote above, what you want to add, but I'm sure it's good stuff.</p>",
        "id": 416563819,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705581943
    },
    {
        "content": "<p>I solves in Intellij what you already have in Netbeans, ie. fast xhtml/web stuff editing and instant reload in browser.</p>",
        "id": 416563994,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705581995
    },
    {
        "content": "<p>Ah, great.</p>",
        "id": 416564354,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705582127
    },
    {
        "content": "<p>I put this topic on the agenda for today's meeting: <a href=\"https://docs.google.com/document/d/1L2GPXGLpcrzMRjLLCFTXTu1NgK9dGX-tXVR_cn4elh0/edit?usp=sharing\">https://docs.google.com/document/d/1L2GPXGLpcrzMRjLLCFTXTu1NgK9dGX-tXVR_cn4elh0/edit?usp=sharing</a></p>",
        "id": 416567759,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705583256
    },
    {
        "content": "<p>Submitted a PR with what I demoed yesterday: <a href=\"https://github.com/IQSS/dataverse/pull/10247\">https://github.com/IQSS/dataverse/pull/10247</a></p>",
        "id": 416761449,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705664736
    },
    {
        "content": "<p>Thanks! I just added a review... wondering if we should comment out the volume mapping for now.</p>",
        "id": 417248809,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705935856
    },
    {
        "content": "<p>I just checked at standup and we'll pull this PR into the current sprint.</p>",
        "id": 417266096,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705940294
    },
    {
        "content": "<p>I assigned it to myself. <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> are you interested in looking as well?</p>",
        "id": 417266542,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705940421
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/417248809\">said</a>:</p>\n<blockquote>\n<p>Thanks! I just added a review... wondering if we should comment out the volume mapping for now.</p>\n</blockquote>\n<p>OK, answered in the PR.</p>",
        "id": 417266701,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1705940476
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> I see your <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> on my suggestion on <a href=\"https://github.com/IQSS/dataverse/issues/10247\">#10247</a>? Do you want to go ahead and click \"accept suggestion\" to add the commit?</p>",
        "id": 417632104,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1706098233
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> since you use IntelliJ are you interested in testing the scripts in <a href=\"https://github.com/IQSS/dataverse/issues/10247\">#10247</a>?</p>",
        "id": 417632170,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1706098257
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> I just merged your PR: Intellij IDEA webapp hotreload <a href=\"https://github.com/IQSS/dataverse/issues/10247\">#10247</a> Thanks!</p>",
        "id": 418109754,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1706197932
    },
    {
        "content": "<p>Great, thanks!</p>",
        "id": 418114875,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1706199377
    },
    {
        "content": "<p>TIL that docker compose has a \"watch\" function</p>\n<p><a href=\"https://docs.docker.com/compose/file-watch/\">https://docs.docker.com/compose/file-watch/</a></p>\n<p><a href=\"https://www.docker.com/blog/announcing-docker-compose-watch-ga-release/\">https://www.docker.com/blog/announcing-docker-compose-watch-ga-release/</a></p>\n<p>One mode of its operation is that it can watch a given directory and sync any changes from that directory into the container.</p>\n<p>Has anyone tried this feature yet? I can imagine that this could provide a generic solution for updating changed xhtml files in payara in docker regardless of the IDE.</p>",
        "id": 419841551,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1707140439
    },
    {
        "content": "<p>Huh, cool. No, I haven't even heard of it.</p>",
        "id": 419849215,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707142688
    },
    {
        "content": "<p>I'm back on PR <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a>, resolving merge conflicts and trying IntelliJ but I'm getting \"Error: Debug: there are no runners for Payara Server: Payara Remote\". I'm not sure what I've done wrong. Here's the error in context:</p>\n<p><a href=\"/user_uploads/53090/3xYJueyDIREEbyTMQKc3Ix6J/Screenshot-2024-02-13-at-12.07.18-PM.png\">Screenshot-2024-02-13-at-12.07.18-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/3xYJueyDIREEbyTMQKc3Ix6J/Screenshot-2024-02-13-at-12.07.18-PM.png\" title=\"Screenshot-2024-02-13-at-12.07.18-PM.png\"><img src=\"/user_uploads/53090/3xYJueyDIREEbyTMQKc3Ix6J/Screenshot-2024-02-13-at-12.07.18-PM.png\"></a></div>",
        "id": 421288298,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707844125
    },
    {
        "content": "<p>I gave up on IntelliJ. Netbeans works fine (<code>-Dapp.deploy.skip</code> is a huge time saver!). I guess I'll work on adding Netbeans tabs to the docs. I'll push what I've got first, the resolved merge conflicts.</p>",
        "id": 421291166,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707845117
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> since you made PR <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a> and I've hacked on it considerably, you might want to take a look. I just put it in \"ready for review\". Overall, works great! Thank you! <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 421367899,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707884220
    },
    {
        "content": "<p>Of course others are welcome to review it as well. <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> and <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> etc. You can preview the docs here: <a href=\"https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#ide-triggered-redeployments\">https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#ide-triggered-redeployments</a></p>",
        "id": 421367942,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707884272
    },
    {
        "content": "<p>Are you sure you tried the \"Payara Remote\" run config. It should look like this:</p>\n<p><a href=\"/user_uploads/53090/_PM5ZNOEtFGyEi1lYg0duaSo/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/_PM5ZNOEtFGyEi1lYg0duaSo/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/_PM5ZNOEtFGyEi1lYg0duaSo/image.png\"></a></div><p>Yours look like the \"Payara Local\" run config.</p>\n<p><a href=\"/user_uploads/53090/G7ZxURQK2UEtABF6aW8e8Hm8/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/G7ZxURQK2UEtABF6aW8e8Hm8/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/G7ZxURQK2UEtABF6aW8e8Hm8/image.png\"></a></div>",
        "id": 421444298,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1707917210
    },
    {
        "content": "<p>Huh. Thanks, I'll take a look.</p>",
        "id": 421445605,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707917663
    },
    {
        "content": "<p>I greatly extended the PR <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a> with more docs, more features and more... <span aria-label=\"smile cat\" class=\"emoji emoji-1f638\" role=\"img\" title=\"smile cat\">:smile_cat:</span></p>",
        "id": 422761183,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708586988
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> I also adapted and incorporated your findings with the IntelliJ autocopy!</p>",
        "id": 422761284,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708587032
    },
    {
        "content": "<p>This works pretty much perfect!</p>",
        "id": 422761303,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708587043
    },
    {
        "content": "<p>Have a preview at the docs here: <a href=\"https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#redeploying\">https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#redeploying</a></p>",
        "id": 422761341,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708587073
    },
    {
        "content": "<p>Cool, can't wait to try it! </p>\n<p>You write in the documentation:</p>\n<div class=\"codehilite\"><pre><span></span><code>This imitates the Netbeans builtin function to copy changes to files under src/main/webapp into a destination folder.\nIt is different in the way that it will copy the files into the running container deployment without using a bind mount.\n</code></pre></div>\n<p>In my original solution I actually needed a bind volume. Do you really copy now right inside the container?</p>",
        "id": 422764434,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1708588601
    },
    {
        "content": "<p>Yes. Much simpler setup, no need to adapt any path.</p>",
        "id": 422764504,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708588643
    },
    {
        "content": "<p>That's great!</p>",
        "id": 422764544,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1708588665
    },
    {
        "content": "<p><code>docker cp</code> to the rescue</p>",
        "id": 422764563,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708588682
    },
    {
        "content": "<p>Also removed the Perl dependency <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 422764648,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708588712
    },
    {
        "content": "<p>I mentioned couple of  days ago that docker compose has a \"watch\" function</p>\n<p><a href=\"https://docs.docker.com/compose/file-watch/\">https://docs.docker.com/compose/file-watch/</a></p>\n<p><a href=\"https://www.docker.com/blog/announcing-docker-compose-watch-ga-release/\">https://www.docker.com/blog/announcing-docker-compose-watch-ga-release/</a></p>\n<p>Haven't tried it yet, but this may provide an even simpler and generic solution.</p>",
        "id": 422765160,
        "sender_full_name": "Balázs Pataki",
        "timestamp": 1708588943
    },
    {
        "content": "<p>Sure, feel free to try out stuff. Much appreciated!</p>",
        "id": 422766038,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708589393
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> question for you when you return to desk today: should we move the \"dev usage\" page into the \"running dv in d/backend dev\" page?</p>",
        "id": 422766278,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708589508
    },
    {
        "content": "<p>Should it even live within the Dev Guide, now that the standard dev env is dockerized?</p>",
        "id": 422766509,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1708589598
    },
    {
        "content": "<p>As discussed in the container meeting yesterday, let's think more about moving the \"dev usage\" page in the future.</p>",
        "id": 423089271,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708720011
    },
    {
        "content": "<p>More importantly, I just merged <a href=\"https://github.com/IQSS/dataverse/issues/9959\">#9959</a>! Thanks, all! Enjoy the faster redeploy!</p>",
        "id": 423089337,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708720047
    },
    {
        "content": "<p>Hi Everyone,</p>\n<p>I was trying to run dataverse locally. first I run this command to run on foreground <code>mvn -Pct clean package docker:run</code>. All the container started and application was running on 8080.</p>\n<p>The next step I was trying the faster redeploy. I have intellij ultimate. I installed Payara Platform Tools. and following the steps mentioned on this link <a href=\"https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#redeploying\">https://dataverse-guide--9959.org.readthedocs.build/en/9959/container/dev-usage.html#redeploying</a></p>\n<p>while adding <code>dataverse:war</code> I cannot see any artifact. I hope someone can help me with this.</p>",
        "id": 427670674,
        "sender_full_name": "Aamir Muhammad",
        "timestamp": 1710847576
    },
    {
        "content": "<p>Hmm. <span class=\"user-mention\" data-user-id=\"602497\">@Balázs Pataki</span> <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> you use IntelliJ more than I do. Any tips?</p>",
        "id": 427670753,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710847624
    },
    {
        "content": "<p>Actually, <span class=\"user-mention\" data-user-id=\"700599\">@Aamir Muhammad</span> can you please look at the preview version at <a href=\"https://preview.guides.gdcc.io/en/develop/container/dev-usage.html#redeploying\">https://preview.guides.gdcc.io/en/develop/container/dev-usage.html#redeploying</a> ?</p>",
        "id": 427670905,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710847683
    },
    {
        "content": "<p>There are many more screenshots.</p>",
        "id": 427670930,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710847689
    },
    {
        "content": "<p>(preview of how the guides will look for Dataverse 6.2)</p>",
        "id": 427670957,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710847704
    },
    {
        "content": "<p>The same I am following with screen shot. here is my configuration</p>\n<p><a href=\"/user_uploads/53090/eUdjVzUE5GgJvcKa7hTuW885/dataverse-artifact.png\">dataverse-artifact.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/eUdjVzUE5GgJvcKa7hTuW885/dataverse-artifact.png\" title=\"dataverse-artifact.png\"><img src=\"/user_uploads/53090/eUdjVzUE5GgJvcKa7hTuW885/dataverse-artifact.png\"></a></div>",
        "id": 427671076,
        "sender_full_name": "Aamir Muhammad",
        "timestamp": 1710847767
    },
    {
        "content": "<p>I'm not sure what's going on here or how to reproduce... When you click the \"+\" sign, you can't select <code>dataverse:war</code>? (See screenshot at <a href=\"https://preview.guides.gdcc.io/en/develop/_images/intellij-payara-config-server.png\">https://preview.guides.gdcc.io/en/develop/_images/intellij-payara-config-server.png</a>)</p>\n<div class=\"message_inline_image\"><a href=\"https://preview.guides.gdcc.io/en/develop/_images/intellij-payara-config-server.png\"><img src=\"https://uploads.zulipusercontent.net/75d08d8b93c3b9540909f6f83d18c7481c324140/68747470733a2f2f707265766965772e6775696465732e676463632e696f2f656e2f646576656c6f702f5f696d616765732f696e74656c6c696a2d7061796172612d636f6e6669672d7365727665722e706e67\"></a></div>",
        "id": 427674396,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710848958
    },
    {
        "content": "<p>Also as you are using Maven to start the containers, don't forget to use <code>-Dapp.skipDeploy</code>!</p>",
        "id": 427674851,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710849098
    },
    {
        "content": "<p>sorry I am new to most of these things. but this time I tried <code>mvn -Pct clean package docker:run -Dapp.skipDeploy</code> and was not able to run the application. </p>\n<p>than I try to start it again using the old command<code> mvn -Pct clean package docker:run</code> and the application didn't start. I am also deleting the <code>target</code> and <code>docker-dev-volumes</code> folder everytime.</p>\n<p>Anyhow than I try this command <code>mvn -Pct package &amp;&amp; docker compose -f docker-compose-dev.yml up -d</code>the application is started and can see the docker containers. but still when I click the \"+\" sign, I am not able to see. instead it gives me some options to select from which I am not able to take screenshot. but I am selecting <code>Build artifacts</code> than I am getting this page which is empty<br>\n<a href=\"/user_uploads/53090/_fiRM1fXbTh5ODBBMUH-uNbC/dataverse-artifact-1.png\">dataverse-artifact-1.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/_fiRM1fXbTh5ODBBMUH-uNbC/dataverse-artifact-1.png\" title=\"dataverse-artifact-1.png\"><img src=\"/user_uploads/53090/_fiRM1fXbTh5ODBBMUH-uNbC/dataverse-artifact-1.png\"></a></div>",
        "id": 427698164,
        "sender_full_name": "Aamir Muhammad",
        "timestamp": 1710855976
    },
    {
        "content": "<p>Sorry, I have no idea what's going on on your machine. <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 427698727,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710856116
    },
    {
        "content": "<p>I would say let's talk about it more at our weekly meeting ( <a href=\"https://ct.gdcc.io\">https://ct.gdcc.io</a> ) but this week we have a special guest so we'll probably be quite busy. Also, I'm not sure if that time works for you, <span class=\"user-mention\" data-user-id=\"700599\">@Aamir Muhammad</span></p>",
        "id": 427725679,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710856427
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span>  sure I will be happy to join. Thanks for the invitation.</p>",
        "id": 427728257,
        "sender_full_name": "Aamir Muhammad",
        "timestamp": 1710857049
    },
    {
        "content": "<p>You're very welcome but again, it'll be a busy meeting. I expect we'll spend the whole time talking about Kubernetes and OpenShift with our guest from Red Hat.</p>",
        "id": 427730734,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710857649
    },
    {
        "content": "<p>I was going trough the new guides for Intellij and when I try the IntelliJ approach with the volumes initialized on the command line postgress exits with the following message:</p>\n<div class=\"codehilite\"><pre><span></span><code> 2024-03-23 19:47:09.946 UTC [1] DETAIL:  The data directory was initialized by PostgreSQL version 16, which is not compatible with this version 13.14 (Debian 13.14-1.pgdg120+2).\ndev_postgres exited with code 1\n</code></pre></div>\n<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 429109496,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711223244
    },
    {
        "content": "<p>You probably need to delete the volumes and do a fresh deployment.</p>",
        "id": 429110322,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711223832
    },
    {
        "content": "<p>Not sure when you tested with Postgres 16, but I had that before as well.</p>",
        "id": 429110337,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711223852
    },
    {
        "content": "<p>That definitely works, if I delete the volumes it just initializes them and works fine, but I would love to be able to have it working on both ways. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 429110448,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711223949
    },
    {
        "content": "<p>Not sure if I am doing something special to use 16</p>",
        "id": 429110460,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711223966
    },
    {
        "content": "<p>Not sure either <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span></p>",
        "id": 429110481,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711223999
    },
    {
        "content": "<p>First time using Intellij so I just followed the guide as best as I could</p>",
        "id": 429110539,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224016
    },
    {
        "content": "<p>Probably need to update the part of the guide now that the port is 4949 by default <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 429110574,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224045
    },
    {
        "content": "<p>Oh wait, it is 4848 because it is the \"local\" instance of payara right?</p>",
        "id": 429110676,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224099
    },
    {
        "content": "<p>No no no that is all ancient history</p>",
        "id": 429110748,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224139
    },
    {
        "content": "<p>So it should be 4949?</p>",
        "id": 429110764,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224163
    },
    {
        "content": "<p>On 4848 is a little proxy that makes SSL go away so the Payara Tools work</p>",
        "id": 429110771,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224172
    },
    {
        "content": "<p>So please stick to the guide and use 4848 <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 429110793,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224196
    },
    {
        "content": "<p>Question regarding the guides</p>",
        "id": 429110884,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224283
    },
    {
        "content": "<p>The Postgres thing should be independent from IntelliJ. I saw this on CLI, too</p>",
        "id": 429110886,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224291
    },
    {
        "content": "<p>On the step 4 it says \"NOTE: You might need to change the Docker Compose executable in your IDE settings to docker if you have no docker-compose bin (File &gt; Settings &gt; Build &gt; Docker &gt; Tools).\"</p>",
        "id": 429110896,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224306
    },
    {
        "content": "<p>I am on MacOS</p>",
        "id": 429110905,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224314
    },
    {
        "content": "<p>And the menu doesn't show settings under File</p>",
        "id": 429110917,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224333
    },
    {
        "content": "<p>Simply try docker compose on the CLI. If you can execute docker-compose you're fine.</p>",
        "id": 429110987,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224388
    },
    {
        "content": "<p>Actually to find the configurations had to go trough Run &gt; Edit Configurations</p>",
        "id": 429110996,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224398
    },
    {
        "content": "<p>If it's <code>docker compose</code> only, you need to change the setting</p>",
        "id": 429111012,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224424
    },
    {
        "content": "<p>It should be a global setting, too. Just go to settings and use the search bar to filter for Docker.</p>",
        "id": 429111108,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224488
    },
    {
        "content": "<p>Oh but I was just never able to find that option so I was wondering if this was a difference because the version of the OS or the IDE or I was just looking at the wrong place, like \"File &gt; Settings &gt; Build &gt; Docker &gt; Tools\" just doesn't exist for me</p>",
        "id": 429111128,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224514
    },
    {
        "content": "<p>I was able to run it and get the configuration with the hot swap</p>",
        "id": 429111151,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224544
    },
    {
        "content": "<p>but I was wondering if this is something we need to update or change or I was just looking at the wrong side</p>",
        "id": 429111177,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224586
    },
    {
        "content": "<p>Maybe. I'm on Linux, that might be having a different menu layout</p>",
        "id": 429111245,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224621
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/5wek61FfncjQAQCevp62rrtp/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/5wek61FfncjQAQCevp62rrtp/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/5wek61FfncjQAQCevp62rrtp/image.png\"></a></div>",
        "id": 429111267,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224650
    },
    {
        "content": "<p>I think this is the equivalent on Mac</p>",
        "id": 429111306,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224686
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/TkC6yQjTd5OmG2s_-FcU44Uo/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/TkC6yQjTd5OmG2s_-FcU44Uo/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/TkC6yQjTd5OmG2s_-FcU44Uo/image.png\"></a></div>",
        "id": 429111308,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224691
    },
    {
        "content": "<p>No, that's run configs</p>",
        "id": 429111320,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224702
    },
    {
        "content": "<p>These are the same on every OS</p>",
        "id": 429111324,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224710
    },
    {
        "content": "<p>Is there a menu under the IntelliJ entry in the menu?</p>",
        "id": 429111351,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224724
    },
    {
        "content": "<p>Yes!</p>",
        "id": 429111394,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224745
    },
    {
        "content": "<p>I bet a dollar there's a settings menu entry</p>",
        "id": 429111410,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224762
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/iP2DmmxvDWeaiWO-2zf9GTDF/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/iP2DmmxvDWeaiWO-2zf9GTDF/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/iP2DmmxvDWeaiWO-2zf9GTDF/image.png\"></a></div>",
        "id": 429111416,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224769
    },
    {
        "content": "<p>There we go <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 429111427,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224781
    },
    {
        "content": "<p>Should I add a quick edit there to add this? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 429111544,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224849
    },
    {
        "content": "<p>Sure. Not sure what the best way for that would be</p>",
        "id": 429111620,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711224872
    },
    {
        "content": "<p>NOTE: You might need to change the Docker Compose executable in your IDE settings to docker if you have no docker-compose bin <code>File &gt; Settings &gt; Build &gt; Docker &gt; Tools</code> or <code>IntelliJ IDEA &gt; Settings &gt; Build &gt; Docker &gt; Tools</code> (if you are on MacOS)</p>",
        "id": 429111743,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224981
    },
    {
        "content": "<p>How about that</p>",
        "id": 429111748,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711224986
    },
    {
        "content": "<p>Hmm... maybe it should be splitted ? The path is the same once you're in the settings</p>",
        "id": 429111970,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225120
    },
    {
        "content": "<p>The only difference is how to get there</p>",
        "id": 429111979,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225131
    },
    {
        "content": "<p>How about</p>",
        "id": 429112045,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225182
    },
    {
        "content": "<p>NOTE: You might need to change the Docker Compose executable in your IDE settings to docker if you have no docker-compose bin, Start from the File menu if you are on Linux or IntelliJ IDEA on Mac and then go to Settings &gt; Build &gt; Docker &gt; Tools.</p>",
        "id": 429112228,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225269
    },
    {
        "content": "<p>We could add Windows, too. I suppose it will be under File, too.</p>",
        "id": 429112248,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225302
    },
    {
        "content": "<p>Aside from that I like it</p>",
        "id": 429112265,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225318
    },
    {
        "content": "<p>I have to test that on windows <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 429112346,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225367
    },
    {
        "content": "<p>Oh so you're no longer our Windows and VsCode man then?</p>",
        "id": 429112383,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225391
    },
    {
        "content": "<p>I use Windows for personal use <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 429112398,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225409
    },
    {
        "content": "<p>Haha same here <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 429112407,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225419
    },
    {
        "content": "<p>Gaming and content creation</p>",
        "id": 429112416,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225433
    },
    {
        "content": "<p>I wanted to see if following the intellij and NetBeans guide could shed some light and help me find my way to make this work on VS Code lol</p>",
        "id": 429112481,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225467
    },
    {
        "content": "<p>What do you play <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ?</p>",
        "id": 429112502,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225490
    },
    {
        "content": "<p>I see! Splendid idea!</p>",
        "id": 429112507,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225492
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/429112502\">said</a>:</p>\n<blockquote>\n<p>What do you play <span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> ?</p>\n</blockquote>\n<p>Let's move that to a non public channel or at least a different topic in <a class=\"stream\" data-stream-id=\"375707\" href=\"/#narrow/stream/375707-community\">#community</a> <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 429112582,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711225547
    },
    {
        "content": "<p>Me always getting off-topic <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> classic</p>",
        "id": 429112638,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225571
    },
    {
        "content": "<p>Ok I just checked, it is under File on windows</p>",
        "id": 429112993,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711225863
    },
    {
        "content": "<p>I spent a lot of time with vs-code today and no luck :(</p>",
        "id": 429128877,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711238572
    },
    {
        "content": "<p>That's a real bummer!</p>",
        "id": 429131250,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711240599
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/429110337\">said</a>:</p>\n<blockquote>\n<p>Not sure when you tested with Postgres 16, but I had that before as well.</p>\n</blockquote>\n<p>This is on the pom.xml for the ct profile so I wonder why IJ takes the 13 <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> </p>\n<div class=\"codehilite\"><pre><span></span><code>                &lt;postgresql.server.version&gt;16&lt;/postgresql.server.version&gt;\n</code></pre></div>",
        "id": 429262923,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711325293
    },
    {
        "content": "<p>Ok so I found the problem and a possible solution, you guys will let me know (Or <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> since he is probably the one that uses IJ the most <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> ) It seems to me that since this configuration utilizes directly the compose file and the PG version variable comes from the pom.xml which is processed by the mvn docker pluggin. The solution I found was this:</p>",
        "id": 429481218,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711390293
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/JQnLnLaEXyUCFVdEUuONlsWR/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/JQnLnLaEXyUCFVdEUuONlsWR/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/JQnLnLaEXyUCFVdEUuONlsWR/image.png\"></a></div>",
        "id": 429481282,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711390317
    },
    {
        "content": "<p>Adding POSTGRES_VERSION=16 to the env variables makes and PG is running on 16, this works for me but since I am not the author of the guide I am not sure 100% if I missed something or if we should add this to the guide</p>",
        "id": 429481565,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711390426
    },
    {
        "content": "<p>(I am writing this as I triple check the guide that I didn't missed this somewhere) <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 429481670,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711390452
    },
    {
        "content": "<p>No probably we overlooked sth somewhere else.</p>",
        "id": 429484568,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711391570
    },
    {
        "content": "<p>Ok I sent a PR, thanks <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 429488579,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711393114
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/faster.20redeploy/near/401995587\">said</a>:</p>\n<blockquote>\n<p>I am having trouble getting <code>-Dapp.deploy.skip</code> to work though. Maybe I'll try the env var.</p>\n</blockquote>\n<p>I'm using <code>mvn -Pct docker:run -Dapp.skipDeploy</code> and it works fine. I'm not sure if it's because it was <a href=\"https://github.com/IQSS/dataverse/pull/9959/commits/2018c87acd9c86cd0131c5fcd8228ce4254ec488\">renamed</a> or what, but it works great. A real time saver.</p>",
        "id": 454307039,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1722003060
    },
    {
        "content": "<p>Great! Should we resolve this topic? There are documentation bits for this <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>  <a href=\"https://guides.dataverse.org/en/latest/container/base-image.html#tunables\">https://guides.dataverse.org/en/latest/container/base-image.html#tunables</a> has <code>SKIP_DEPLOY</code> and <a href=\"https://guides.dataverse.org/en/latest/container/dev-usage.html#ide-trigger-code-deploy\">https://guides.dataverse.org/en/latest/container/dev-usage.html#ide-trigger-code-deploy</a> mentions the Maven property <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span></p>",
        "id": 454309531,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1722003793
    },
    {
        "content": "<p>Sure, resolving. Everyone should feel free to open fresh topics.</p>",
        "id": 454314781,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1722005163
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> has marked this topic as resolved.</p>",
        "id": 454314799,
        "sender_full_name": "Notification Bot",
        "timestamp": 1722005167
    }
]