[
    {
        "content": "<p>Out of curiosity, I was wondering if there is a loophole in Curator role :<br>\nYou have the permission AddDataverse but not PublishDataverse.<br>\nBut when you create a new collection, you are... admin, then you can publish the collection you just created (<a href=\"https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/engine/command/impl/CreateDataverseCommand.java#L112\">https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/engine/command/impl/CreateDataverseCommand.java#L112</a>)<br>\nWhat do you think ?</p>",
        "id": 438839627,
        "sender_full_name": "luddaniel",
        "timestamp": 1715789537
    },
    {
        "content": "<p>Interesting.</p>",
        "id": 438841809,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715790243
    },
    {
        "content": "<p>I'm just adding this link for 6.2 because develop is always changing: <a href=\"https://github.com/IQSS/dataverse/blob/v6.2/src/main/java/edu/harvard/iq/dataverse/engine/command/impl/CreateDataverseCommand.java#L112\">https://github.com/IQSS/dataverse/blob/v6.2/src/main/java/edu/harvard/iq/dataverse/engine/command/impl/CreateDataverseCommand.java#L112</a></p>",
        "id": 438841900,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715790264
    },
    {
        "content": "<p>Yes, the creator of a collection becomes the admin of it.</p>",
        "id": 438842857,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715790540
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375707-community/topic/Loophole.20.3A.20from.20Curator.20to.20Admin/near/438842857\">said</a>:</p>\n<blockquote>\n<p>Yes, the creator of a collection becomes the admin of it.</p>\n</blockquote>\n<p>Is it for you a wanted behavious ?</p>",
        "id": 438862928,
        "sender_full_name": "luddaniel",
        "timestamp": 1715797742
    },
    {
        "content": "<p>Well, sort of. Some Dataverse installations want users to be able to create collections in the root collection. And publish them. This is how it was for Harvard Dataverse for a long time.</p>",
        "id": 438863113,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715797820
    },
    {
        "content": "<p>Would it be better if we removed this hard coded line and add <code>PublishDataverse</code> permissions to the Curator ? <br>\nI mean the line between <code>Admin</code> and <code>Curator</code> role is not very clear as <code>AddDataverse</code> allows to create and create gives <code>Admin</code> role (on the created collection)</p>",
        "id": 438864594,
        "sender_full_name": "luddaniel",
        "timestamp": 1715798432
    },
    {
        "content": "<p>Woof. I don't want to break anything. It's a delicate balance.</p>",
        "id": 438864889,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798530
    },
    {
        "content": "<p>I guess I don't like the idea that Dataset Reviewers (Curator) to manage collections, we are thinking about removing <code>AddDataverse</code> permission out of the Curator Role as an example</p>",
        "id": 438864897,
        "sender_full_name": "luddaniel",
        "timestamp": 1715798532
    },
    {
        "content": "<p>I wonder how much we use the Curator role. I'm really not sure.</p>",
        "id": 438865069,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798596
    },
    {
        "content": "<p>You could allow reviewers in by creating a private url.</p>",
        "id": 438865132,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798625
    },
    {
        "content": "<p>Rather than making them curators.</p>",
        "id": 438865156,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798636
    },
    {
        "content": "<p>haha, now we are jumping on <a href=\"https://github.com/IQSS/dataverse/issues/9938\">https://github.com/IQSS/dataverse/issues/9938</a><br>\nContributor cannot create private url ^^</p>",
        "id": 438865339,
        "sender_full_name": "luddaniel",
        "timestamp": 1715798693
    },
    {
        "content": "<p>Hmmm <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 438865935,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798900
    },
    {
        "content": "<p>My temptation is to try to encode your workflow in a series of API tests.</p>",
        "id": 438866026,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798938
    },
    {
        "content": "<p>Like <a href=\"https://github.com/IQSS/dataverse/blob/v6.2/src/test/java/edu/harvard/iq/dataverse/api/InReviewWorkflowIT.java\">https://github.com/IQSS/dataverse/blob/v6.2/src/test/java/edu/harvard/iq/dataverse/api/InReviewWorkflowIT.java</a> for example.</p>",
        "id": 438866102,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798973
    },
    {
        "content": "<p>To better understand when you are using this or that role, from the beginning.</p>",
        "id": 438866152,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715798998
    },
    {
        "content": "<p>We are kind of facing multiple issues, because here we want :</p>\n<ul>\n<li>Admin to handle rights and collections</li>\n<li>Curator to handle rights and metadata checks</li>\n<li>Contributor to be able to give Contributor right to another user, create a private url for external review, handle file restrictions (<a href=\"https://groups.google.com/g/dataverse-community/c/UPU9Vl9PT4Y/m/tKVIp7sjAgAJ\">https://groups.google.com/g/dataverse-community/c/UPU9Vl9PT4Y/m/tKVIp7sjAgAJ</a>) and that without the need to ask for Admin or Admin to ask validation from authors</li>\n</ul>",
        "id": 438866429,
        "sender_full_name": "luddaniel",
        "timestamp": 1715799113
    },
    {
        "content": "<p>And there is another level of role (Curator or Contributor) when you create a dataset (Dataset Creator) ^^</p>",
        "id": 438866710,
        "sender_full_name": "luddaniel",
        "timestamp": 1715799226
    },
    {
        "content": "<p>Most important : keep the \"Submit datasets for review\"</p>",
        "id": 438867061,
        "sender_full_name": "luddaniel",
        "timestamp": 1715799347
    },
    {
        "content": "<p>We will mature on those subject, I'll create a better post to explain the needs</p>",
        "id": 438867428,
        "sender_full_name": "luddaniel",
        "timestamp": 1715799471
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"649905\">luddaniel</span> <a href=\"#narrow/stream/375707-community/topic/Loophole.20.3A.20from.20Curator.20to.20Admin/near/438839627\">said</a>:</p>\n<blockquote>\n<p>Out of curiosity, I was wondering if there is a loophole in Curator role :<br>\nYou have the permission AddDataverse but not PublishDataverse.<br>\nBut when you create a new collection, you are... admin, then you can publish the collection you just created (<a href=\"https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/engine/command/impl/CreateDataverseCommand.java#L112\">https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/engine/command/impl/CreateDataverseCommand.java#L112</a>)<br>\nWhat do you think ?</p>\n</blockquote>\n<p>FYI, I don't consider this a loophole. The Publish Dataverse command is for itself, and they cannot publish that. They can publish child dataverses (since they become admin on it) and that (to me) is in line with being able to publish child datasets</p>\n<p>I don't believe we want to give Curators the ability to Publish the dataverse for which they are just a curator and not admin).</p>",
        "id": 438867450,
        "sender_full_name": "Gustavo Durand",
        "timestamp": 1715799480
    },
    {
        "content": "<p>understandable</p>",
        "id": 438867647,
        "sender_full_name": "luddaniel",
        "timestamp": 1715799560
    },
    {
        "content": "<p>It would be good to pull in <span class=\"user-mention\" data-user-id=\"707680\">@Sonia Barbosa</span> as well. I'm sure she has lots of thoughts on these roles and how best to use them.</p>\n<p>Right now it's hard for me to judge if we should change how Dataverse works or if a tweak to your workflows would help.</p>",
        "id": 438867654,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1715799562
    },
    {
        "content": "<p>Same here ^^</p>",
        "id": 438867719,
        "sender_full_name": "luddaniel",
        "timestamp": 1715799594
    },
    {
        "content": "<p>The subject ended up here : <a href=\"https://github.com/IQSS/dataverse/issues/10575\">https://github.com/IQSS/dataverse/issues/10575</a></p>",
        "id": 440049936,
        "sender_full_name": "luddaniel",
        "timestamp": 1716369683
    },
    {
        "content": "<p>Ah, great. Thanks for letting us know!</p>",
        "id": 440084785,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1716382345
    }
]