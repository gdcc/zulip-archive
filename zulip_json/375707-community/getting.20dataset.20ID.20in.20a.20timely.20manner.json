[
    {
        "content": "<p>I am trying to find a way to get the internal dataset id for a dataset with many files (170k), the PID is known.<br>\nSearch API finishes in about two minutes, and does not return the dataset ID. (/api/search?q=PID)<br>\nThe native API times out, because it seems to try to serialize all file metadata. (/api/datasets/:persistentId/?persistentId=PID)</p>",
        "id": 476092296,
        "sender_full_name": "PÃ©ter Pallinger",
        "timestamp": 1728554020
    },
    {
        "content": "<p>So can either the dataset id be gotten from the search api somehow, or the files be excluded from the dataset listing in the native API?</p>",
        "id": 476092710,
        "sender_full_name": "PÃ©ter Pallinger",
        "timestamp": 1728554164
    },
    {
        "content": "<p>I would suggest setting show_entity_ids=true when using the Search API: <a href=\"https://guides.dataverse.org/en/6.4/api/search.html\">https://guides.dataverse.org/en/6.4/api/search.html</a></p>",
        "id": 476096907,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1728555665
    },
    {
        "content": "<p>Thanks, this seems to work, even if it is quite slow.</p>",
        "id": 476111424,
        "sender_full_name": "PÃ©ter Pallinger",
        "timestamp": 1728560425
    },
    {
        "content": "<p>Is something like this faster? <a href=\"https://dataverse.harvard.edu/api/datasets/:persistentId/versions/:latest-published?persistentId=doi:10.7910/DVN/TJCLKP&amp;excludeFiles=false\">https://dataverse.harvard.edu/api/datasets/:persistentId/versions/:latest-published?persistentId=doi:10.7910/DVN/TJCLKP&amp;excludeFiles=false</a></p>",
        "id": 476117728,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1728562369
    },
    {
        "content": "<p>I tried with both excludeFiles=true and excludeFiles=false but they do not work. Most probably because our dataverse is still on 6.1 :( . But I will keep that in mind in case we upgrade.</p>",
        "id": 476120337,
        "sender_full_name": "PÃ©ter Pallinger",
        "timestamp": 1728563173
    },
    {
        "content": "<p>Oh, right. I forget when it was added. Pretty recently, for the SPA, because it was slow to retrieve that data otherwise.</p>",
        "id": 476132119,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1728566247
    },
    {
        "content": "<p>It looks like it was added in 6.2 (renamed at least): <a href=\"https://guides.dataverse.org/en/6.4/api/changelog.html#v6-2\">https://guides.dataverse.org/en/6.4/api/changelog.html#v6-2</a></p>",
        "id": 476132492,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1728566340
    },
    {
        "content": "<p>Renamed in PR <a href=\"https://github.com/IQSS/dataverse/issues/10191\">#10191</a>.</p>",
        "id": 476132830,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1728566439
    },
    {
        "content": "<p>Anyway, <span class=\"user-mention\" data-user-id=\"602779\">@PÃ©ter Pallinger</span> I guess we could add a new API that takes a DOI/PID and simply returns the database id. If you want something like this, please feel free to open an issue.</p>",
        "id": 476132992,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1728566494
    }
]