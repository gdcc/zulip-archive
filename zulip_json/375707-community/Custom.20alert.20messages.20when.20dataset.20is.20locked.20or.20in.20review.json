[
    {
        "content": "<p>Hi there .. I apologize if this has been asked before .. I did search for existing discussions <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> <br>\nIs there a way to customize the alert messages that appear on a dataset when the dataset is locked, or submitted for review? <br>\n<a href=\"/user_uploads/53090/lISzJwsGdPsdZZGpE21rGCJ8/Screenshot-2024-07-30-at-12.04.57PM.png\">Screenshot-2024-07-30-at-12.04.57PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/lISzJwsGdPsdZZGpE21rGCJ8/Screenshot-2024-07-30-at-12.04.57PM.png\" title=\"Screenshot-2024-07-30-at-12.04.57PM.png\"><img data-original-dimensions=\"1314x456\" src=\"/user_uploads/thumbnail/53090/lISzJwsGdPsdZZGpE21rGCJ8/Screenshot-2024-07-30-at-12.04.57PM.png/840x560.webp\"></a></div>",
        "id": 455199452,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722367055
    },
    {
        "content": "<p>I haven't played with this much but it should be possible to drop a custom version of <a href=\"http://Bundle.properties\">Bundle.properties</a> into place.</p>\n<p>Here's one of the lines in question:</p>\n<div class=\"codehilite\"><pre><span></span><code>% ack &#39;review prior&#39; src\nsrc/main/java/propertyFiles/Bundle.properties\n1499:dataset.inreview.infoMessage=The draft version of this dataset is currently under review prior to publication.\n</code></pre></div>",
        "id": 455208304,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722369355
    },
    {
        "content": "<p>where do i find that?</p>",
        "id": 455218416,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722372347
    },
    {
        "content": "<p>Here's the file as of 6.3: <a href=\"https://github.com/IQSS/dataverse/blob/v6.3/src/main/java/propertyFiles/Bundle.properties\">https://github.com/IQSS/dataverse/blob/v6.3/src/main/java/propertyFiles/Bundle.properties</a></p>",
        "id": 455220531,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722373311
    },
    {
        "content": "<p>ah thanks! i'll see what i can figure out <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 455221445,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722373748
    },
    {
        "content": "<p>Sure, you might need to configure the lang directory, but I'm not sure: <a href=\"https://guides.dataverse.org/en/6.3/installation/config.html#configuring-the-lang-directory\">https://guides.dataverse.org/en/6.3/installation/config.html#configuring-the-lang-directory</a></p>",
        "id": 455223286,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722374517
    },
    {
        "content": "<p>You shouldn't have to recompile. But I'm not sure where you're supposed to put the updated file.</p>",
        "id": 455223393,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722374552
    },
    {
        "content": "<p>if we would need to change it every time we upgrade, we prob don't want to do that .. maybe I should submit a feature request to allow custom alert messages? <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 455224800,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722375211
    },
    {
        "content": "<p>if it's useful info: we're managing a set of the languageBundles as part of our customization repo - the idea there is that we then at least can reapply the same changes as we need to. however, we still need to grab the upstream bundle files when we upgrade since they'll have new strings in them.</p>",
        "id": 455234543,
        "sender_full_name": "marÃ­a a. matienzo",
        "timestamp": 1722379600
    },
    {
        "content": "<p>Thank you for the info! Are you just using <a href=\"https://guides.dataverse.org/en/6.3/installation/config.html#configuring-the-lang-directory\">this procedure</a> to change those files? And a JVM option points to the new files?</p>",
        "id": 455409488,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722440513
    },
    {
        "content": "<p>I'm not sure what procedure Jim from QDR is using but they replace \"dataset\" with \"data project\" by updating that <code>Bundle.properties</code> file. See <a href=\"https://data.qdr.syr.edu\">https://data.qdr.syr.edu</a></p>",
        "id": 455478132,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722457743
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598843\">@Deirdre Kirmis</span> yes, that's what we're doing. we either can upload the language bundle using the zip files directions described there, or deploying files to the configured location in dataverse and restarting it.</p>",
        "id": 455501310,
        "sender_full_name": "marÃ­a a. matienzo",
        "timestamp": 1722466610
    },
    {
        "content": "<p>Ah, great. Thanks for confirming, <span class=\"user-mention\" data-user-id=\"735407\">@MarÃ­a A. Matienzo</span></p>",
        "id": 455653809,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722520045
    },
    {
        "content": "<p>Do we need better docs on this? Please feel free to start a thread in <a class=\"stream\" data-stream-id=\"446770\" href=\"/#narrow/stream/446770-docs\">#docs</a>!</p>",
        "id": 455653874,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1722520060
    },
    {
        "content": "<p>Yes thanks for the help/info! Will give it a try. <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 455666128,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722522965
    },
    {
        "content": "<p>hi there .. this seems to be working, however does it make sense that I have to have both a custom zip file uploaded with my changes, as well as the JVM option in place pointing to the language packs? It overrides the files in the local directory with the changes that I specify in the zip file, but why do I still need to point to the \"lang\" directory if I'm uploading a zip file with my customization?</p>",
        "id": 456037429,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722630512
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598843\">@Deirdre Kirmis</span> Dataverse still needs to know where to extract those files to, and in general, where to look for the language packs on disk (e.g. if it were to restart).</p>",
        "id": 456042177,
        "sender_full_name": "marÃ­a a. matienzo",
        "timestamp": 1722632909
    },
    {
        "content": "<p>Ah okay, got it .. I thought it was either-or .. the uploaded zip overrides the default language packs or dataverse just points to the configured directory instead .. thanks for the help again! Cool that we can do this level of customization!</p>",
        "id": 456045144,
        "sender_full_name": "Deirdre Kirmis",
        "timestamp": 1722634437
    },
    {
        "content": "<p>the first time you do it, it's both - but from then on (e.g. if you're working with a sysadmin or developer) it's fine to place the files directly into that directory in the Dataverse configuration.</p>",
        "id": 456046181,
        "sender_full_name": "marÃ­a a. matienzo",
        "timestamp": 1722634737
    },
    {
        "content": "<p>Just a thought - I haven't tried this, but might be worth a shot: instead of editing the <a href=\"http://Bundle.properties\">Bundle.properties</a>, maybe you can add a language variant? That way you don't need to worry about <a href=\"http://Bundle.properties\">Bundle.properties</a> updating. ResourceBundle files' names follow the pattern <code>&lt;name&gt;_&lt;langcode&gt;_&lt;region&gt;_&lt;variant&gt;.properties</code> (see also <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Locale.html\">Locale JavaDocs</a>). You can set the <code>user.variant</code> using a system property (aka JVM option) in domain.xml. Note that the variant is case-sensitive!</p>",
        "id": 456288659,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1722760946
    },
    {
        "content": "<p>Obviously you'd need to add these locales with language, region and variant to the Languages setting <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> Otherwise you'll end up with the default Locale \"en\" again.</p>",
        "id": 456289048,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1722761272
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> unfortunately, this doesn't seem to work - on restarting Payara, there are a series of warnings, and then there's an exception that prevents Dataverse from starting</p>",
        "id": 456891216,
        "sender_full_name": "marÃ­a a. matienzo",
        "timestamp": 1722959634
    }
]