[
    {
        "content": "<p>The core team just talked a lot about the Notifications API. Here's its current state: <a href=\"https://guides.dataverse.org/en/6.7/api/native-api.html#notifications\">https://guides.dataverse.org/en/6.7/api/native-api.html#notifications</a></p>\n<p>I'm wondering if anyone out there is actually using the Notifications API. Can we safely make breaking changes? Do you want to have input on how it works in the future?</p>\n<p>The context for this is that we're starting to think about how to improve the Notifications API for the SPA to use it: <a href=\"https://github.com/IQSS/dataverse-frontend/issues/775\">https://github.com/IQSS/dataverse-frontend/issues/775</a></p>\n<p>But I'm also curious if existing apps are using that API and how they would like it to work.</p>",
        "id": 530600862,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753374198
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"617722\">@Johannes D</span> <span class=\"user-mention\" data-user-id=\"616555\">@Vera Clemens</span> does your custom UI call into the Notifications API?</p>",
        "id": 530600957,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753374218
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> does pyDataverse or dvcli display notifications? Do you want it to some day? (I was thinking about writing a little Python script to display notifications.)</p>",
        "id": 530601175,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753374273
    },
    {
        "content": "<p>I'm not currently using the Notification API. A long time ago we talked about this, though. And at the time, there was consensus that it would make sense to have the notification system pluggable. Meaning: not just have the option to send an email and display something in the UI. But also allow notifications to flow into messaging systems (Slack et al) and event stream systems (Kafka, RabbitMQ, et al).</p>",
        "id": 530637030,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1753387308
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin ðŸš€</span> DVCLI does not yet feature the notifications API, but we can add it. I guess it would also be quite useful in pyDataverse for automation.</p>",
        "id": 531385835,
        "sender_full_name": "Jan Range",
        "timestamp": 1753713088
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> if it's helpful, I'm playing around with a Python script to display notifications at <a href=\"https://github.com/gdcc/dataverse-recipes/compare/notifications\">https://github.com/gdcc/dataverse-recipes/compare/notifications</a> but please be advised that it relies unmerged, experimental, work-in-progress code at <a href=\"https://github.com/IQSS/dataverse/compare/develop...11648-notification-patterns\">https://github.com/IQSS/dataverse/compare/develop...11648-notification-patterns</a></p>",
        "id": 531386556,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753713264
    },
    {
        "content": "<p>Alright, so the recipe relies on the cases/enumeration such as <code>INGESTCOMPLETED</code> - Pretty cool feature! I think this could be very helpful in a couple of cases to check back on certain states. DVUploader for ingest checks and EasyReview for review updates would come to my mind.</p>\n<p>In terms of implementation, would it be better to wait until the diff you have posted is merged? Or is this simply an addition to the existing response schema and we can add it when released?</p>",
        "id": 531387831,
        "sender_full_name": "Jan Range",
        "timestamp": 1753713596
    },
    {
        "content": "<p>Yes, you should absolutely wait. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> </p>\n<p>All of these notifications feel a bit bespoke but I'm trying to figure out if there are some patterns we can lean into. Please stay tuned. <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 531388152,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753713669
    },
    {
        "content": "<p>And yes, I can imagine it's useful to check in a loop if ingest is done.</p>",
        "id": 531388240,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753713691
    },
    {
        "content": "<p>Shall we track it somewhere? Maybe an issue at pyDataverse or DVCLI</p>",
        "id": 531388474,
        "sender_full_name": "Jan Range",
        "timestamp": 1753713747
    },
    {
        "content": "<p>If you want. Like I said above, for now we're tracking it for the SPA at <a href=\"https://github.com/IQSS/dataverse-frontend/issues/775\">https://github.com/IQSS/dataverse-frontend/issues/775</a></p>",
        "id": 531388617,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753713782
    },
    {
        "content": "<p>Opened an issue to not forget about it </p>\n<p><a href=\"https://github.com/gdcc/pyDataverse/issues/221\">https://github.com/gdcc/pyDataverse/issues/221</a></p>",
        "id": 531389330,
        "sender_full_name": "Jan Range",
        "timestamp": 1753713966
    },
    {
        "content": "<p>Looks great, thanks!</p>",
        "id": 531389398,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1753713987
    },
    {
        "content": "<p>I've just tried to retrieve all of my notifications as an admin, and I'm getting a 500 response. When I try with a normal user, it works. But with two different admin accounts it's not working. Is anyone else having the same issue? Could maybe be due to the number of notifications (1000+)?</p>",
        "id": 533123865,
        "sender_full_name": "Dieuwertje Bloemen",
        "timestamp": 1754492946
    },
    {
        "content": "<p>Hmm, <span class=\"user-mention\" data-user-id=\"760290\">@Omer M Fahim</span> found something similar in <a href=\"https://github.com/IQSS/dataverse/issues/11683\">#11683</a> but as I said there, it may not be the sheer number of notifications. In that issue you'll see a <code>NullPointerException</code>.  <span class=\"user-mention\" data-user-id=\"660583\">@Dieuwertje Bloemen</span> if you have access to server.log you might see a similar error. Please feel free to add any findings to that issue!</p>",
        "id": 533126957,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1754493974
    }
]