[
    {
        "content": "<p>Hey all! I'm trying to put some breakpoints in my environment (Intellij 2023.3)  to do some debugging. I noticed the containers don't expose the 5005 port.  Is there a flag or something like that i could use to achieve this and plug my debugger? or should i change the docker-compose file directly?</p>",
        "id": 430868637,
        "sender_full_name": "Jose Lucas Cordeiro",
        "timestamp": 1712090022
    },
    {
        "content": "<p>Update after exposing the 5005 port on docker-compose-dev in the dataverse service: </p>\n<ul>\n<li>I tried to plug to 5005 directly without changing the running command (<code>mvn -Pct clean package docker:run</code>)</li>\n<li>I tried plug in again on 5005 with some additional flags (command:  <code>mvn -Pct clean package docker:run -Dexec.args=\"-classpath %classpath -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044\"</code>)</li>\n</ul>\n<p>Both of them resulted the same connection reset error<br>\n<a href=\"/user_uploads/53090/usy6FYogi-gONdnfIZxn7KmG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/usy6FYogi-gONdnfIZxn7KmG/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/usy6FYogi-gONdnfIZxn7KmG/image.png\"></a></div>",
        "id": 430870203,
        "sender_full_name": "Jose Lucas Cordeiro",
        "timestamp": 1712090676
    },
    {
        "content": "<p>We ask people to configure IntelliJ (and other IDEs) to use port 9009. Please see <a href=\"https://guides.dataverse.org/en/6.2/container/dev-usage.html#ide-trigger-code-deploy\">https://guides.dataverse.org/en/6.2/container/dev-usage.html#ide-trigger-code-deploy</a></p>",
        "id": 430871816,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712091282
    },
    {
        "content": "<p>Unfortunely i don't have the ultimate edition <span aria-label=\"smile cat\" class=\"emoji emoji-1f638\" role=\"img\" title=\"smile cat\">:smile_cat:</span>. So I wont be able to do the hot reload. But i was able to connect directly on the 9009 :D Thanks</p>",
        "id": 430877470,
        "sender_full_name": "Jose Lucas Cordeiro",
        "timestamp": 1712093493
    },
    {
        "content": "<p>That exec arg thing won't do anything. It's a Maven property you define and it's not used anywhere.</p>",
        "id": 430889784,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712099173
    },
    {
        "content": "<p>The port 9009 is in line with upstream Payara docs. I'm not sure how easy it would be to change it.</p>",
        "id": 430890009,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712099312
    },
    {
        "content": "<p>Also note that JDWP already gives you limited options to change method bodies even without DCEVM (JEP159). Not sure how to use do that in IntelliJ though. Might be good enough for adding some debugging statements etc.</p>",
        "id": 430890961,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712099893
    },
    {
        "content": "<p>If you want to give HotSwapAgent and DCEVM a shot, feel free to modify the base image and use a different JDK/JRE.</p>",
        "id": 430891020,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712099944
    },
    {
        "content": "<p><a href=\"https://medium.com/javarevisited/jdk-17-with-dcevm-and-hotswapagent-4fee7095617a\">https://medium.com/javarevisited/jdk-17-with-dcevm-and-hotswapagent-4fee7095617a</a></p>",
        "id": 430891067,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712099984
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 431363792,
        "sender_full_name": "Jose Lucas Cordeiro",
        "timestamp": 1712250559
    }
]