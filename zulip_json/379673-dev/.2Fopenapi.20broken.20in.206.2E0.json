[
    {
        "content": "<p><a href=\"https://dataverse.harvard.edu/openapi\">https://dataverse.harvard.edu/openapi</a> now gives an error 500 <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 396074959,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1697026073
    },
    {
        "content": "<p>Yes, as predicted by <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> in <a href=\"https://github.com/IQSS/dataverse/issues/9981\">#9981</a> <span aria-label=\"disappointed\" class=\"emoji emoji-1f61e\" role=\"img\" title=\"disappointed\">:disappointed:</span></p>",
        "id": 396091008,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1697031443
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/issues/9981\">#9981</a> has been prioritized but it needs a size. Any ideas?</p>",
        "id": 411931654,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1704805708
    },
    {
        "content": "<p>Today we discussed created a spike issue to explore <a href=\"https://github.com/OpenAPITools/openapi-generator\">https://github.com/OpenAPITools/openapi-generator</a> as suggested by <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span></p>",
        "id": 413197157,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705423788
    },
    {
        "content": "<p>Recommending the <a href=\"https://openapi-generator.tech/docs/generators/python-pydantic-v1\">pydantic-v1</a> generator for Python usage. PyDantic is pretty nice for data validation, parsing, and more. I've been using it for many projects including EasyDataverse and DVUploader.</p>",
        "id": 413203923,
        "sender_full_name": "Jan Range",
        "timestamp": 1705425863
    },
    {
        "content": "<p>But the point here is that we want to create the spec from the existing JAX-RS Java Code. So that will require Java tooling... <span aria-label=\"smirk\" class=\"emoji emoji-1f60f\" role=\"img\" title=\"smirk\">:smirk:</span></p>",
        "id": 413204446,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705426072
    },
    {
        "content": "<p>Should this topic be moved to #dev?</p>",
        "id": 413204564,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705426106
    },
    {
        "content": "<p>Ah nvm, I thought this was about SDK generation in general <span aria-label=\"face with peeking eye\" class=\"emoji emoji-1fae3\" role=\"img\" title=\"face with peeking eye\">:face_with_peeking_eye:</span></p>",
        "id": 413206939,
        "sender_full_name": "Jan Range",
        "timestamp": 1705426860
    },
    {
        "content": "<p>Sure, moved to <a class=\"stream\" data-stream-id=\"379673\" href=\"/#narrow/stream/379673-dev\">#dev</a></p>",
        "id": 413207319,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705426993
    },
    {
        "content": "<p>Here's the spike issue: Investigate OpenAPI Generator Tool as alternative for OpenAPI pyDataverse support <a href=\"https://github.com/IQSS/dataverse/issues/10236\">#10236</a></p>",
        "id": 416215252,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705520612
    },
    {
        "content": "<p>I'm planning on pulling it into the sprint, which begins today.</p>",
        "id": 416215285,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705520628
    },
    {
        "content": "<p>I must be doing something wrong, the <a href=\"https://openapi-generator.tech/docs/plugins\">example</a> I copied has this...</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;inputSpec&gt;${project.basedir}/src/main/resources/api.yaml&lt;/inputSpec&gt;\n</code></pre></div>\n<p>... but I want OpenAPI YAML as output, not input. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 416341504,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705528022
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> have you done this already? Any tips for me? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 416341672,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705528102
    },
    {
        "content": "<p>I might have gotten that one wrong - the OpenAPI generator is about generating Java code <em>from</em> the spec, not the other way round</p>",
        "id": 416457528,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705531175
    },
    {
        "content": "<p>But: I did some digging, looking specifically for generating the OpenAPI YAML file... And here's what I found:</p>",
        "id": 416457830,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705531337
    },
    {
        "content": "<p>A) Use Swagger and Swagger Annotations. <a href=\"https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-maven-plugin/README.md\">https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-maven-plugin/README.md</a> and <a href=\"https://github.com/openapi-tools/swagger-maven-plugin\">https://github.com/openapi-tools/swagger-maven-plugin</a> (not sure what the difference is). There is also <a href=\"https://github.com/stoicflame/enunciate\">https://github.com/stoicflame/enunciate</a> which supports Swagger output as well as generating client code in a variety of languages.</p>",
        "id": 416458038,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705531491
    },
    {
        "content": "<p>B) Use <a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html\">MicroProfile OpenAPI annotations</a> (these are the ones also useable with Payara /openapi endpoint) and use other plugins: <a href=\"https://geronimo.apache.org/microprofile/openapi.html\">https://geronimo.apache.org/microprofile/openapi.html</a> or <a href=\"https://github.com/smallrye/smallrye-open-api/tree/main/tools/maven-plugin\">https://github.com/smallrye/smallrye-open-api/tree/main/tools/maven-plugin</a></p>",
        "id": 416458645,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705531823
    },
    {
        "content": "<p>I think the best shot is the SmallRye Maven Plugin, as it provides code scanning and keeps us compatible with the Payara OpenAPI implementation</p>",
        "id": 416458726,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705531870
    },
    {
        "content": "<p>Hope this helps <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span></p>",
        "id": 416459023,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705532021
    },
    {
        "content": "<p>Yes! Thanks! I'll poke more at this soon.</p>",
        "id": 416466949,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705536336
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 416636947,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705606601
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 416637070,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705606658
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 416637145,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705606683
    },
    {
        "content": "<p>I gave the issue a new title. More generic.</p>",
        "id": 416637253,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705606731
    },
    {
        "content": "<p>Agnostic to which tool we use.</p>",
        "id": 416637290,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705606744
    },
    {
        "content": "<p>Splendid!</p>",
        "id": 416637337,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705606772
    },
    {
        "content": "<p>I'm actually working on a different issue though. Hoping to get back to this next week, though someone else is welcome to pick it up, of course.</p>",
        "id": 416637706,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705606928
    },
    {
        "content": "<p>Hehehe, not me - I'm stuck with loads of other things. But definitely interesting stuff!</p>",
        "id": 416637836,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705606975
    },
    {
        "content": "<p>No worries. And we can hope that Payara fixes it. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 416638140,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705607121
    },
    {
        "content": "<p>Yeah... good luck with that.</p>",
        "id": 416638168,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705607140
    },
    {
        "content": "<p>\"Lasst alle Hoffnung fahren...\" <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 416638283,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1705607178
    },
    {
        "content": "<p>I left them a nice note: <a href=\"https://github.com/payara/Payara/issues/6369#issuecomment-1885045621\">https://github.com/payara/Payara/issues/6369#issuecomment-1885045621</a></p>",
        "id": 416638290,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1705607183
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> I was testing the mvn plugin recommended by the amazing <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> and I was able to generate these: <br>\n<a href=\"/user_uploads/53090/RsTnjD6s9sTQDoGEwCu5Ciaz/openapi.json\">openapi.json</a><br>\n<a href=\"/user_uploads/53090/fK27pLP1OTDIfli37z-EOd68/openapi.yaml\">openapi.yaml</a></p>\n<p>Would you be so kind to give them a look and let us know what do you think? </p>\n<p>Best,<br>\nJuan</p>",
        "id": 421530784,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1707943971
    },
    {
        "content": "<p>Great work, <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span>! Which tool did you end up using?</p>",
        "id": 421531029,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707944075
    },
    {
        "content": "<p><a href=\"https://github.com/smallrye/smallrye-open-api/tree/main/tools/maven-plugin\">https://github.com/smallrye/smallrye-open-api/tree/main/tools/maven-plugin</a></p>",
        "id": 421531376,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1707944239
    },
    {
        "content": "<p>awesome stuff</p>",
        "id": 421531631,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707944344
    },
    {
        "content": "<p>Let's see a PR <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 421531677,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1707944365
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span>  and <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> for the great work! I've had a quick look through the yaml file and the only thing missing is linking the schemes to request bodies and responses. </p>\n<p>For instance, the path <code>api/v1/datasets/{id}/add</code> already contains the information that <code>multipart/form-data</code> is expected, which is great, but the schema only expects a string although it should be at least  <code>jsonData</code> and <code>file</code>.</p>\n<p><a href=\"/user_uploads/53090/J8FFPAvrjkfFHF3PukQfxYCP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/J8FFPAvrjkfFHF3PukQfxYCP/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/J8FFPAvrjkfFHF3PukQfxYCP/image.png\"></a></div><p>This is the same for response bodies. For instance, the file retrieval path <code>api/v1/files/{id}</code> should return the <code>DataFile</code> object defined in <code>schemas</code>, but it is not referenced.</p>\n<p><a href=\"/user_uploads/53090/zH204K2h95pL4_XUF23zuNRV/image.png\">image.png</a><br>\n<a href=\"/user_uploads/53090/Uym96Z7HcRmCsn0O6V4OpJRS/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/zH204K2h95pL4_XUF23zuNRV/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/zH204K2h95pL4_XUF23zuNRV/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/53090/Uym96Z7HcRmCsn0O6V4OpJRS/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/Uym96Z7HcRmCsn0O6V4OpJRS/image.png\"></a></div><p>Both cases seem to apply to all endpoints defined in this yaml file. Maybe Payara needs to know where to put these objects. I did the same in Django for a couple of endpoints, perhaps there is a similar way in Payara?</p>\n<p><a href=\"/user_uploads/53090/4RaZKtxSvDpxc9_-EsAtDau9/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/4RaZKtxSvDpxc9_-EsAtDau9/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/4RaZKtxSvDpxc9_-EsAtDau9/image.png\"></a></div>",
        "id": 421616499,
        "sender_full_name": "Jan Range",
        "timestamp": 1707990373
    },
    {
        "content": "<p>I'll analyze it deeply soon and compile what is missing and needs modification. But so far, these seem to be the only issues. All objects are well-defined and that is a good start <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 421616925,
        "sender_full_name": "Jan Range",
        "timestamp": 1707990508
    },
    {
        "content": "<p>I've found this <a href=\"https://www.kodnito.com/posts/documenting-rest-api-using-microprofile-openapi-swagger-ui-payara-micro/\">tutorial</a>, and it looks pretty similar to how Django handles OpenAPI. Maybe it helps to connect the schemes.</p>\n<p><a href=\"/user_uploads/53090/VaJpw3wVRsX4UAVCBax179xi/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/VaJpw3wVRsX4UAVCBax179xi/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/VaJpw3wVRsX4UAVCBax179xi/image.png\"></a></div>",
        "id": 421620857,
        "sender_full_name": "Jan Range",
        "timestamp": 1707991727
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> I haven't looked closely at the above yet, but I think two stages would be best:</p>\n<ul>\n<li>first, restore the equivalent OpenAPI YAML that went away with Payara 6</li>\n<li>then, get fancy with schemas and such (I think I'd like to see a new issue and Zulip topic for this)</li>\n</ul>\n<p>How far would you say the new output helps toward the first stage?</p>",
        "id": 421865343,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708092584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> sounds great! The new output is definitely helping the first stage a lot already. All endpoints are well-defined and we should be able to utilize it for code generation. We may not have the benefit of schemes, but for our testing, it is sufficient. I will give it a test next week and see how it performs.</p>",
        "id": 421877368,
        "sender_full_name": "Jan Range",
        "timestamp": 1708096228
    },
    {
        "content": "<p>I assume that the second stage will require work on the Java code base and thus I agree, that an issue or topic makes sense <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 421877541,
        "sender_full_name": "Jan Range",
        "timestamp": 1708096284
    },
    {
        "content": "<p>It could even be a Google doc for now... just to jot down some ideas and solicit feedback.</p>",
        "id": 421877647,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708096322
    },
    {
        "content": "<p>Just created a Doc. Feel free to add points and todo's <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>\n<p><a href=\"https://docs.google.com/document/d/15knNe6RoN3NdySqhqDAOZa9OdwuoNjuyFE4LZEjUKOE/edit?usp=sharing\">https://docs.google.com/document/d/15knNe6RoN3NdySqhqDAOZa9OdwuoNjuyFE4LZEjUKOE/edit?usp=sharing</a></p>",
        "id": 421891871,
        "sender_full_name": "Jan Range",
        "timestamp": 1708099975
    },
    {
        "content": "<p>This is the branch I am working on <a href=\"https://github.com/IQSS/dataverse/tree/openapi-definition-endpoint\">https://github.com/IQSS/dataverse/tree/openapi-definition-endpoint</a> if anyone wants to give it a look</p>",
        "id": 421914342,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708107414
    },
    {
        "content": "<p>/api/info/openapi/json and /api/info/openapi/yaml respectively will provide the requested definition</p>",
        "id": 421914436,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708107454
    },
    {
        "content": "<p>I need to add some integration tests (hopefully today)</p>",
        "id": 421914485,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708107473
    },
    {
        "content": "<p>And it will be ready for review</p>",
        "id": 421914522,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708107483
    },
    {
        "content": "<p>So you're providing API endpoints. Cool.</p>",
        "id": 421914943,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708107668
    },
    {
        "content": "<p><span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 421914959,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708107681
    },
    {
        "content": "<p>It is actually 1 and I am leaving it open in case one day there are more formats <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 421915110,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708107728
    },
    {
        "content": "<p>right, very cool</p>",
        "id": 421915462,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708107868
    },
    {
        "content": "<p>Do we also want a static version in the guides?</p>",
        "id": 421915517,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708107891
    },
    {
        "content": "<p>I would say no <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span> with static files, more places that need to be updated but let me know what you think.</p>",
        "id": 421915823,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708108022
    },
    {
        "content": "<p>Would need to check if the plugin supports output to multiple directories tho</p>",
        "id": 421915969,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708108080
    },
    {
        "content": "<p>I guess people will be able to check the new endpoint on <a href=\"https://beta.dataverse.org\">https://beta.dataverse.org</a> to see what's coming</p>",
        "id": 421916137,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708108133
    },
    {
        "content": "<p>That is a good idea for a reference</p>",
        "id": 421916780,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708108361
    },
    {
        "content": "<p>I am not making this case sensitive, do we have anything against it? <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 421917124,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708108498
    },
    {
        "content": "<p>like you can call /api/info/openapi/JsOn and will work</p>",
        "id": 421917182,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708108522
    },
    {
        "content": "<p>Asking for the sake of consistency</p>",
        "id": 421917232,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708108549
    },
    {
        "content": "<p>The code looks fine but in the guides, please document one (sane) way.</p>",
        "id": 421917653,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708108690
    },
    {
        "content": "<p>IT is up next step is to add to the documentation and changelog</p>",
        "id": 421923206,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708111070
    },
    {
        "content": "<p>I just left a quick review: <a href=\"https://github.com/IQSS/dataverse/pull/10328#pullrequestreview-1885865582\">https://github.com/IQSS/dataverse/pull/10328#pullrequestreview-1885865582</a></p>",
        "id": 421927483,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708112724
    },
    {
        "content": "<p>Thanks! Let me give it a look <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 421927763,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708112837
    },
    {
        "content": "<p>Ok so I merged the suggestions to the changelog and the notes now a couple of things:</p>",
        "id": 421928875,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113281
    },
    {
        "content": "<p>\"Maybe we should put this in the API changelog under 6.0.\" I think it is better to leave out of the changelog to make it more concise and clear but if you think it would be helpful we can add it <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 421929133,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113378
    },
    {
        "content": "<p>About the files the answer is \"I am not sure\"</p>",
        "id": 421929193,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113397
    },
    {
        "content": "<p>Can you please go ahead and add something to the API Guide? Under native, under info.</p>",
        "id": 421929347,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113454
    },
    {
        "content": "<p>Sure that is my next step</p>",
        "id": 421929377,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113471
    },
    {
        "content": "<p>awesome</p>",
        "id": 421929388,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113477
    },
    {
        "content": "<p>sorry to jump the gun <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 421929453,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113492
    },
    {
        "content": "<p>just so excited</p>",
        "id": 421929460,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113498
    },
    {
        "content": "<p>Don't worry! It makes me happy to work on something that someone is excited about <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 421929512,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113522
    },
    {
        "content": "<p>I'm just channeling enthusiasm from Jan. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 421929574,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113554
    },
    {
        "content": "<p>Do you think this is a good place?</p>",
        "id": 421929809,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113629
    },
    {
        "content": "<p><a href=\"https://guides.dataverse.org/en/latest/api/intro.html#lists-of-dataverse-apis\">https://guides.dataverse.org/en/latest/api/intro.html#lists-of-dataverse-apis</a></p>",
        "id": 421929817,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113630
    },
    {
        "content": "<p>No, here, please: <a href=\"https://guides.dataverse.org/en/latest/api/native-api.html#info\">https://guides.dataverse.org/en/latest/api/native-api.html#info</a></p>",
        "id": 421930158,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113756
    },
    {
        "content": "<p>Also, please put the word \"Swagger\" in there somewhere in case people search for it. It's the old name, as you may know.</p>",
        "id": 421930226,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708113785
    },
    {
        "content": "<p>Do you mind if I put this after the instalation server name?</p>",
        "id": 421930422,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113867
    },
    {
        "content": "<p>Or do we want to keep a specific chronological order</p>",
        "id": 421930444,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708113880
    },
    {
        "content": "<p>Sure, sounds good.</p>",
        "id": 421931662,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708114426
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> Do we need this block on every call?</p>",
        "id": 421931754,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114452
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/ESqDgMHZ4Nr6lURMW6rzOX-Y/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/ESqDgMHZ4Nr6lURMW6rzOX-Y/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/ESqDgMHZ4Nr6lURMW6rzOX-Y/image.png\"></a></div>",
        "id": 421931757,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114455
    },
    {
        "content": "<p>It is repeated in all the calls from the info section <span aria-label=\"melt\" class=\"emoji emoji-1fae0\" role=\"img\" title=\"melt\">:melt:</span></p>",
        "id": 421931812,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114481
    },
    {
        "content": "<p>Hmm, probably not.</p>",
        "id": 421931815,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708114483
    },
    {
        "content": "<p>I dunno, I guess I would leave it in for consistency.</p>",
        "id": 421931867,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708114504
    },
    {
        "content": "<p>Well, the thing is in other sections of the guide it is not on every definition</p>",
        "id": 421931950,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114549
    },
    {
        "content": "<p>But in the info section is on all of them</p>",
        "id": 421931996,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114564
    },
    {
        "content": "<p>I would defer that cleanup until later.</p>",
        "id": 421932078,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708114604
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/1PrHgb-YSf0og2XI-mHlwhMy/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/1PrHgb-YSf0og2XI-mHlwhMy/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/1PrHgb-YSf0og2XI-mHlwhMy/image.png\"></a></div>",
        "id": 421932095,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114614
    },
    {
        "content": "<p>Ok</p>",
        "id": 421932098,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708114617
    },
    {
        "content": "<p>It's tough. We do want people to see it. They might land in the middle of the page.</p>",
        "id": 421932155,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708114655
    },
    {
        "content": "<p>Ok It is up</p>",
        "id": 421933202,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115110
    },
    {
        "content": "<p>Waiting to be screamed about RST <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 421933233,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115125
    },
    {
        "content": "<p>I think the files are indeed not necessary on git</p>",
        "id": 421933604,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115271
    },
    {
        "content": "<p>I'm worried the files in git will be stale and confusing to someone looking at them in 5 years.</p>",
        "id": 421934371,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708115592
    },
    {
        "content": "<p>In theory those files will be updated every time that someone makes a build but yeah it would be pestering people to update those files when they make a change to the API</p>",
        "id": 421934456,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115642
    },
    {
        "content": "<p>I removed them and added to gitignore</p>",
        "id": 421934545,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115671
    },
    {
        "content": "<p>perfect</p>",
        "id": 421934593,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708115696
    },
    {
        "content": "<p>I think we are good, the only remaining item would be this?</p>",
        "id": 421934859,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115816
    },
    {
        "content": "<p>info.api.openapi.exception.invalid.format and info.api.openapi.exception?</p>",
        "id": 421934896,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115840
    },
    {
        "content": "<p>Oh, right. Maybe start with api? api.info.openapi.exception?</p>",
        "id": 421934967,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708115878
    },
    {
        "content": "<p>Also, do we need to write the file to disk? Can we do it in-memory?</p>",
        "id": 421935061,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708115923
    },
    {
        "content": "<p>Oh, but what about caching? This will never change within a release so we should cache it, right?</p>",
        "id": 421935112,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708115953
    },
    {
        "content": "<p>The plugin writes to file</p>",
        "id": 421935118,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115955
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/421934967\">said</a>:</p>\n<blockquote>\n<p>Oh, right. Maybe start with api? api.info.openapi.exception?</p>\n</blockquote>\n<p>Actually</p>",
        "id": 421935156,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708115977
    },
    {
        "content": "<p>The standard on the bundle is</p>",
        "id": 421935235,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116006
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>#Access.java\naccess.api.allowRequests.failure.noDataset=Could not find Dataset with id: {0}\n</code></pre></div>",
        "id": 421935240,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116012
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>#Dataverses.java\ndataverses.api.update.default.contributor.role.failure.role.not.found=Role {0} not found.\n</code></pre></div>",
        "id": 421935295,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116043
    },
    {
        "content": "<p>So i guess we keep the info.api?</p>",
        "id": 421935336,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116070
    },
    {
        "content": "<p>I can add the openapi if you want to be more specific</p>",
        "id": 421935365,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116087
    },
    {
        "content": "<p>Huh, who added those? <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 421935382,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116098
    },
    {
        "content": "<p>There's also api.prov and api.admin.datasetfield and api.ldninbox</p>",
        "id": 421935547,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116171
    },
    {
        "content": "<p>Most of those come from Jim and Stephen <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 421935562,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116178
    },
    {
        "content": "<p>I won't die on this hill.</p>",
        "id": 421935635,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116225
    },
    {
        "content": "<p>So we leave it as it is? <span aria-label=\"smiling devil\" class=\"emoji emoji-1f608\" role=\"img\" title=\"smiling devil\">:smiling_devil:</span></p>",
        "id": 421935661,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116242
    },
    {
        "content": "<p>I guess <span aria-label=\"disappointed\" class=\"emoji emoji-1f61e\" role=\"img\" title=\"disappointed\">:disappointed:</span></p>",
        "id": 421935715,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116251
    },
    {
        "content": "<p><span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 421935749,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116279
    },
    {
        "content": "<p>I am getting it out of draft as soon as Mr Jenkins is happy</p>",
        "id": 421935842,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116326
    },
    {
        "content": "<p>So what about caching?</p>",
        "id": 421935859,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116336
    },
    {
        "content": "<p>Is the file re-created every time someone hits that API?</p>",
        "id": 421935885,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116348
    },
    {
        "content": "<p>The files are created on build with maven</p>",
        "id": 421935956,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116368
    },
    {
        "content": "<p>So everytime someone makes a build they will be updated</p>",
        "id": 421935982,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116387
    },
    {
        "content": "<p>I'm trying to think of something else that's like that for us.</p>",
        "id": 421936055,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116427
    },
    {
        "content": "<p>Doesn't matter, I guess. Sounds fine. Efficient.</p>",
        "id": 421936098,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116455
    },
    {
        "content": "<p>At least it solves the current issue for now and we can evaluate other solutions in the future :)</p>",
        "id": 421936225,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116513
    },
    {
        "content": "<p>I would love to turn off the /openapi/ with this while payara fixes this on 2028</p>",
        "id": 421936279,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116543
    },
    {
        "content": "<p><span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 421936291,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116552
    },
    {
        "content": "<p>I just have no idea if this is even possible</p>",
        "id": 421936316,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708116569
    },
    {
        "content": "<p>Me neither. If we figure out how to we should probably turn it off and document how to turn it on.</p>",
        "id": 421936362,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116598
    },
    {
        "content": "<p>Maybe we can ask <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> to spin up your branch and play around with it.</p>",
        "id": 421936730,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708116781
    },
    {
        "content": "<p>OK all the updates are in</p>",
        "id": 421939012,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708117846
    },
    {
        "content": "<p>Thanks for looking at this before going into your long weekend <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 421939062,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708117872
    },
    {
        "content": "<p>Oh sure. Again, I think Jan should try it before we merge.</p>",
        "id": 421939096,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708117893
    },
    {
        "content": "<p>And I don't think there's a huge rush.</p>",
        "id": 421939134,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708117916
    },
    {
        "content": "<p>It's a great outcome. I'm glad the library worked.</p>",
        "id": 421939194,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708117932
    },
    {
        "content": "<p>I wonder what library Payara is using? The same one?</p>",
        "id": 421939215,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708117945
    },
    {
        "content": "<p>We can also compare to what is on <a href=\"https://dataverse.unc.edu/openapi\">https://dataverse.unc.edu/openapi</a></p>",
        "id": 421939223,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708117950
    },
    {
        "content": "<p>I don't think they are using the same</p>",
        "id": 421939305,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708117984
    },
    {
        "content": "<p>ok</p>",
        "id": 421939331,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708117998
    },
    {
        "content": "<p><a href=\"https://github.com/OpenAPITools/openapi-diff\">https://github.com/OpenAPITools/openapi-diff</a></p>",
        "id": 421939505,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708118082
    },
    {
        "content": "<p><span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 421939515,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708118086
    },
    {
        "content": "<p>huh, try it, try it</p>",
        "id": 421939857,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708118275
    },
    {
        "content": "<p>At some point we'll need a new Zulip topic. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 421939976,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708118329
    },
    {
        "content": "<p>Did you see Ollama use Discord? <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 421940077,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708118379
    },
    {
        "content": "<p>Ok, now we're really off topic. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 421940168,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708118407
    },
    {
        "content": "<p><span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 421940206,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708118429
    },
    {
        "content": "<p>We can talk about Zulip vs. Discord in <a class=\"stream\" data-stream-id=\"375876\" href=\"/#narrow/stream/375876-zulip\">#zulip</a> if you like. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 421940270,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708118465
    },
    {
        "content": "<p>Oh well that tool doesn't support 3.0</p>",
        "id": 421940691,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708118682
    },
    {
        "content": "<p>bummer</p>",
        "id": 421940773,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708118713
    },
    {
        "content": "<p>I wonder if we would be able to generate a full definition with what we have. I have seen other implementations that use SOA and the service layer probably define the response in terms of objects and then that is translated into an endpoint</p>",
        "id": 421941612,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119116
    },
    {
        "content": "<p>By full definition do you mean the schema Jan wants? JSON in and JSON out?</p>",
        "id": 421941723,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708119161
    },
    {
        "content": "<p>Yes</p>",
        "id": 421941738,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119171
    },
    {
        "content": "<p>Because I think there is nothing that tells to anything that is scanning what can be our response it is just a \"response\"</p>",
        "id": 421941818,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119211
    },
    {
        "content": "<p>But if you have a service layer and that service layer returns a \"Dataverse\" object then that dataverse object can be interpreted and translated into a definition</p>",
        "id": 421941942,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119254
    },
    {
        "content": "<p>But yeah let's take a step at a time</p>",
        "id": 421942405,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119479
    },
    {
        "content": "<p>I think if we were using JAXB and JSONB it might work.</p>\n<ul>\n<li><a href=\"https://jakarta.ee/specifications/xml-binding/\">https://jakarta.ee/specifications/xml-binding/</a></li>\n<li><a href=\"https://jakarta.ee/specifications/jsonb/\">https://jakarta.ee/specifications/jsonb/</a></li>\n</ul>",
        "id": 421942557,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708119543
    },
    {
        "content": "<p>But I say we start a new topic for schema stuff when we're ready. Don't forget than Jan created a doc already: <a href=\"https://docs.google.com/document/d/15knNe6RoN3NdySqhqDAOZa9OdwuoNjuyFE4LZEjUKOE/edit?usp=sharing\">https://docs.google.com/document/d/15knNe6RoN3NdySqhqDAOZa9OdwuoNjuyFE4LZEjUKOE/edit?usp=sharing</a></p>",
        "id": 421942744,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708119635
    },
    {
        "content": "<p>I will keep this PR as Draft to keep it safe from Merging but as soon as Jenkins is done I will move it into ready for review and we wait to hear from <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> about what he thinks about the spec and then I will unlock it</p>",
        "id": 421942798,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119663
    },
    {
        "content": "<p>Probably it will still be on waiting for review when you come back <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 421942877,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119713
    },
    {
        "content": "<p>Jenkins has been a great guy today!</p>",
        "id": 421942973,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119746
    },
    {
        "content": "<p>Sounds good. Recently Jan figured out how to spin up branches on his laptop.</p>",
        "id": 421942993,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708119753
    },
    {
        "content": "<p>10 builds and he is not catching fire I am proud of our boy!</p>",
        "id": 421943004,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708119760
    },
    {
        "content": "<p>Me too. Good boy. Here's a treat.</p>",
        "id": 421943055,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1708119788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> just tested your PR and left a <a href=\"https://github.com/IQSS/dataverse/pull/10328#issuecomment-1949434744\">comment</a> :-)</p>",
        "id": 421949947,
        "sender_full_name": "Jan Range",
        "timestamp": 1708123206
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599841\">Jan Range</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/421949947\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> just tested your PR and left a <a href=\"https://github.com/IQSS/dataverse/pull/10328#issuecomment-1949434744\">comment</a> :-)</p>\n</blockquote>\n<p>Thank you so much for this Jan, if you have a chance could you please <br>\n<a href=\"/user_uploads/53090/Y-6p_L5NLZD2Dceay4B6fj9t/openapi.yaml\">openapi.yaml</a><br>\nrun the same test with this file and let me know what is the output?</p>",
        "id": 421959148,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708129341
    },
    {
        "content": "<p>Of course :-) This is the output I have gotten:</p>\n<p><a href=\"/user_uploads/53090/JAvhgKIUMSsPYTv1cyhaX3R2/error.log\">error.log</a></p>",
        "id": 421959616,
        "sender_full_name": "Jan Range",
        "timestamp": 1708129731
    },
    {
        "content": "<p>Thanks again, quick question. Was your post on <a href=\"https://github.com/IQSS/dataverse/pull/10328#issuecomment-1949434744\">https://github.com/IQSS/dataverse/pull/10328#issuecomment-1949434744</a> the full log?</p>",
        "id": 421959802,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708129867
    },
    {
        "content": "<p>Yes, I have posted the full log to the PR. The one you've sent seems to have a few more issues. Could it be that the build I have drawn it from is a different one?</p>",
        "id": 421960131,
        "sender_full_name": "Jan Range",
        "timestamp": 1708130127
    },
    {
        "content": "<p>The second file that also provide errors is the one generated from Payara and if the first one provide less errors i think that would be a win but I still have to talk to the team about it. At least re enabling the first one would be a first step solution</p>",
        "id": 421960157,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708130151
    },
    {
        "content": "<p>The maven plugin we are using to generate these files is this</p>",
        "id": 421960316,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708130258
    },
    {
        "content": "<p><a href=\"https://github.com/smallrye/smallrye-open-api/tree/main/tools/maven-plugin\">https://github.com/smallrye/smallrye-open-api/tree/main/tools/maven-plugin</a></p>",
        "id": 421960318,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708130259
    },
    {
        "content": "<p>But if we find a substitute to generate the files it would be good</p>",
        "id": 421960391,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708130287
    },
    {
        "content": "<p>I will keep playing and looking at the docs maybe there is anything that can be done</p>",
        "id": 421966127,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1708135794
    },
    {
        "content": "<p>Great! Definitely a win for the first one. I would try to manually fix the issues raised by the code generation for the first file and see if the result is working. Have a great weekend!</p>",
        "id": 422005987,
        "sender_full_name": "Jan Range",
        "timestamp": 1708171088
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> I cleaned up the current specs and generated a complete library and some nice-looking <a href=\"https://test-dv.readme.io/reference/\">docs</a>. The code works well except for the missing schemes. There are still some open points to fix. Shall I compile them and post them on this channel for discussion?</p>",
        "id": 425993428,
        "sender_full_name": "Jan Range",
        "timestamp": 1710184944
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599841\">Jan Range</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/425993428\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> I cleaned up the current specs and generated a complete library and some nice-looking <a href=\"https://test-dv.readme.io/reference/\">docs</a>. The code works well except for the missing schemes. There are still some open points to fix. Shall I compile them and post them on this channel for discussion?</p>\n</blockquote>\n<p>Sounds great <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span>, yeah if you compile them and then we/I can review what can we do to improve on these <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> Thanks a lot! that looks amazing btw <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 425994858,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710185500
    },
    {
        "content": "<p>Folks do you mind me chiming in and test some stuff?</p>",
        "id": 425995775,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710185840
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/425995775\">said</a>:</p>\n<blockquote>\n<p>Folks do you mind me chiming in and test some stuff?</p>\n</blockquote>\n<p>That would be great <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span></p>",
        "id": 425996044,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710185937
    },
    {
        "content": "<p>how dare you, Oliver</p>",
        "id": 425996167,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710185995
    },
    {
        "content": "<p>I think I already found a violation of the MP OA spec <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 425996343,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710186047
    },
    {
        "content": "<p>We're supposed to put it here at META-INF: <a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_static_openapi_files\">https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_static_openapi_files</a></p>",
        "id": 425996441,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710186090
    },
    {
        "content": "<p>OK I found some more basic problems...</p>",
        "id": 426009226,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710191440
    },
    {
        "content": "<p>Using <a href=\"https://quobix.com/vacuum\">https://quobix.com/vacuum</a> I saw some errors that will require code changes</p>",
        "id": 426009287,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710191477
    },
    {
        "content": "<p>At least if we want to stick with the smallrye plugin...</p>",
        "id": 426009327,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710191499
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/pull/10363\">https://github.com/IQSS/dataverse/pull/10363</a></p>",
        "id": 426014469,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710193780
    },
    {
        "content": "<p>A lot of the warning <a href=\"https://redocly.com/docs/cli/installation/\">https://redocly.com/docs/cli/installation/</a> and vacuum generate relate to us not using the proper annotations in our API classes... See <a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_annotations\">https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_annotations</a> for a list of those. Especially <code>@Tag</code> /  <code>@Tags</code> seems promising</p>",
        "id": 426014706,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710193902
    },
    {
        "content": "<p>The <code>tag</code> prop is very useful in grouping functionalities. Within the <a href=\"https://test-dv.readme.io/reference/\">docs</a>, I have added the first part after <code>api/v1</code> as a tag to achieve this. In addition, <code>operationId</code> is crucial for function names in a generated library and <code>summary</code> for the names displayed on the left navigation.</p>\n<p>If it helps, I have used GPT to generated both <code>operationId</code> and <code>summary</code> for test purposes. Maybe it can help as a starter.</p>\n<p><a href=\"/user_uploads/53090/5WrVQFzIR7TxXhyW85yMmFBr/oas_descriptions.yaml\">oas_descriptions.yaml</a></p>",
        "id": 426070675,
        "sender_full_name": "Jan Range",
        "timestamp": 1710230077
    },
    {
        "content": "<p>Generating the summaries sounds like a good idea!</p>",
        "id": 426072727,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710231028
    },
    {
        "content": "<p>Would it help to manage a yaml/json file that holds metadata for each endpoint? Could include the above, the <code>tag</code> and thorough examples/docs. In the code it could simply reference the part by key. In Python I'd image something like this:</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"n\">metadata</span> <span class=\"o\">=</span> <span class=\"n\">yaml</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"metadata.yaml\"</span><span class=\"p\">))</span>\n\n<span class=\"nd\">@OAIDescription</span><span class=\"p\">(</span>\n    <span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s2\">\"api/v1/info/version\"</span><span class=\"p\">,</span>\n    <span class=\"o\">**</span><span class=\"n\">metadata</span><span class=\"p\">[</span><span class=\"s2\">\"api/v1/info/version\"</span><span class=\"p\">],</span>\n<span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">version</span><span class=\"p\">():</span>\n    <span class=\"k\">pass</span>\n</code></pre></div>\n<p>I am not sure if this is possible within Java, but I think it could help manage everything, since there are a lot of endpoints. What are your throughts?</p>",
        "id": 426074065,
        "sender_full_name": "Jan Range",
        "timestamp": 1710231749
    },
    {
        "content": "<p>I will look at your comments later today guys! sorry I was working with <span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span>  on the demo instance <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 426096856,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710240208
    },
    {
        "content": "<p>I'm not sure where to go here.</p>",
        "id": 426105536,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710243447
    },
    {
        "content": "<p>Personally, I would love to see our great API docs from the guide included here</p>",
        "id": 426105591,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710243469
    },
    {
        "content": "<p>We have examples and descriptions, which is a great resource</p>",
        "id": 426105677,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710243486
    },
    {
        "content": "<p>I'm kind of wondering if it would be possible to make the description and examples a part of the spec and include that in a nice way within the Sphinx docs</p>",
        "id": 426105801,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710243538
    },
    {
        "content": "<p>Or, if that is not possible, it might make sense to migrate the API guide into something more standalone but integrated with the codebase generating the spec</p>",
        "id": 426105931,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710243590
    },
    {
        "content": "<p>There is <a href=\"https://sphinxcontrib-openapi.readthedocs.io/\">https://sphinxcontrib-openapi.readthedocs.io/</a> which might be valuable...</p>",
        "id": 426109012,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710244744
    },
    {
        "content": "<p>Is there something we can merge that adds value? Or do we need to figure out more stuff before we merge?</p>",
        "id": 426110209,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710245159
    },
    {
        "content": "<p>We definitely should straighten out the errors before merging</p>",
        "id": 426110322,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710245191
    },
    {
        "content": "<p>Having a valid spec is a minimum</p>",
        "id": 426110362,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710245209
    },
    {
        "content": "<p>Anything else is about making it nicer, fancier, more accessible, better integrated</p>",
        "id": 426110448,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710245239
    },
    {
        "content": "<p>Yes, definitely. This PR of yours: Suggested changes to OpenAPI PR <a href=\"https://github.com/IQSS/dataverse/issues/10363\">#10363</a></p>",
        "id": 426110454,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710245240
    },
    {
        "content": "<p>We probably should also do some experiments with using the generated file with the /openapi endpoint. Maybe also configure/disable scanning so we avoid the exceptions</p>",
        "id": 426110723,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710245336
    },
    {
        "content": "<p>So what I was thinking is that it would be a priority to restore the functionality as it was before since it was removed in 6.0 due to this Payara issue.</p>",
        "id": 426127790,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710250994
    },
    {
        "content": "<p>We can still check the old definition produced by Payara at <a href=\"https://dataverse.unc.edu/openapi\">https://dataverse.unc.edu/openapi</a> for example with <a href=\"https://quobix.com/vacuum/\">https://quobix.com/vacuum/</a> In my opinion it would be good to have an equivalent or similar as a \"starting point\".</p>",
        "id": 426127969,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710251049
    },
    {
        "content": "<p>Sadly Quiobix shows more errors with the one generated with the smallrye plugin than the one previously generated with Payara... and as <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> mentions part of this may be caused by the improper use of some annotations but I am not sure is feasible at this point to update all the endpoints on the API and go trough the testing with the coverage that we currently have, just as an example yesterday we noticed that an endpoint is broken on develop thanks that we were doing a test with dv-uploader but this is not caught by any of the integration tests</p>",
        "id": 426128218,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710251131
    },
    {
        "content": "<p>So probably what I think is that find a replacement that is good enough for 6.2 and probably we can work on an improved version for a future 6.x version depending on checking the impact but I would love to hear your opinions</p>",
        "id": 426128690,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710251271
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> do you think we should merge the PR from <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span>, once it's out of draft? Suggested changes to OpenAPI PR <a href=\"https://github.com/IQSS/dataverse/issues/10363\">#10363</a></p>",
        "id": 426130284,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710251708
    },
    {
        "content": "<p>I am looking at it rn <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 426130332,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710251724
    },
    {
        "content": "<p>So in it's current shape is not working for me <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 426132101,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710252230
    },
    {
        "content": "<p>A couple of things, if this works we/I would need to additionally remove the created endpoints (?)</p>",
        "id": 426132166,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710252244
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> what means \"is not working for me\"?</p>",
        "id": 426132379,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710252305
    },
    {
        "content": "<p>Also with this change, the OpenAPI definition should be reachable with /openapi  ? and if that is the case do we need to do something on Payara since it takes over this URL</p>",
        "id": 426132404,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710252312
    },
    {
        "content": "<p>Happy to light the fire in a Zoom room</p>",
        "id": 426132436,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710252319
    },
    {
        "content": "<p>Sounds like a great idea <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 426132525,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710252343
    },
    {
        "content": "<p><a href=\"https://fz-juelich-de.zoom.us/j/69913636453?pwd=clE3SEFzeGd5MzdEbFZGUVFqNGJHQT09\">https://fz-juelich-de.zoom.us/j/69913636453?pwd=clE3SEFzeGd5MzdEbFZGUVFqNGJHQT09</a></p>",
        "id": 426132757,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710252400
    },
    {
        "content": "<p>One issue we found in my PR: the order of schema gen and war packaging needs to be reversed. Probably will only need moving the plugin before the WAR plugin.</p>",
        "id": 426144703,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710255454
    },
    {
        "content": "<p>(Otherwise the files are not copied into the WAR)</p>",
        "id": 426144755,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710255469
    },
    {
        "content": "<p>Also: although we told Payara not to scan, it still looked at the code... <span aria-label=\"rolling eyes\" class=\"emoji emoji-1f644\" role=\"img\" title=\"rolling eyes\">:rolling_eyes:</span></p>",
        "id": 426144880,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710255493
    },
    {
        "content": "<p>Sounds like a productive meeting.</p>",
        "id": 426144892,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710255499
    },
    {
        "content": "<p>We also spoke about generating the \"response\" part for the spec by using the <code>@APIResponse</code> annotations. Will require  busy work, but might be worth it!</p>",
        "id": 426146271,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710255811
    },
    {
        "content": "<p>I suggest we disable Payara's OpenAPI module completely via <a href=\"https://docs.payara.fish/community/docs/6.2023.8/Technical%20Documentation/MicroProfile/OpenAPI.html#openApi-configuration\">https://docs.payara.fish/community/docs/6.2023.8/Technical%20Documentation/MicroProfile/OpenAPI.html#openApi-configuration</a> and add our own endpoint /openapi to return the generated file from the application.</p>",
        "id": 426152590,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710257314
    },
    {
        "content": "<p>It doesn't look like we can make Payara properly not scan the code, so we will always run into problems.</p>",
        "id": 426152694,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710257343
    },
    {
        "content": "<p>I am going to bring part of this conversation on slack just to bring awareness about the @APIResponse annotation and probably talk about it during tech hours</p>",
        "id": 426156268,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710258224
    },
    {
        "content": "<p>There is one other thing we should try: put the YML/JSON in the <code>META-INF</code> at the root of the WAR. It might be the wrong place where we put it now... (Classpath META-INF folder)</p>",
        "id": 426197134,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710271247
    },
    {
        "content": "<p>Let me know if I can test something with the code gen and doc tools <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 426204682,
        "sender_full_name": "Jan Range",
        "timestamp": 1710274412
    },
    {
        "content": "<p>I will check adding the API guides to the spec to see how they look in the docs I have posted</p>",
        "id": 426205102,
        "sender_full_name": "Jan Range",
        "timestamp": 1710274571
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> did you notice <a href=\"https://test-dv.readme.io/reference\">https://test-dv.readme.io/reference</a> that Jan posted above?</p>",
        "id": 426206247,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710275059
    },
    {
        "content": "<p>Nope, I didn't!</p>",
        "id": 426206349,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710275108
    },
    {
        "content": "<p>pretty fancy <span aria-label=\"monocle\" class=\"emoji emoji-1f9d0\" role=\"img\" title=\"monocle\">:monocle:</span></p>",
        "id": 426206402,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710275126
    },
    {
        "content": "<p>same thing DataCite uses: <a href=\"https://support.datacite.org/reference\">https://support.datacite.org/reference</a></p>",
        "id": 426206459,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710275154
    },
    {
        "content": "<p>So we could probably ask <span class=\"user-mention\" data-user-id=\"602647\">@Kelly Stathis</span> about it. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 426206597,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710275197
    },
    {
        "content": "<p>Definitely one of the reasons why I was suggesting we could migrate the API guide into the code, so it ends up in fancy things like this</p>",
        "id": 426206612,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710275203
    },
    {
        "content": "<p>It might be a good idea to also try and split the API docs some into a part about dealing with entities and a part about RPC</p>",
        "id": 426206916,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710275311
    },
    {
        "content": "<p>I have found out that open source projects can apply for a free premium account, which allows them to add more detailed text documentation and recipes. I believe that adding recipes could be particularly useful for certain sections of the current API Guide.</p>",
        "id": 426207592,
        "sender_full_name": "Jan Range",
        "timestamp": 1710275590
    },
    {
        "content": "<p>Yep we use ReadMe over at DataCite, happy to answer any questions about the functionality! for what it's worth, I think we are on a paid plan but it might be an older /legacy tier.</p>",
        "id": 426396895,
        "sender_full_name": "Kelly Stathis",
        "timestamp": 1710352317
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> Did you made a PR for your changes from <a href=\"https://github.com/poikilotherm/dataverse/tree/openapi-definition-endpoint\">https://github.com/poikilotherm/dataverse/tree/openapi-definition-endpoint</a> ? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 426400011,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710353406
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"602647\">@Kelly Stathis</span> interesting, thanks!</p>",
        "id": 426401949,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710354116
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> do you remember what the three things are you wanted? I know it'll be in the recording at <a href=\"https://py.gdcc.io\">https://py.gdcc.io</a> <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 426402060,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710354155
    },
    {
        "content": "<p>Oh yes! It is <a href=\"https://github.com/IQSS/dataverse/pull/10363\">https://github.com/IQSS/dataverse/pull/10363</a> but still on Draft, I would love to add these changes to the configuration and the location of the file and make the changes required on the current endpoints, also I spoke with <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span>  and we are marking this as a flag feature and adding to the patch notes that this may change in the future.</p>",
        "id": 426402142,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710354187
    },
    {
        "content": "<p>-Multipart request body, tags and operation ids per what I see on the recording</p>",
        "id": 426404323,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710355016
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 426404404,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710355054
    },
    {
        "content": "<p>I am not sure how all of these translate to changes to the code and also if it is feasible to add it on time for 6.2</p>",
        "id": 426404537,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710355096
    },
    {
        "content": "<p>Including testing and QA</p>",
        "id": 426404558,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710355107
    },
    {
        "content": "<p>Let's add the changes from Oliver's PR and then we can see what are the implications of adding these requests</p>",
        "id": 426404749,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710355183
    },
    {
        "content": "<p>But I would say at this status that is functional and with the changes from oliver it would be nice to merge for 6.2 and then add the others in another PR for 6.X</p>",
        "id": 426404914,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710355230
    },
    {
        "content": "<p>For context, we have sprint kickoff tomorrow and this is the last sprint for 6.2</p>",
        "id": 426405343,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710355405
    },
    {
        "content": "<p>Maybe we don't need it for 6.2. Maybe 6.3 is ok. I believe <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> is the only one using it. And he can use Docker images locally for now, probably.</p>",
        "id": 426407064,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710356101
    },
    {
        "content": "<p>If we don't need it for 6.2 that is also fine</p>",
        "id": 426407635,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710356335
    },
    {
        "content": "<p>Still would have to check the implications of these changes because if the multipart or the annotations require updating or changing more than 1 endpoint <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> I would dive today a bit on the documentation and see</p>",
        "id": 426407811,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710356397
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/426402060\">schrieb</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"599841\">Jan Range</span> do you remember what the three things are you wanted? I know it'll be in the recording at <a href=\"https://py.gdcc.io\">https://py.gdcc.io</a> <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>\n</blockquote>\n<p>Sorry for the delay <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> - It was the request body multiparts (i.e. replacing a file), the missing operation IDs and the base server with variables:</p>\n<p><strong>Endpoints with multipart body</strong></p>\n<ul>\n<li><code>/api/v1/access/datafile/{fileId}/auxiliary/{formatTag}/{formatVersion}</code> POST</li>\n<li><code>/api/v1/datasets/{id}/add</code> POST</li>\n<li><code>/api/v1/datasets/{id}/addFiles</code> POST</li>\n<li><code>/api/v1/datasets/{id}/addGlobusFiles</code> POST</li>\n<li><code>/api/v1/datasets/{id}/replaceFiles</code> POST</li>\n<li><code>/api/v1/datasets/{id}/thumbnail</code> POST</li>\n<li><code>/api/v1/files/{id}/replace</code> POST</li>\n</ul>\n<p>Currently only available as </p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">requestBody</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">content</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">multipart/form-data</span><span class=\"p\">:</span>\n<span class=\"w\">            </span><span class=\"nt\">schema</span><span class=\"p\">:</span>\n<span class=\"w\">              </span><span class=\"nt\">type</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">str</span>\n</code></pre></div>\n<p>Should look like this</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">requestBody</span><span class=\"p\">:</span>\n<span class=\"w\">        </span><span class=\"nt\">content</span><span class=\"p\">:</span>\n<span class=\"w\">          </span><span class=\"nt\">multipart/form-data</span><span class=\"p\">:</span>\n<span class=\"w\">            </span><span class=\"nt\">schema</span><span class=\"p\">:</span>\n<span class=\"w\">              </span><span class=\"nt\">type</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">object</span>\n<span class=\"w\">              </span><span class=\"nt\">properties</span><span class=\"p\">:</span>\n<span class=\"w\">                </span><span class=\"nt\">jsonData</span><span class=\"p\">:</span>\n<span class=\"w\">                 </span><span class=\"nt\">$ref</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s\">'#/components/schemas/ReplaceFileRequest'</span>\n<span class=\"w\">                </span><span class=\"nt\">file</span><span class=\"p\">:</span>\n<span class=\"w\">                 </span><span class=\"nt\">type</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">string</span>\n<span class=\"w\">                 </span><span class=\"nt\">format</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">binary</span>\n</code></pre></div>\n<p><strong>Duplicate endpoints</strong></p>\n<ul>\n<li><code>/api/v1/admin/groups/ip/{groupIdtf}</code> and <code>/api/v1/admin/groups/ip/{groupName}</code></li>\n<li><code>/admin/workflows/{identifier}</code> and <code>/admin/workflows/{id}</code></li>\n</ul>",
        "id": 426481105,
        "sender_full_name": "Jan Range",
        "timestamp": 1710400092
    },
    {
        "content": "<p>Note there is a second duplicate endpoint as seen in the vacuum output <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span>: <code>/admin/workflows/{identifier}</code> and <code>/admin/workflows/{id}</code></p>",
        "id": 426482913,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710401124
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> I am may not be awake enough yet :-D</p>\n<p><a href=\"/user_uploads/53090/UrOe2-qRCpfPLWN3IYv74ixo/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/UrOe2-qRCpfPLWN3IYv74ixo/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/UrOe2-qRCpfPLWN3IYv74ixo/image.png\"></a></div>",
        "id": 426483035,
        "sender_full_name": "Jan Range",
        "timestamp": 1710401189
    },
    {
        "content": "<p>Interesting how vacuum and redocly see the request body schemas not as errors</p>",
        "id": 426483190,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710401282
    },
    {
        "content": "<p>The validator I have used is from the code gen framework and I guess from a code gen perspective this is an error.</p>",
        "id": 426483398,
        "sender_full_name": "Jan Range",
        "timestamp": 1710401374
    },
    {
        "content": "<p>I see <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 426483794,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710401497
    },
    {
        "content": "<p>For the endpoints you mentioned, we probably will need to add <code>@RequestBody</code> annotations. See examples at <a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_requestbody\">https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_requestbody</a> (It might be enough to use the shorthand <code>@RequestBodySchema</code>, depending on complexity involved)</p>",
        "id": 426484108,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710401690
    },
    {
        "content": "<p>I'd still suggest we concentrate on making the spec available again, fixing the most crucial things first and maybe add CI actions to ensure it doesn't get broken by accident again. Fixing the response and request body things might be a good thing for a new issue / PR.</p>",
        "id": 426484479,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710401890
    },
    {
        "content": "<p>The larger we make the scope for the initial PR, the harder it is to get in, especially if we want it in for 6.2</p>",
        "id": 426484523,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1710401919
    },
    {
        "content": "<p>6.2 could be as soon as two weeks: <a href=\"https://groups.google.com/g/dataverse-community/c/JrlK_nkowz4/m/SgMOHLCqCgAJ\">https://groups.google.com/g/dataverse-community/c/JrlK_nkowz4/m/SgMOHLCqCgAJ</a></p>",
        "id": 426517700,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710414468
    },
    {
        "content": "<p>Late March or early April</p>",
        "id": 426517743,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710414481
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> do you want this in 6.2? You're the main user, from what I can tell. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 426520527,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710415589
    },
    {
        "content": "<p>I think having a minimal working version in 6.2 would be beneficial if we want to use it for pyDataverse and the docs. I agree with <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> about making them available and fixing the urgent things mentioned above. Maybe even leave out the multipart stuff for 6.2 as this is something that can be easily fixed manually.</p>",
        "id": 426527103,
        "sender_full_name": "Jan Range",
        "timestamp": 1710417999
    },
    {
        "content": "<p>I am happy to help with adding the <code>operationId</code>s and tags to the Java code.</p>",
        "id": 426527314,
        "sender_full_name": "Jan Range",
        "timestamp": 1710418076
    },
    {
        "content": "<p>One thought is that as soon as we merge it, it will be available at <a href=\"https://beta.dataverse.org\">https://beta.dataverse.org</a></p>",
        "id": 426528815,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710418644
    },
    {
        "content": "<p>I think it's better than the current broken <code>/openapi</code> endpoint. We could add a notification in the doc that it is alpha at the moment.</p>",
        "id": 426532767,
        "sender_full_name": "Jan Range",
        "timestamp": 1710420175
    },
    {
        "content": "<p>Sorry, which doc? The API Guide?</p>",
        "id": 426538648,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710422094
    },
    {
        "content": "<p>Sorry I've meant the OpenAPI doc/specs</p>",
        "id": 426540807,
        "sender_full_name": "Jan Range",
        "timestamp": 1710422757
    },
    {
        "content": "<p>Ah, right in the YAML. Gotcha.</p>",
        "id": 426541283,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1710422888
    },
    {
        "content": "<p>Are you planning to add something at this point to your PR <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ? <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 426556328,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1710427102
    },
    {
        "content": "<p>So I was just finally able to update the branch and make it work with the WEB-INF change</p>",
        "id": 428400297,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137141
    },
    {
        "content": "<p>Now, for the duplicated endpoints this are the declarations</p>",
        "id": 428400348,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137170
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>@GET\n    @Path(&quot;ip/{groupIdtf}&quot;)\n    public Response getIpGroup( @PathParam(&quot;groupIdtf&quot;) String groupIdtf ) {\n</code></pre></div>\n<p>and</p>\n<div class=\"codehilite\"><pre><span></span><code>/**\n     * Creates or updates the {@link IpGroup} named {@code groupName}.\n     * @param groupName Name of the group.\n     * @param dto data of the group.\n     * @return Response describing the created group or the error that prevented\n     *         that group from being created.\n     */\n    @PUT\n    @Path(&quot;ip/{groupName}&quot;)\n</code></pre></div>",
        "id": 428400481,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137229
    },
    {
        "content": "<p>Sounds like good progress.</p>",
        "id": 428400718,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137335
    },
    {
        "content": "<p><span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 428400837,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137382
    },
    {
        "content": "<p>But how can we fix this or is this really an issue, probably the other endpoint that is duplicated may be the same case</p>",
        "id": 428400899,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137409
    },
    {
        "content": "<p>Can we remove duplicates in a future PR?</p>",
        "id": 428400963,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137444
    },
    {
        "content": "<p>Sure! but this will result in at least 2 breaking changes AND us making a decision of 1) a new name for the renamed endpoint and B) what would keep the original name</p>",
        "id": 428401240,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137586
    },
    {
        "content": "<p>Another solution could be breaking both so people don't make a mistake thinking it is the same one for a reason</p>",
        "id": 428401321,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137607
    },
    {
        "content": "<p>Probably will bring this up on dv-tech so everyone is more aware of this naming when creating APIs</p>",
        "id": 428401381,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137634
    },
    {
        "content": "<p>yeah</p>",
        "id": 428401429,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137656
    },
    {
        "content": "<p>sounds like a new topic</p>",
        "id": 428401449,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137663
    },
    {
        "content": "<p>out of scope for the current PR</p>",
        "id": 428401466,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137670
    },
    {
        "content": "<p>Should I move it to ready for review? <span aria-label=\"angel\" class=\"emoji emoji-1f47c\" role=\"img\" title=\"angel\">:angel:</span></p>",
        "id": 428401503,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137699
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 428401532,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137711
    },
    {
        "content": "<p>Sure, unless there's more on your list.</p>",
        "id": 428401548,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137721
    },
    {
        "content": "<p>For now, I think that would be enough, re-establish the spec and also be compliant with the standard. We want to fix these issues for sure but I do agree on adding them as issues and then leaving it prioritization</p>",
        "id": 428401751,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137810
    },
    {
        "content": "<p>go for it</p>",
        "id": 428401872,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711137865
    },
    {
        "content": "<p>Also another issue could be a spike to check the annotations for the response</p>",
        "id": 428401874,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711137867
    },
    {
        "content": "<p>What are the method signatures</p>",
        "id": 428408617,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141154
    },
    {
        "content": "<p>Wait I think the solution to this is very easy</p>",
        "id": 428409431,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141553
    },
    {
        "content": "<p>You just need to make the two path params be of the same name</p>",
        "id": 428409497,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141581
    },
    {
        "content": "<p>The OpenAPI spec always uses the path as a toplevel key</p>",
        "id": 428409527,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141609
    },
    {
        "content": "<p>For each of those you can have different method objects (Get, put, post,...)</p>",
        "id": 428409583,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141641
    },
    {
        "content": "<p>We are having two equivalent path for the two different methods get and put</p>",
        "id": 428409635,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141675
    },
    {
        "content": "<p>So you just need to make these names match</p>",
        "id": 428409667,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141684
    },
    {
        "content": "<p>Oh I can test/try that</p>",
        "id": 428409994,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711141868
    },
    {
        "content": "<p>There is a nice example in the pet store example <a href=\"https://editor.swagger.io/\">https://editor.swagger.io/</a></p>",
        "id": 428410038,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141905
    },
    {
        "content": "<p>For /pet/{petId}</p>",
        "id": 428410098,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141925
    },
    {
        "content": "<p>It's immediately clear why the linter says we're doing it wrong</p>",
        "id": 428410146,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711141954
    },
    {
        "content": "<p>Yeah <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> that definitely works</p>",
        "id": 428410653,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142254
    },
    {
        "content": "<p>I will add that to the PR</p>",
        "id": 428410682,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142274
    },
    {
        "content": "<p>The fixes for the few duplicate operation ids should be very easy as well - just change the method signature, done. This is no breaking change.</p>",
        "id": 428410833,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711142341
    },
    {
        "content": "<p>Well this was solved with the solution you pointed to us earlier</p>",
        "id": 428411562,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142695
    },
    {
        "content": "<p>With that all the errors left are <br>\n<a href=\"/user_uploads/53090/IGwuX9MOKW9cJDdIxIESyVSm/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/IGwuX9MOKW9cJDdIxIESyVSm/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/IGwuX9MOKW9cJDdIxIESyVSm/image.png\"></a></div>",
        "id": 428411629,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142725
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/8vl52RmOKGpUi5njfpLLZ7P_/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/8vl52RmOKGpUi5njfpLLZ7P_/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/8vl52RmOKGpUi5njfpLLZ7P_/image.png\"></a></div>",
        "id": 428411658,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142739
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/428411562\">said</a>:</p>\n<blockquote>\n<p>Well this was solved with the solution you pointed to us earlier</p>\n</blockquote>\n<p>I don't follow...?</p>",
        "id": 428411794,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711142797
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/CEE8qzD7dgOOwCCYsYVvCgOB/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/CEE8qzD7dgOOwCCYsYVvCgOB/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/CEE8qzD7dgOOwCCYsYVvCgOB/image.png\"></a></div>",
        "id": 428411901,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142858
    },
    {
        "content": "<p>I meant that the change of the Java method signatures would solve the duplicated operation ids.</p>",
        "id": 428411907,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711142860
    },
    {
        "content": "<p>this error</p>",
        "id": 428411914,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142861
    },
    {
        "content": "<p>Yeah, that's the matching path params thing</p>",
        "id": 428412038,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711142915
    },
    {
        "content": "<p>Let me look at the other one</p>",
        "id": 428412070,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711142936
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/428411629\">said</a>:</p>\n<blockquote>\n<p>With that all the errors left are <br>\n<a href=\"/user_uploads/53090/IGwuX9MOKW9cJDdIxIESyVSm/image.png\">image.png</a></p>\n</blockquote>\n<p>I was talking about those errors</p>",
        "id": 428412091,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711142945
    },
    {
        "content": "<p>The operation Ids are generated from the method names. I bet my as some method names are the same, but they are not the same to Java because the signature is different</p>",
        "id": 428412184,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711142998
    },
    {
        "content": "<p>Oh gotcha</p>",
        "id": 428412769,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143307
    },
    {
        "content": "<p>Testing that 1 sec</p>",
        "id": 428412824,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143350
    },
    {
        "content": "<p>That also works <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 428412975,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143429
    },
    {
        "content": "<p>Woohoo</p>",
        "id": 428413176,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711143533
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/qqVULe0Omy8GPvRisAl1lSbe/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/qqVULe0Omy8GPvRisAl1lSbe/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/qqVULe0Omy8GPvRisAl1lSbe/image.png\"></a></div>",
        "id": 428413626,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143822
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/O4aKLk34txtNn7p-AyBhItYa/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/O4aKLk34txtNn7p-AyBhItYa/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/O4aKLk34txtNn7p-AyBhItYa/image.png\"></a></div>",
        "id": 428413660,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143842
    },
    {
        "content": "<p>up to 25%</p>",
        "id": 428413694,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143848
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 428413697,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143853
    },
    {
        "content": "<p><span aria-label=\"partying face\" class=\"emoji emoji-1f973\" role=\"img\" title=\"partying face\">:partying_face:</span><span aria-label=\"partying face\" class=\"emoji emoji-1f973\" role=\"img\" title=\"partying face\">:partying_face:</span><span aria-label=\"partying face\" class=\"emoji emoji-1f973\" role=\"img\" title=\"partying face\">:partying_face:</span><span aria-label=\"partying face\" class=\"emoji emoji-1f973\" role=\"img\" title=\"partying face\">:partying_face:</span></p>",
        "id": 428413720,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711143864
    },
    {
        "content": "<p>From 10 <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 428413735,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143874
    },
    {
        "content": "<p>Not bad!</p>",
        "id": 428413753,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711143884
    },
    {
        "content": "<p>Bad errors fixed</p>",
        "id": 428413759,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711143890
    },
    {
        "content": "<p>Great work and great start</p>",
        "id": 428413776,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711143900
    },
    {
        "content": "<p>I bet the responses and request bodies will be a lot thougher</p>",
        "id": 428413833,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711143933
    },
    {
        "content": "<p>Now I am praying Mr. Jenkins passes all the tests</p>",
        "id": 428413853,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143948
    },
    {
        "content": "<p>lol</p>",
        "id": 428413858,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143950
    },
    {
        "content": "<p>Yeah the response will be a lot of work</p>",
        "id": 428413891,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711143964
    },
    {
        "content": "<p>Changes are up if anyone wants to look at them</p>",
        "id": 428413976,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144008
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/pull/10328\">https://github.com/IQSS/dataverse/pull/10328</a></p>",
        "id": 428413978,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144010
    },
    {
        "content": "<p>Or here is the spec</p>",
        "id": 428413984,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144014
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/pnsqR99LR78AABsBS0or63u4/openapi.yaml\">openapi.yaml</a></p>",
        "id": 428414018,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144032
    },
    {
        "content": "<p>Do we want to disable the /openapi endpoint?</p>",
        "id": 428414045,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711144047
    },
    {
        "content": "<p>I think if there is a way we could think about it</p>",
        "id": 428414136,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144085
    },
    {
        "content": "<p>I see pros and cons</p>",
        "id": 428414156,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144093
    },
    {
        "content": "<p>what If we do it as a change on the code that is part of the repo and ppl update their installation and this get fixed at some point</p>",
        "id": 428414192,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144124
    },
    {
        "content": "<p>Disabling is easy: <a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/OpenAPI.html#set-openapi-configuration\">https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/OpenAPI.html#set-openapi-configuration</a></p>",
        "id": 428414317,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711144201
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/428414018\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/53090/pnsqR99LR78AABsBS0or63u4/openapi.yaml\">openapi.yaml</a></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> new version just baked for you sir <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 428414320,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144202
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/_CzXsvPi6swTOWFw9Kp88HwA/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/_CzXsvPi6swTOWFw9Kp88HwA/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/_CzXsvPi6swTOWFw9Kp88HwA/image.png\"></a></div>",
        "id": 428414848,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144464
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 428414862,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711144474
    },
    {
        "content": "<p>I disabled it from both server and default config and still get the same results</p>",
        "id": 428415777,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145022
    },
    {
        "content": "<p>Did you restart?</p>",
        "id": 428415866,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145070
    },
    {
        "content": "<p>Might be cached</p>",
        "id": 428415882,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145081
    },
    {
        "content": "<p>I did when I changed the default but i am restarting again</p>",
        "id": 428415892,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145091
    },
    {
        "content": "<p>after changing the server</p>",
        "id": 428415900,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145098
    },
    {
        "content": "<p>Same</p>",
        "id": 428415938,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145131
    },
    {
        "content": "<p>Hmm ok</p>",
        "id": 428415947,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145141
    },
    {
        "content": "<p>Bummer</p>",
        "id": 428415953,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145145
    },
    {
        "content": "<p>Huh, the setting was re-enabled when I restarted the container</p>",
        "id": 428416140,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145275
    },
    {
        "content": "<p>Ok so here is the deal</p>",
        "id": 428416240,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145323
    },
    {
        "content": "<p>It works if I restart the container</p>",
        "id": 428416257,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145340
    },
    {
        "content": "<p>but if I do a mvn docker:run</p>",
        "id": 428416278,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145354
    },
    {
        "content": "<p>it re-enable the setting</p>",
        "id": 428416293,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145364
    },
    {
        "content": "<p>The setting will not be permanently saved</p>",
        "id": 428416328,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145391
    },
    {
        "content": "<p>You will need to add it to the bootscript</p>",
        "id": 428416397,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145418
    },
    {
        "content": "<p>So it gets set when you boot</p>",
        "id": 428416415,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145431
    },
    {
        "content": "<p>How would regular installations would handle it</p>",
        "id": 428416460,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145468
    },
    {
        "content": "<p>would we need to generate a script of some sort?</p>",
        "id": 428416470,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145482
    },
    {
        "content": "<p>Just set the setting</p>",
        "id": 428416475,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145485
    },
    {
        "content": "<p>The domain is persisted on a classic install</p>",
        "id": 428416495,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145505
    },
    {
        "content": "<p>Now we could even add the endpoint on the regular /openapi <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 428416556,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145529
    },
    {
        "content": "<p>But I just think than can cause issues</p>",
        "id": 428416583,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145555
    },
    {
        "content": "<p>I'm wondering if we could make it an option...</p>",
        "id": 428416756,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145669
    },
    {
        "content": "<p>Maybe <span aria-label=\"man shrugging\" class=\"emoji emoji-1f937-200d-2642\" role=\"img\" title=\"man shrugging\">:man_shrugging:</span> <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 428416822,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145729
    },
    {
        "content": "<p>Anyway, Jenkins is running the tests but I think everything should be alright</p>",
        "id": 428416865,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145758
    },
    {
        "content": "<p>I am going to log out, thanks again Oliver <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 428416943,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145787
    },
    {
        "content": "<p>Great. Have a good weekend</p>",
        "id": 428417018,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711145856
    },
    {
        "content": "<p>You too!</p>",
        "id": 428417112,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711145900
    },
    {
        "content": "<p>Here's an idea we could try: we need a new Application anyway because of the path. <a href=\"https://jakarta.ee/specifications/restful-ws/3.1/apidocs/jakarta.ws.rs/jakarta/ws/rs/core/application\">https://jakarta.ee/specifications/restful-ws/3.1/apidocs/jakarta.ws.rs/jakarta/ws/rs/core/application</a></p>\n<p>The getClasses() thing could add the openapi endpoint when a feature flag is enabled.</p>",
        "id": 429061665,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711182134
    },
    {
        "content": "<p>We obviously may not put it in dataverse.api, so it won't be picked up by the regular API</p>",
        "id": 429061788,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711182253
    },
    {
        "content": "<p>Although I'm not sure what would happen if we add the same class containing the path to both apps <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 429061831,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711182305
    },
    {
        "content": "<p>What dependencies we need to add for these annotations for the response? I was trying with:</p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.openapi&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-openapi-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre></div>\n<p>But it seems that it can't resolve the dependencies, not sure if I am missing something <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 429133545,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711242458
    },
    {
        "content": "<p>Duhhh, it works I just needed to reload the project on IJ</p>",
        "id": 429134799,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711243452
    },
    {
        "content": "<p>So I made an example using these annotations on one of our simpler endpoints, the version one</p>",
        "id": 429137711,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711245605
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>@GET\n    @Path(&quot;version&quot;)\n    @Operation(summary = &quot;Get version and build information&quot;, description = &quot;Get version and build information&quot;)\n    @APIResponse(responseCode = &quot;200&quot;,\n                 description = &quot;Version and build information&quot;)\n    @Tag(name = &quot;version&quot;, description = &quot;Version and build information&quot;)\n    public Response getInfo() {\n        String versionStr = systemConfig.getVersion(true);\n        String[] comps = versionStr.split(&quot;build&quot;,2);\n        String version = comps[0].trim();\n        JsonValue build = comps.length &gt; 1 ? Json.createArrayBuilder().add(comps[1].trim()).build().get(0) : JsonValue.NULL;\n        return ok(Json.createObjectBuilder()\n                .add(&quot;version&quot;, version)\n                .add(&quot;build&quot;, build));\n    }\n</code></pre></div>",
        "id": 429137916,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711245747
    },
    {
        "content": "<p>And just with that it shaved 34 warnings <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 429137989,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711245790
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/BX0ErR81FUMFcRb0CfW7yW34/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/BX0ErR81FUMFcRb0CfW7yW34/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/BX0ErR81FUMFcRb0CfW7yW34/image.png\"></a></div>",
        "id": 429137996,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711245797
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/cZgQV0HlOUXSDQLf2Ndk-w2j/openapi.json\">openapi.json</a></p>",
        "id": 429138086,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711245823
    },
    {
        "content": "<p>I'm kind of wondering if we should give <a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_oasmodelreader\">https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_oasmodelreader</a> a try. And if it doesn't work, we open an issue at Payara's</p>",
        "id": 429173853,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711270507
    },
    {
        "content": "<p>I can't help it: I think we need to get rid of the JsonPrinter/JsonReader classes, as described in <a href=\"https://github.com/IQSS/dataverse/issues/6810\">#6810</a>. It would make it a great deal easier to define the bodies. In addition: not just for us, but also for the sake of the SDK/SPI package, we should have proper DTO objects and schemas for them...</p>",
        "id": 429175334,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711271367
    },
    {
        "content": "<p>That sounds like a bigger overhaul <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 429226354,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711298986
    },
    {
        "content": "<p>The documentation of the endpoints with the request still requires some work but won't break anything <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> (Hopefully)</p>",
        "id": 429226491,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711299100
    },
    {
        "content": "<p>But yeah it would be nice one day to put that into practice</p>",
        "id": 429226504,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711299116
    },
    {
        "content": "<p>Yeah, I just asked about that bigger overhaul at <a href=\"https://github.com/IQSS/dataverse/issues/6810#issuecomment-2018652136\">https://github.com/IQSS/dataverse/issues/6810#issuecomment-2018652136</a></p>",
        "id": 429484673,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711391605
    },
    {
        "content": "<p>I made this test with the multipart <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> <br>\n<a href=\"/user_uploads/53090/6oFR0XkUb_mNxx35rpyBzQln/openapi.yaml\">openapi.yaml</a></p>",
        "id": 429760627,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711499116
    },
    {
        "content": "<p>The related commit: <a href=\"https://github.com/IQSS/dataverse/pull/10328/commits/fdb85c667fb1df46aee43214ec3dbdfcca86c9d3\">https://github.com/IQSS/dataverse/pull/10328/commits/fdb85c667fb1df46aee43214ec3dbdfcca86c9d3</a></p>",
        "id": 429827370,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711535246
    },
    {
        "content": "<p>Awesome, so it's just annotations.</p>",
        "id": 429827392,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1711535254
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> thanks for sending! I am currently sick and will check it asap once recovered <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 429852395,
        "sender_full_name": "Jan Range",
        "timestamp": 1711543998
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599841\">Jan Range</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/429852395\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> thanks for sending! I am currently sick and will check it asap once recovered <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>\n</blockquote>\n<p>Sounds amazing! Thanks <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> I hope you feel better soon! Is the PyDv meeting still happening today or it will be rescheduled? <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span></p>",
        "id": 429853493,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711544372
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> :-) I will open the room, but I do not have much to present due to being sick this week.</p>",
        "id": 429855947,
        "sender_full_name": "Jan Range",
        "timestamp": 1711545163
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>/info/version:\n    get:\n      tags:\n      - version\n      summary: Get version and build information\n      description: Get version and build information\n      operationId: Info_getInfo\n      responses:\n        &quot;200&quot;:\n          description: Version and build information\n</code></pre></div>\n<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span>  Sorry it was  info/version <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 429884656,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711552626
    },
    {
        "content": "<p>But that is an example of the tags but this will require individual addition of the tags to each method</p>",
        "id": 429884728,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711552651
    },
    {
        "content": "<p>This would be another example fully documented which includes the multipart</p>",
        "id": 429884911,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711552699
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>/access/datafile/{fileId}/auxiliary/{formatTag}/{formatVersion}:\n    get:\n      operationId: Access_downloadAuxiliaryFile\n      parameters:\n      - name: fileId\n        in: path\n        required: true\n        schema:\n          type: string\n      - name: formatTag\n        in: path\n        required: true\n        schema:\n          type: string\n      - name: formatVersion\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        &quot;200&quot;:\n          description: OK\n          content:\n            &#39;*/*&#39;:\n              schema:\n                $ref: &#39;#/components/schemas/DownloadInstance&#39;\n    post:\n      tags:\n      - saveAuxiliaryFileWithVersion\n      summary: Save auxiliary file with version\n      description: Saves an auxlirary file\n      operationId: Access_saveAuxiliaryFileWithVersion\n      parameters:\n      - name: fileId\n        in: path\n        required: true\n        schema:\n          format: int64\n          type: integer\n      - name: formatTag\n        in: path\n        required: true\n        schema:\n          type: string\n      - name: formatVersion\n        in: path\n        required: true\n        schema:\n          type: string\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n      responses:\n        &quot;200&quot;:\n          description: File saved response\n        &quot;403&quot;:\n          description: User not authorized to edit the dataset.\n        &quot;400&quot;:\n          description: File not found based on id.\n</code></pre></div>",
        "id": 429884934,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711552705
    },
    {
        "content": "<p>At least the POST part is fully documented</p>",
        "id": 429886308,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1711553091
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> hope you've had a great easter! Looks great, will put the yaml you supplied recently into the code generation. Regarding the tags, these will end up as modules within the software. For instance, when the tag <code>version</code> is given, the method to use the endpoint will look sth like this:</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"n\">pydataverse</span><span class=\"o\">.</span><span class=\"n\">version</span><span class=\"o\">.</span><span class=\"n\">get_info</span><span class=\"p\">()</span>\n</code></pre></div>\n<p>Since tags correspond to a module, it would make sense to use the parent as the tag. In the above <code>version</code> example, it would make sense to use <code>info</code> as the tag due to it being part of the <code>/info</code> collection of endpoints. I did something similar in my version. You can find it <a href=\"https://github.com/JR-1991/pydataverse-gen-speakeasy/blob/cc96e26179efea7bff9faa28a6af6f2a8b927d8c/dataverse_openapi.yaml#L6083-L6089\">here</a>.</p>",
        "id": 430782602,
        "sender_full_name": "Jan Range",
        "timestamp": 1712061992
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> thanks a lot! I hope you also had a good easter, and that you are feeling better now. Please let me know how this works on the code generator with the multipart included. I will check about the tag in a few <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>.</p>",
        "id": 430783530,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712062320
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/sgXW5c6tS4uIY1VTv3RtbGHA/openapi.yaml\">openapi.yaml</a></p>",
        "id": 430824408,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712073827
    },
    {
        "content": "<p>Ok this is the version generated and checked and you can annotate the entire class so all the endpoints from info now would be tagged with this according to the docs</p>",
        "id": 430824601,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712073880
    },
    {
        "content": "<p>Looks great! I get a couple of errors, though. These relate mostly to duplicate OperationIds that are easy to fix. Here is an overview of all errors:</p>\n<p><a href=\"/user_uploads/53090/OjKe7DY4j2BZaY4rsX9uVjYU/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/OjKe7DY4j2BZaY4rsX9uVjYU/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/OjKe7DY4j2BZaY4rsX9uVjYU/image.png\"></a></div><p>Regarding the <code>items</code> attribute in arrays. This can be fixed by supplying the following:</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">fileSystemDirectory</span><span class=\"p\">:</span>\n<span class=\"w\">   </span><span class=\"nt\">type</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">array</span>\n<span class=\"w\">   </span><span class=\"nt\">items</span><span class=\"p\">:</span>\n<span class=\"w\">       </span><span class=\"nt\">type</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">float</span><span class=\"w\"> </span><span class=\"c1\"># The type(s) to be expected</span>\n</code></pre></div>\n<p>It's only the case for two schemes and can be fixed manually for now. Other than that everything looks fine <span aria-label=\"raised hands\" class=\"emoji emoji-1f64c\" role=\"img\" title=\"raised hands\">:raised_hands:</span></p>",
        "id": 430832419,
        "sender_full_name": "Jan Range",
        "timestamp": 1712076431
    },
    {
        "content": "<p>This one should have this one fixed, but this may happen again in the future, for context I just updated this branch and this endpoint or method may have been added recently.<br>\n<a href=\"/user_uploads/53090/UQonWlqKq3TKjqopytdr224H/openapi.yaml\">openapi.yaml</a></p>",
        "id": 430835242,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712077344
    },
    {
        "content": "<p>Regarding the items I am not sure how that would look on our side, at first glance we would have to specify the expected types on the request? If that is so it would be another of those cases that require more granular attention which is way beyond the scope of this PR  at this moment <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 430835554,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712077445
    },
    {
        "content": "<p>Perfect! Those are not shown anymore.</p>\n<p><a href=\"/user_uploads/53090/0k75kd_TGwDTUq8w-M_42Hld/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/0k75kd_TGwDTUq8w-M_42Hld/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/0k75kd_TGwDTUq8w-M_42Hld/image.png\"></a></div>",
        "id": 430835603,
        "sender_full_name": "Jan Range",
        "timestamp": 1712077460
    },
    {
        "content": "<p>Is this array only on a couple of methods or it is across the entire API?</p>",
        "id": 430835668,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712077488
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/430835554\">schrieb</a>:</p>\n<blockquote>\n<p>Regarding the items I am not sure how that would look on our side, at first glance we would have to specify the expected types on the request? If that is so it would be another of those cases that require more granular attention which is way beyond the scope of this PR  at this moment <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>\n</blockquote>\n<p>I understand, but this is completely fine and easy to fix manually. From my view the current state is totally fine.</p>",
        "id": 430835727,
        "sender_full_name": "Jan Range",
        "timestamp": 1712077509
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/430835668\">schrieb</a>:</p>\n<blockquote>\n<p>Is this array only on a couple of methods or it is across the entire API?</p>\n</blockquote>\n<p>No, its just for two properties. Hence easily managable. On pyDataverse's repo, I could add a workflow that adds the respective item types before generation.</p>",
        "id": 430835959,
        "sender_full_name": "Jan Range",
        "timestamp": 1712077580
    },
    {
        "content": "<p>Did Payara fix /openapi upstream? See <a href=\"https://github.com/IQSS/dataverse/issues/9981#issuecomment-2032641856\">https://github.com/IQSS/dataverse/issues/9981#issuecomment-2032641856</a></p>",
        "id": 430840408,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1712079132
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599841\">Jan Range</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/430835603\">said</a>:</p>\n<blockquote>\n<p>Perfect! Those are not shown anymore.</p>\n<p><a href=\"/user_uploads/53090/0k75kd_TGwDTUq8w-M_42Hld/image.png\">image.png</a></p>\n</blockquote>\n<p>I wonder why are only these 2 arrays not defining the type <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 430841225,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079441
    },
    {
        "content": "<p>probably something we could look down the line</p>",
        "id": 430841284,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079464
    },
    {
        "content": "<p>In theory if the /openapi is restored by Payara we could or should remove the created endpoints to provide the spec</p>",
        "id": 430841594,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079571
    },
    {
        "content": "<p>It seems like these two are the only properties that have this issue. All other ones have a type specified. Maybe there is a missing type annotation in the source code? </p>\n<p><a href=\"/user_uploads/53090/8doaCJkD7INGde8C4YgHeeuh/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/8doaCJkD7INGde8C4YgHeeuh/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/8doaCJkD7INGde8C4YgHeeuh/image.png\"></a></div>",
        "id": 430841621,
        "sender_full_name": "Jan Range",
        "timestamp": 1712079581
    },
    {
        "content": "<p>The thing is... most of the annotations are not in the code <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> that is why documenting all the endpoints will require a bigger effort</p>",
        "id": 430841819,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079640
    },
    {
        "content": "<p>So for some reason the plugin is getting the type for most of the arrays</p>",
        "id": 430841878,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079665
    },
    {
        "content": "<p>but not on particular for this one</p>",
        "id": 430841905,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079672
    },
    {
        "content": "<p>We should also determine if we are going to continue using the plugin as part of our solution. As I understand when provided a file (as we are doing now) the spec will be served and that is why <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> was requesting it to be on the /WEB-INF directory</p>",
        "id": 430842158,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079756
    },
    {
        "content": "<p>If we decide to remove the plugin probably the annotations and the other changes will still be required from this PR</p>",
        "id": 430842247,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079795
    },
    {
        "content": "<p>or the spec will be just as broken as before showing all the errors</p>",
        "id": 430842310,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079821
    },
    {
        "content": "<p>Like in <a href=\"https://dataverse.unc.edu/openapi\">https://dataverse.unc.edu/openapi</a></p>",
        "id": 430842354,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079837
    },
    {
        "content": "<p>I am going to post this on the <del>PR</del> issue</p>",
        "id": 430842449,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712079861
    },
    {
        "content": "<p>6.2024.4 is out. Let's try this!</p>",
        "id": 432483897,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712749219
    },
    {
        "content": "<p>Are we still talking about RC1?</p>",
        "id": 432495166,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712752938
    },
    {
        "content": "<p>No no official release</p>",
        "id": 432495186,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712752951
    },
    {
        "content": "<p>Ohhhh boys!!!</p>",
        "id": 432495230,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712752969
    },
    {
        "content": "<p>I looked this morning and it wasn't in. It's hot of the press!</p>",
        "id": 432495252,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712752976
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span> beat me to it <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span> <span aria-label=\"racecar\" class=\"emoji emoji-1f3ce\" role=\"img\" title=\"racecar\">:racecar:</span></p>",
        "id": 432495316,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712752997
    },
    {
        "content": "<p><span aria-label=\"hot\" class=\"emoji emoji-1f525\" role=\"img\" title=\"hot\">:hot:</span> <span aria-label=\"bread\" class=\"emoji emoji-1f35e\" role=\"img\" title=\"bread\">:bread:</span></p>",
        "id": 432495328,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712753003
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/rxrQj_TO8IN6pPt9XrTFsEzu/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/rxrQj_TO8IN6pPt9XrTFsEzu/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/rxrQj_TO8IN6pPt9XrTFsEzu/image.png\"></a></div>",
        "id": 432497632,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712753653
    },
    {
        "content": "<p>Ohhhhh boys that is Oliver <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 432497692,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712753676
    },
    {
        "content": "<p>Not sure this is the right topic though... I'll move it for you <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 432497813,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712753724
    },
    {
        "content": "<p>3 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"379673\" href=\"/#narrow/stream/379673-dev/topic/metadata.20schemas.20support\">#dev &gt; metadata schemas support</a> by <span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span>.</p>",
        "id": 432497860,
        "sender_full_name": "Notification Bot",
        "timestamp": 1712753738
    },
    {
        "content": "<p>Somehow I was typing on this channel and ended up on the other one <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 432497990,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712753770
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 432498011,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712753776
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> What is the difference with Payara and Payara web? I know about Payara micro but the build makes all of them <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 432503248,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712755420
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/I0tvftmX91led5m0FOwnYmgq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/I0tvftmX91led5m0FOwnYmgq/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/I0tvftmX91led5m0FOwnYmgq/image.png\"></a></div>",
        "id": 432503347,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712755444
    },
    {
        "content": "<p>Different Jakarta EE profile</p>",
        "id": 432503429,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712755472
    },
    {
        "content": "<p>full vs web</p>",
        "id": 432503979,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1712755647
    },
    {
        "content": "<p>we've always used full</p>",
        "id": 432503992,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1712755650
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 432504140,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712755689
    },
    {
        "content": "<p>We kind of _require_ full because EJBs</p>",
        "id": 432504154,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712755692
    },
    {
        "content": "<p>yeah, and because of JMS, I think</p>",
        "id": 432505062,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1712755936
    },
    {
        "content": "<p>See also <a href=\"https://jakarta.ee/specifications\">https://jakarta.ee/specifications</a>. Yes, JMS Is a part of the full platform only, too.</p>",
        "id": 432506475,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712756392
    },
    {
        "content": "<p>Do we need an image with this version or there is a possibility to generate one?</p>",
        "id": 432562529,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712773702
    },
    {
        "content": "<p>Is this the right Zulip topic?</p>",
        "id": 432562607,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1712773736
    },
    {
        "content": "<p>No it's not <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 432562692,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712773771
    },
    {
        "content": "<p>In <a class=\"stream\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers\">#containers</a> there probably is a better topic</p>",
        "id": 432562752,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712773791
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"375812\" href=\"/#narrow/stream/375812-containers/topic/.E2.9C.94.20Payara.206.2E2024.2E1\">#containers &gt; ✔ Payara 6.2024.1</a> ?</p>",
        "id": 432562936,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1712773815
    },
    {
        "content": "<p>But it is related to this issue <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 432562984,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712773833
    },
    {
        "content": "<p>Sure. We can unresolve it</p>",
        "id": 432562991,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712773835
    },
    {
        "content": "<p>OK OK ppl put down your pitchforks and torches</p>",
        "id": 432563012,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712773845
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 432563026,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1712773849
    },
    {
        "content": "<p>Jo JP. Go try <code>mvn -Pct clean package -Dbase.image.tag=rev2</code> if you wanna give 6.2024. 4 a shot...</p>",
        "id": 433303367,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713190693
    },
    {
        "content": "<p>Requires a change to the app image, too...</p>",
        "id": 433303416,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713190706
    },
    {
        "content": "<p>See <a href=\"https://github.com/IQSS/dataverse/pull/10495/commits/356dec45137a99cfca611ad1e273e9a8f8195d76#diff-ea5454b43f80769be57c60ff636f3d7ef92151445d94826ae63d589a3f71b92c\">https://github.com/IQSS/dataverse/pull/10495/commits/356dec45137a99cfca611ad1e273e9a8f8195d76#diff-ea5454b43f80769be57c60ff636f3d7ef92151445d94826ae63d589a3f71b92c</a></p>",
        "id": 433303495,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713190733
    },
    {
        "content": "<p>Omg! Let me try this, brb <span aria-label=\"partying face\" class=\"emoji emoji-1f973\" role=\"img\" title=\"partying face\">:partying_face:</span></p>",
        "id": 433303956,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713190837
    },
    {
        "content": "<p>I only need to change <a href=\"http://init_3_wait_dataverse_db_host.sh\">init_3_wait_dataverse_db_host.sh</a>?</p>",
        "id": 433304692,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713191006
    },
    {
        "content": "<p>Yes</p>",
        "id": 433304714,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713191012
    },
    {
        "content": "<p>Anything else is contained in rev2 base image</p>",
        "id": 433304779,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713191026
    },
    {
        "content": "<p>Building</p>",
        "id": 433304848,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713191042
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>gdcc/dataverse:unstable was found but does not match the specified platform: wanted linux/arm64, actual: linux/amd64&quot; Not Found: 404\n</code></pre></div>",
        "id": 433305844,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713191263
    },
    {
        "content": "<p><span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 433308850,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713191975
    },
    {
        "content": "<p>Oh no... I just pushed my local image...</p>",
        "id": 433317607,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713193972
    },
    {
        "content": "<p>That is amd64 only</p>",
        "id": 433317640,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713193980
    },
    {
        "content": "<p>Sorry!!!</p>",
        "id": 433317670,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713193985
    },
    {
        "content": "<p>I forgot about that</p>",
        "id": 433317702,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713193996
    },
    {
        "content": "<p>I'll look into pushing a different image later/tomorrow that is actually multiarch</p>",
        "id": 433317813,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713194025
    },
    {
        "content": "<p>Sounds good I will try again when you have something <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> thanks!!</p>",
        "id": 433318003,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713194068
    },
    {
        "content": "<p>I've just pushed a multiarch build. Note that I removed the jattach/wait4x pieces from the PR as we can merge them independent from the Payara upgrade. So you don't need the changes to the db wait script for now.</p>",
        "id": 433453237,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713250224
    },
    {
        "content": "<p>Amazing! I will check asap and let you know <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ! Thanks!</p>",
        "id": 433521299,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713273707
    },
    {
        "content": "<p>So we're close to knowing if the Payara-provided /openapi is working again? As of this PR Upgrade to Payara 6.2024.4 <a href=\"https://github.com/IQSS/dataverse/issues/10495\">#10495</a></p>",
        "id": 433524466,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713274618
    },
    {
        "content": "<p>Would it be the same tag <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ? I am trying with \"mvn -Pct clean package -Dbase.image.tag=rev2\" and still get the same error</p>",
        "id": 433526557,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275258
    },
    {
        "content": "<p>This should be a quick test once we get it running on 6.2024.4 so <span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span></p>",
        "id": 433527045,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275380
    },
    {
        "content": "<p>Oh it seems I had to delete my existing images beforehand... here we go wish me luck <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433527850,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275611
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/JShvq2gThs_MXGbX8_zLPoeO/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/JShvq2gThs_MXGbX8_zLPoeO/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/JShvq2gThs_MXGbX8_zLPoeO/image.png\"></a></div>",
        "id": 433528169,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275695
    },
    {
        "content": "<p>It is alive!</p>",
        "id": 433528210,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275707
    },
    {
        "content": "<p>But I don't think it is serving the generated OpenAPI files</p>",
        "id": 433528471,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275777
    },
    {
        "content": "<p>from WEB-INF</p>",
        "id": 433528506,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275786
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/Du6vgAxQORCb__ra79NPFRrP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/Du6vgAxQORCb__ra79NPFRrP/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/Du6vgAxQORCb__ra79NPFRrP/image.png\"></a></div>",
        "id": 433528944,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275892
    },
    {
        "content": "<p>To the left is the one generated by Payara to the right the one from Smallrye</p>",
        "id": 433529073,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713275931
    },
    {
        "content": "<p>I'm confused. It's serving up both OpenAPI YAMLs now? The Payara builtin one and the SmallRye one?</p>",
        "id": 433529637,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713276071
    },
    {
        "content": "<p>My PR still has the endpoints I implemented</p>",
        "id": 433529712,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713276092
    },
    {
        "content": "<p>So I can get both on the same installation</p>",
        "id": 433529740,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713276100
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>http://localhost:8080/openapi [left]\nhttp://localhost:8080/api/info/openapi/yaml [right]\n</code></pre></div>",
        "id": 433529916,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713276142
    },
    {
        "content": "<p>Great! What does <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> think about this?!? He's our number 1 OpenAPI customer! <span aria-label=\"crazy\" class=\"emoji emoji-1f61c\" role=\"img\" title=\"crazy\">:crazy:</span></p>",
        "id": 433530221,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713276240
    },
    {
        "content": "<p>Well I think we first have to decide what we do <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433530367,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713276278
    },
    {
        "content": "<p>If loading the OpenAPI spec from the WAR doesn't work, we should probably investigate and potentially create an issue at Payara's</p>",
        "id": 433532837,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713276961
    },
    {
        "content": "<p>But at this point Payara should be serving the generated api from META-INF right <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> ?</p>",
        "id": 433534237,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713277353
    },
    {
        "content": "<p>I'm not sure if we're doing it right and have the file in the right place ....</p>",
        "id": 433534325,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713277380
    },
    {
        "content": "<p>I will do some testing in a bit, doing some detective work on a test <span aria-label=\"laughter tears\" class=\"emoji emoji-1f602\" role=\"img\" title=\"laughter tears\">:laughter_tears:</span></p>",
        "id": 433534981,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713277569
    },
    {
        "content": "<p>OK back to this <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 433552196,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713281860
    },
    {
        "content": "<p>So in the containers we have inside the deployment 2 META-INF directories:</p>\n<ul>\n<li>opt/payara/deployments/dataverse/META-INF (Empty)</li>\n<li>opt/payara/deployments/dataverse/WEB-INF/classes/META-INF (spec definition, microprofile-*.properties and other files live here)</li>\n</ul>",
        "id": 433554518,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713282504
    },
    {
        "content": "<blockquote>\n<p>Vendors are required to fetch a single document named <code>openapi</code> with an extension of <code>yml</code>, <code>yaml</code> or <code>json</code>, inside the application module’s root <code>META-INF</code> folder.<br>\n<a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_location_and_formats\">https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_location_and_formats</a></p>\n</blockquote>\n<p>I suspect this to be <code>/opt/payara/deployments/dataverse/META-INF</code></p>",
        "id": 433554926,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713282629
    },
    {
        "content": "<p>You could try by adding a simple test spec file in there and see if it turns up</p>",
        "id": 433555031,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713282658
    },
    {
        "content": "<p>And maybe disable scanning?</p>",
        "id": 433555122,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713282683
    },
    {
        "content": "<p>Nice! Sorry for following up so late. I will build and check it, but judging from the screenshots, it looks great! I am so happy that it is integrated now <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> Great work!</p>",
        "id": 433555588,
        "sender_full_name": "Jan Range",
        "timestamp": 1713282801
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/SukPBuAvyUOpkUG4mrM_akw9/openapi.yaml\">openapi.yaml</a><br>\nThis is a sample of the generated file from Payara <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span></p>",
        "id": 433556236,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713282990
    },
    {
        "content": "<p>Sadly it seems it send us back to square one with the validations <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433556344,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713283027
    },
    {
        "content": "<p>Will put it through the code gen <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 433556573,
        "sender_full_name": "Jan Range",
        "timestamp": 1713283094
    },
    {
        "content": "<p>Alright, I have put it through the validation and now there are in total 58 errors. Most of which are related to duplicate <code>operationIds</code> and <code>tags</code>. I will compile all of those to get an overview.</p>",
        "id": 433557587,
        "sender_full_name": "Jan Range",
        "timestamp": 1713283391
    },
    {
        "content": "<p>Others are related to parameters defined in the path differ to those given in the <code>parameters</code> object.</p>",
        "id": 433557835,
        "sender_full_name": "Jan Range",
        "timestamp": 1713283452
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> right now the configuration on maven is set to </p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;openapi.outputDirectory&gt;${project.build.outputDirectory}/META-INF&lt;/openapi.outputDirectory&gt;\n</code></pre></div>\n<p>I am not sure how to move it to /opt/payara/deployments/dataverse/META-INF <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> any suggestions?</p>",
        "id": 433558627,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713283675
    },
    {
        "content": "<p>Is there a way I can work through these errors by myself and open a PR? Or is it a bit more complex to resolve these?</p>",
        "id": 433561455,
        "sender_full_name": "Jan Range",
        "timestamp": 1713284471
    },
    {
        "content": "<p>Probably our efforts at this point could be one of the two:</p>\n<ol>\n<li>Keep the small rye plugin and find a configuration that would make it compatible </li>\n<li>Remove the small rye and the custom endpoints and make the changes required for Payara to make a valid spec. </li>\n</ol>\n<p>For me I am inclined to move forward 2 but would like to hear what you guys think, going through the errors I see for example Payara generates the operationId based purely on the name of the method while smallRye will attach the name of the class to generate an ID (Don't you love \"standards\"?)</p>",
        "id": 433562063,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284657
    },
    {
        "content": "<p>As part of the solution No 2, we would have to check in a case by case but I think is better to have less dependencies</p>",
        "id": 433562187,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284711
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/spGr1I6GdaTJv2ZA7TNveaJr/image.png\">image.png</a><br>\nThese are the duplicated errors, would just have to rename some java methods and that should have no impact on the code</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/spGr1I6GdaTJv2ZA7TNveaJr/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/spGr1I6GdaTJv2ZA7TNveaJr/image.png\"></a></div>",
        "id": 433562354,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284762
    },
    {
        "content": "<p>Another set of errors is this:</p>",
        "id": 433562468,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284793
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/Wqr6wd2kbZcwaZzQ4iP5slMV/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/Wqr6wd2kbZcwaZzQ4iP5slMV/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/Wqr6wd2kbZcwaZzQ4iP5slMV/image.png\"></a></div>",
        "id": 433562481,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284796
    },
    {
        "content": "<p>True, option number 2 would be the cleanest. But wouldn't this require changing the method's name to avoid duplicate operation IDs?</p>",
        "id": 433562816,
        "sender_full_name": "Jan Range",
        "timestamp": 1713284897
    },
    {
        "content": "<p>Yeah but those methods are normally never used since they are called mostly by the URL defined by java annotations</p>",
        "id": 433562956,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284942
    },
    {
        "content": "<p>So in theory you could rename them with no impact</p>",
        "id": 433562991,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284953
    },
    {
        "content": "<p>not sure about the path parameters</p>",
        "id": 433563029,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713284970
    },
    {
        "content": "<p>The smallrye plugin can be configured what should be used as name</p>",
        "id": 433563243,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285027
    },
    {
        "content": "<p>Is this ID important for the generation of client code?</p>",
        "id": 433563307,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285054
    },
    {
        "content": "<p>Well having duplicated IDs is marked as an error</p>",
        "id": 433563385,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285074
    },
    {
        "content": "<p>Which small rye gets away with because it concatenates the name of the class</p>",
        "id": 433563446,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285090
    },
    {
        "content": "<p>but Payara is an evil fish</p>",
        "id": 433563473,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285097
    },
    {
        "content": "<p>so it just uses the name of the method</p>",
        "id": 433563510,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285105
    },
    {
        "content": "<p>I'm leaning towards option 1. Payara was broken before and it might break again. Also, the spec would be nice to add to the guides or as other downloadable artifacts</p>",
        "id": 433563533,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285111
    },
    {
        "content": "<p>So we have a method <code>resetCurationLabelSet</code> on Admin and also on Datasets</p>",
        "id": 433563642,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285133
    },
    {
        "content": "<p>Is the smallRye dependency big or changing frequently?</p>",
        "id": 433563658,
        "sender_full_name": "Jan Range",
        "timestamp": 1713285138
    },
    {
        "content": "<p>as an example</p>",
        "id": 433563660,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285139
    },
    {
        "content": "<p>It's a build time dependency. Doesn't cost us much</p>",
        "id": 433563730,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285162
    },
    {
        "content": "<p>Well if payara breaks that would be a reason to leave the custom endpoints</p>",
        "id": 433563844,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285197
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648750\">Juan Pablo Tosca Villanueva</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/433563642\">schrieb</a>:</p>\n<blockquote>\n<p>So we have a method <code>resetCurationLabelSet</code> on Admin and also on Datasets</p>\n</blockquote>\n<p>Yes, unfortunately these have to be unique even if they live in another module in the client code :-(</p>",
        "id": 433563861,
        "sender_full_name": "Jan Range",
        "timestamp": 1713285203
    },
    {
        "content": "<p>Oh wait we're talking about the endpoint?</p>",
        "id": 433563909,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285221
    },
    {
        "content": "<p>No but if the justification to leave smallrye is that Payara can break then it would make sense to add a custom endpoint because if it breaks again even if it is serving a custom file created by small rye it wold be... well... broken <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 433564116,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285299
    },
    {
        "content": "<p>True that <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 433564219,
        "sender_full_name": "Jan Range",
        "timestamp": 1713285332
    },
    {
        "content": "<p>Which of both would require more work to put in?</p>",
        "id": 433564277,
        "sender_full_name": "Jan Range",
        "timestamp": 1713285351
    },
    {
        "content": "<p>I could help renaming the methods in Payara's case. For SmallRye I would maybe need to get an idea of how to apply it.</p>",
        "id": 433564429,
        "sender_full_name": "Jan Range",
        "timestamp": 1713285392
    },
    {
        "content": "<p>You're right <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> Should we disable the normal endpoint?</p>",
        "id": 433564627,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285463
    },
    {
        "content": "<p>Otherwise people might end up with the wrong spec...</p>",
        "id": 433564669,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285475
    },
    {
        "content": "<p>We could even add our own endpoint in the same place when we disable OpenAPI on the server...</p>",
        "id": 433564805,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285504
    },
    {
        "content": "<p>We'd need to modify the spec file anyway with the server deets etc</p>",
        "id": 433564866,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285523
    },
    {
        "content": "<p>I just see pros and cons of going way, what makes me nervous about using smallrye as a default option is having a dependency that can lose support at some point... in theory, people could switch to other servers like we could move to an alternative from Payara if we are compliant with the default but if something happens to smallrye then it is a GG</p>",
        "id": 433565619,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285738
    },
    {
        "content": "<p>Huh? Smallrye is no small thing... it's the MP implementation used by Redhat and many other Jakarta servers as well es Quarkus.</p>",
        "id": 433565790,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285797
    },
    {
        "content": "<p>I honestly doubt it'll just go away</p>",
        "id": 433565826,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713285810
    },
    {
        "content": "<p>I think the second one could be safer because we could just have an integration test that tests the /openApi, a test like this would have prevented us from upgrading to specific versions of Payara where this could be broken</p>",
        "id": 433565868,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713285821
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 433566744,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713286110
    },
    {
        "content": "<p>Tough decision <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 433566811,
        "sender_full_name": "Jan Range",
        "timestamp": 1713286132
    },
    {
        "content": "<p>I manually created a WAR with <strong>both</strong> files on <em>/opt/payara/deployments/dataverse/META-INF</em> sadly they were not served, still ignored. I am making a test with only the YAML file soon</p>",
        "id": 433579607,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713291091
    },
    {
        "content": "<p>Same <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 433580372,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713291419
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/nhigHsEPYdbph2kNr0D71xsR/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/nhigHsEPYdbph2kNr0D71xsR/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/nhigHsEPYdbph2kNr0D71xsR/image.png\"></a></div>",
        "id": 433580589,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713291507
    },
    {
        "content": "<p>Maybe it's just Payara being a bug fest. For all of the MP stuff exist TCK checks. Might be worth a look if this part of the spec is tested and how.</p>",
        "id": 433580908,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713291616
    },
    {
        "content": "<p>Do we have the ability to disable /openapi? The one served by Payara automatically, I mean.</p>",
        "id": 433581407,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713291792
    },
    {
        "content": "<p>We should be</p>",
        "id": 433581849,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713291964
    },
    {
        "content": "<p><a href=\"https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/OpenAPI.html#openApi-configuration\">https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/OpenAPI.html#openApi-configuration</a></p>",
        "id": 433582180,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292113
    },
    {
        "content": "<p>Ah, great. Let's add that to whatever pull request. Seems useful.</p>",
        "id": 433582238,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713292143
    },
    {
        "content": "<p>For our containers we probably should put this either in our base images or in the init_2 shellscript as asadmin command</p>",
        "id": 433582313,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292184
    },
    {
        "content": "<p>The init_2 thing defines a pre/postboot thing, that should do the trick</p>",
        "id": 433582417,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292213
    },
    {
        "content": "<p>Do you want it enabled or disabled in the base image?</p>",
        "id": 433582502,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713292251
    },
    {
        "content": "<p>For experimentation it's probably best to put it into the app script for now</p>",
        "id": 433582556,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292276
    },
    {
        "content": "<p>We can decide later what we want to do</p>",
        "id": 433582579,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292290
    },
    {
        "content": "<p>When disabled, we should be able to provide our own /openapi</p>",
        "id": 433582622,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292312
    },
    {
        "content": "<p>yeah</p>",
        "id": 433582637,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713292320
    },
    {
        "content": "<p>I wonder if it would cause a deployment failure if this is not disabled. since the application would try to take over and already established path</p>",
        "id": 433582830,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292401
    },
    {
        "content": "<p>I'm not sure who'd win</p>",
        "id": 433582879,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292430
    },
    {
        "content": "<p>In spring the application would just not start if there are 2 fighting for the same</p>",
        "id": 433583022,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292482
    },
    {
        "content": "<p>not sure on J2EE</p>",
        "id": 433583033,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292490
    },
    {
        "content": "<p>Please, Jakarta EE. This isn't 2006.</p>",
        "id": 433583086,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713292518
    },
    {
        "content": "<p><span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 433583107,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292529
    },
    {
        "content": "<p>I wish this was 2006 <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433583151,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292557
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> wanna try this?</p>",
        "id": 433583245,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292587
    },
    {
        "content": "<p>Disable OpenAPI in Payara?</p>",
        "id": 433583295,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292606
    },
    {
        "content": "<p>I am making a delicious copy pasta while we speak <span aria-label=\"spaghetti\" class=\"emoji emoji-1f35d\" role=\"img\" title=\"spaghetti\">:spaghetti:</span></p>",
        "id": 433583426,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292673
    },
    {
        "content": "<p>Just edit this line here: <a href=\"https://github.com/IQSS/dataverse/blob/131e76cf77d82b2535556b62f050e869cb96d937/src/main/docker/scripts/init_2_configure.sh#L33\">https://github.com/IQSS/dataverse/blob/131e76cf77d82b2535556b62f050e869cb96d937/src/main/docker/scripts/init_2_configure.sh#L33</a></p>",
        "id": 433583457,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292682
    },
    {
        "content": "<p><code>echo \"set-openapi-configuration --enabled=false\" &gt;&gt; \"${DV_POSTBOOT}\"</code></p>",
        "id": 433583609,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292765
    },
    {
        "content": "<p>That should do the trick</p>",
        "id": 433583620,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292771
    },
    {
        "content": "<p>I hope. Painstakingly typed on my phone</p>",
        "id": 433583649,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292789
    },
    {
        "content": "<p>I hope postboot isn't too late... not sure if we need preboot.</p>",
        "id": 433583741,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292820
    },
    {
        "content": "<p>And the syntax might be wrong <span aria-label=\"stuck out tongue closed eyes\" class=\"emoji emoji-1f61d\" role=\"img\" title=\"stuck out tongue closed eyes\">:stuck_out_tongue_closed_eyes:</span></p>",
        "id": 433583781,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292840
    },
    {
        "content": "<p>For now and this test I can disable it from the console <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433583832,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292866
    },
    {
        "content": "<p>Bah</p>",
        "id": 433583867,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292882
    },
    {
        "content": "<p>I will try that</p>",
        "id": 433583883,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292891
    },
    {
        "content": "<p>But just I need to move the endpoint since we declare paths at a class level</p>",
        "id": 433583925,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713292914
    },
    {
        "content": "<p>Yes, it will require a second jersey config</p>",
        "id": 433584007,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713292938
    },
    {
        "content": "<p>Ok I am adding it rn otherwise i have to restart the server every time lol</p>",
        "id": 433585361,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713293501
    },
    {
        "content": "<p>Interestingly enough... You don't even need to disable if you define an <code>@WebServlet(\"/openapi\")</code></p>",
        "id": 433595997,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713297773
    },
    {
        "content": "<p>See... that's what I meant - they might have put a safeguard in place to just retract if someone is using that endpoint</p>",
        "id": 433596121,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713297820
    },
    {
        "content": "<p>I still can leave it open so ppl can define a parameter and get a json version <span aria-label=\"smiling devil\" class=\"emoji emoji-1f608\" role=\"img\" title=\"smiling devil\">:smiling_devil:</span></p>",
        "id": 433597119,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298247
    },
    {
        "content": "<p>Hrhr</p>",
        "id": 433597149,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298262
    },
    {
        "content": "<p>May I suggest not using a parameter?</p>",
        "id": 433597185,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298282
    },
    {
        "content": "<p>IIRC the original endpoint supports accept content headers</p>",
        "id": 433597250,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298308
    },
    {
        "content": "<p>Should be in the spec <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 433597323,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298329
    },
    {
        "content": "<p>Well, the endpoint itself is not on the \"API\" and would be considered part of the spec</p>",
        "id": 433597487,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298406
    },
    {
        "content": "<p>also since it lives outside /api/</p>",
        "id": 433597514,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298419
    },
    {
        "content": "<p>I probably could just remove it for the sake of simplicity <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 433597650,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298463
    },
    {
        "content": "<p><a href=\"https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_content_format\">https://download.eclipse.org/microprofile/microprofile-open-api-3.1.1/microprofile-openapi-spec-3.1.1.html#_content_format</a></p>",
        "id": 433597665,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298471
    },
    {
        "content": "<p>The JSON format will live  <span aria-label=\"salute\" class=\"emoji emoji-1fae1\" role=\"img\" title=\"salute\">:salute:</span></p>",
        "id": 433597748,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298508
    },
    {
        "content": "<p>MPOA Spec says /openapi, default Yaml, support content negotiation</p>",
        "id": 433597752,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298509
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433597759,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298512
    },
    {
        "content": "<p>Fair enough</p>",
        "id": 433597783,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298522
    },
    {
        "content": "<p>Wait</p>",
        "id": 433597813,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298534
    },
    {
        "content": "<p>Stupid me</p>",
        "id": 433597819,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298537
    },
    {
        "content": "<p><span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 433597848,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298549
    },
    {
        "content": "<p>It _is_ a parameter</p>",
        "id": 433597854,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298550
    },
    {
        "content": "<p>brah</p>",
        "id": 433597869,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298555
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433597875,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298558
    },
    {
        "content": "<p><img alt=\":doh:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/48103.png\" title=\"doh\"></p>",
        "id": 433597932,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298568
    },
    {
        "content": "<p>It is?</p>",
        "id": 433597936,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298571
    },
    {
        "content": "<p>Dang</p>",
        "id": 433597977,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298592
    },
    {
        "content": "<p>I'm getting old and tired</p>",
        "id": 433597997,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298600
    },
    {
        "content": "<p>Content format</p>\n<p>The default format of the /openapi endpoint is YAML.</p>\n<p>Vendors must also support the JSON format if the request contains an Accept header with a value of application/json, in which case the response must contain a Content-Type header with a value of application/json.<br>\nQuery parameters</p>\n<p>No query parameters are required for the /openapi endpoint. However, one suggested but optional query parameter for vendors to support is format, where the value can be either JSON or YAML, to facilitate the toggle between the default YAML format and JSON format.</p>",
        "id": 433598032,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298612
    },
    {
        "content": "<p>It's both. <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 433598088,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298636
    },
    {
        "content": "<p>Sorry for the confusion</p>",
        "id": 433598099,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298642
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 433598178,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298676
    },
    {
        "content": "<p>is \"format\" the suggested name of the parameter?</p>",
        "id": 433598285,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298715
    },
    {
        "content": "<p>Yes</p>",
        "id": 433598296,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298720
    },
    {
        "content": "<p>hell yeah, that is the name i had <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 433598315,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298736
    },
    {
        "content": "<p>Go to the HTML page to have decent formatting</p>",
        "id": 433598321,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298741
    },
    {
        "content": "<p>But we should also support the header request</p>",
        "id": 433598371,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298764
    },
    {
        "content": "<p>It's not hard to do...<span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 433598411,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298783
    },
    {
        "content": "<p>There are examples in the main API</p>",
        "id": 433598450,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298802
    },
    {
        "content": "<p>No, no, just summarizing</p>",
        "id": 433598485,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298803
    },
    {
        "content": "<p>Well our api uses <code>AbstractApiBean</code> this would be an <code>HttpServlet</code></p>",
        "id": 433598610,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298866
    },
    {
        "content": "<p>Working on it i will post shortly</p>",
        "id": 433598652,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298885
    },
    {
        "content": "<p>or maybe not that shortly lol</p>",
        "id": 433598678,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298904
    },
    {
        "content": "<p>My wife just called so she may pick me up from work soon <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 433598771,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298937
    },
    {
        "content": "<p>but maybe** tonight</p>",
        "id": 433598783,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713298943
    },
    {
        "content": "<p>Please note that using the proper JAX-RS way is probably just requiring you to add a single class file that contains all of it.</p>",
        "id": 433598892,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713298996
    },
    {
        "content": "<p>AbstractApiBean is a tech debt left over from ancient times</p>",
        "id": 433599050,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713299054
    },
    {
        "content": "<p>If you do <code>curl -H 'Accept: application/json' https://dataverse.unc.edu/openapi</code> you get JSON out.</p>",
        "id": 433599104,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713299084
    },
    {
        "content": "<p>What would take priority in case that someone sends on the header application/json but on the parameter yaml</p>",
        "id": 433599524,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713299241
    },
    {
        "content": "<p>Headr &gt; param &gt; default ?</p>",
        "id": 433599568,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713299258
    },
    {
        "content": "<p>Error</p>",
        "id": 433599606,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713299279
    },
    {
        "content": "<p>Format and accept unaligned is a 400</p>",
        "id": 433599673,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713299294
    },
    {
        "content": "<p>Or make it a 418</p>",
        "id": 433599840,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713299380
    },
    {
        "content": "<p>Dataverse Easteregg</p>",
        "id": 433599853,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1713299387
    },
    {
        "content": "<p><a href=\"https://dataverse.unc.edu/openapi?format=json\">https://dataverse.unc.edu/openapi?format=json</a></p>",
        "id": 433600922,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713299790
    },
    {
        "content": "<p>also valid</p>",
        "id": 433600933,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713299794
    },
    {
        "content": "<p>huh, interesting!</p>",
        "id": 433601814,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713300168
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> did you see this? If you prefer JSON over YAML</p>",
        "id": 433601866,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713300189
    },
    {
        "content": "<p>We are reverse engineering it <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span>  I love it</p>",
        "id": 433601906,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713300207
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> both are fine for me</p>",
        "id": 433669342,
        "sender_full_name": "Jan Range",
        "timestamp": 1713334330
    },
    {
        "content": "<p>Just an easy going guy</p>",
        "id": 433721890,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713349386
    },
    {
        "content": "<p>Fun fact, if we go for this solution we don't even need to wait for 2024.4</p>",
        "id": 433765228,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713362124
    },
    {
        "content": "<p>I updated the PR I am adding some tests for this, just basic testing but I need to add it to integration-test.txt right?</p>",
        "id": 433839866,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713374941
    },
    {
        "content": "<p>If it's an IT test, yes.</p>",
        "id": 433840084,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713375015
    },
    {
        "content": "<p>At least we know ahead of time if it breaks <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 433840305,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713375072
    },
    {
        "content": "<p>Right. Hmm, would we have held up the 6.0 release if we knew /openapi was broken? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 433840855,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713375275
    },
    {
        "content": "<p>Probably could go with a different minor version</p>",
        "id": 433840942,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713375311
    },
    {
        "content": "<p>for the payara upgrade</p>",
        "id": 433840976,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713375321
    },
    {
        "content": "<p>definitely</p>",
        "id": 433841163,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713375391
    },
    {
        "content": "<p>Saying that... it has been a long time since 6.0 until now for Payara to fix that but at least now we have a solution that works even on the current version</p>",
        "id": 433841280,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713375449
    },
    {
        "content": "<p>Ok everything is up</p>",
        "id": 433841493,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713375533
    },
    {
        "content": "<p>Ok tests passed and the thing looks good to me, idk what do you guys think is next for this PR <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 433874269,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713387701
    },
    {
        "content": "<p>Is it served up at /openapi?</p>",
        "id": 433874814,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713387927
    },
    {
        "content": "<p>Yes</p>",
        "id": 433874827,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713387934
    },
    {
        "content": "<p>Nice. Did you have to disable the version from Payara?</p>",
        "id": 433874848,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713387951
    },
    {
        "content": "<p>No need to upgrade to payara or disable the original one</p>",
        "id": 433874925,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713387969
    },
    {
        "content": "<p>ok, it overwrites what's there?</p>",
        "id": 433874972,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713387992
    },
    {
        "content": "<p>Yeah it takes over the path <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 433875018,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713388017
    },
    {
        "content": "<p>nice</p>",
        "id": 433875071,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713388036
    },
    {
        "content": "<p><span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span></p>",
        "id": 433875087,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713388043
    },
    {
        "content": "<p>Tests also were added</p>",
        "id": 433875228,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1713388094
    },
    {
        "content": "<p>I see! <a href=\"https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-10328/29/testReport/edu.harvard.iq.dataverse.api/OpenApiIT/\">https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-10328/29/testReport/edu.harvard.iq.dataverse.api/OpenApiIT/</a></p>",
        "id": 433875431,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1713388194
    },
    {
        "content": "<p>I'm finally looking at the PR, <a href=\"https://github.com/IQSS/dataverse/pull/10328\">https://github.com/IQSS/dataverse/pull/10328</a></p>\n<p>Overall, looks good.</p>\n<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span>, you're still happy with it?</p>",
        "id": 441291482,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717006490
    },
    {
        "content": "<p>Still happy <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> If there is enough time, I would test it a last time before merging.</p>",
        "id": 441291750,
        "sender_full_name": "Jan Range",
        "timestamp": 1717006585
    },
    {
        "content": "<p>Ok. Do you need it on a server? Or you can test locally?</p>",
        "id": 441291812,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717006616
    },
    {
        "content": "<p>I would clone the PR and use <code>mvn</code> to start it</p>",
        "id": 441291849,
        "sender_full_name": "Jan Range",
        "timestamp": 1717006637
    },
    {
        "content": "<p>Will test after dinner <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 441291896,
        "sender_full_name": "Jan Range",
        "timestamp": 1717006662
    },
    {
        "content": "<p>Great. You're our easy baby. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span> No fussing. <span aria-label=\"baby\" class=\"emoji emoji-1f476\" role=\"img\" title=\"baby\">:baby:</span></p>",
        "id": 441291903,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717006665
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> did you see <a href=\"https://quobix.com/vacuum/\">https://quobix.com/vacuum/</a> doesn't like <code>@Pattern(regexp=\"^[^:&lt;&gt;;#/\\\"\\\\*\\\\|\\\\?\\\\\\\\]*$\"</code> in FileMetadata.java? It's the one error. The rest are warnings.</p>",
        "id": 441293861,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717007441
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 441294010,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007498
    },
    {
        "content": "<p>Is this a new endpoint?</p>",
        "id": 441294032,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007506
    },
    {
        "content": "<p>Let me see</p>",
        "id": 441294039,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007509
    },
    {
        "content": "<p>\"schema pattern should be a ECMA-262 regular expression dialect\"</p>",
        "id": 441294204,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717007579
    },
    {
        "content": "<p>The error comes from here: <a href=\"https://github.com/daveshanley/vacuum/blob/v0.10.0/functions/openapi/schema_type.go#L151\">https://github.com/daveshanley/vacuum/blob/v0.10.0/functions/openapi/schema_type.go#L151</a></p>",
        "id": 441294600,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717007732
    },
    {
        "content": "<p><span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 441294811,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007807
    },
    {
        "content": "<p>And you really don't want to see the output of the new OpenAPI doctor</p>",
        "id": 441295042,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007885
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 441295050,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007890
    },
    {
        "content": "<p><a href=\"http://\">Uploading image.png…</a></p>",
        "id": 441295092,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007905
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/jNfuLNnKObwGUcVMwmDtCxEc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/jNfuLNnKObwGUcVMwmDtCxEc/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/jNfuLNnKObwGUcVMwmDtCxEc/image.png\"></a></div>",
        "id": 441295113,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717007910
    },
    {
        "content": "<p>It's exhausting even looking at all these errors. <span aria-label=\"dizzy\" class=\"emoji emoji-1f635\" role=\"img\" title=\"dizzy\">:dizzy:</span></p>",
        "id": 441295828,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717008166
    },
    {
        "content": "<p>I wonder if this is something new implemented on vacuum</p>",
        "id": 441296993,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717008578
    },
    {
        "content": "<p>I just tested all the older versions of the spec and they show the same error</p>",
        "id": 441297108,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717008613
    },
    {
        "content": "<p>but they were passing</p>",
        "id": 441297126,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717008619
    },
    {
        "content": "<p>Oh there was an update 4 days ago</p>",
        "id": 441297660,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717008842
    },
    {
        "content": "<p><a href=\"https://github.com/daveshanley/vacuum/releases/tag/v0.10.0\">https://github.com/daveshanley/vacuum/releases/tag/v0.10.0</a></p>",
        "id": 441297692,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717008844
    },
    {
        "content": "<p>I'm going to change \"Getting the OpenAPI Specification\" to \"Getting the OpenAPI Document\" because that's what they call it: <a href=\"https://spec.openapis.org/oas/latest.html#openapi-document\">https://spec.openapis.org/oas/latest.html#openapi-document</a></p>",
        "id": 441299061,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717009420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> if this shows up in the openapi doc, would you use it?</p>\n<div class=\"codehilite\"><pre><span></span><code>pattern: &quot;^[^:&lt;&gt;;#/\\&quot;\\\\*\\\\|\\\\?\\\\\\\\]*$&quot;\n</code></pre></div>\n<p>I'm asking because <a href=\"https://quobix.com/vacuum/\">https://quobix.com/vacuum/</a> complains about it. \"schema pattern should be a ECMA-262 regular expression dialect\" (it's a Java regex).</p>\n<p>For more context, this is the regex we use for filenames (\"label\" in the code). It's on the FileMetadata object.</p>",
        "id": 441307872,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717013336
    },
    {
        "content": "<p><code>SyntaxError: Unterminated character class at &lt;eval&gt;:1:15(3)</code></p>",
        "id": 441318367,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717017106
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 441318493,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717017144
    },
    {
        "content": "<p>Where did you get this?</p>",
        "id": 441318579,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717017179
    },
    {
        "content": "<p>I may have a replacement for the MultiBody btw</p>",
        "id": 441318677,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717017217
    },
    {
        "content": "<p><a href=\"https://github.com/pdurbin/vacuum/commit/e25b3b60017cc87799e90cee90f723f0994efea5\">https://github.com/pdurbin/vacuum/commit/e25b3b60017cc87799e90cee90f723f0994efea5</a></p>",
        "id": 441319966,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717017663
    },
    {
        "content": "<p>I opened an issue: <a href=\"https://github.com/daveshanley/vacuum/issues/503\">https://github.com/daveshanley/vacuum/issues/503</a></p>",
        "id": 441320957,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717018054
    },
    {
        "content": "<p>Actually... I am making more tests brb <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 441450571,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073560
    },
    {
        "content": "<p>I modified the schema provided by doctor</p>",
        "id": 441450794,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073644
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/lJdHChIuGtvtL2ZPoqOCtpCN/tst.yaml\">tst.yaml</a></p>",
        "id": 441451024,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073752
    },
    {
        "content": "<p>Where I included</p>",
        "id": 441451040,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073760
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>testfield:\n            patter: &quot;^[^:&lt;&gt;;#/\\&quot;\\\\*\\\\|\\\\?\\\\\\\\]*$&quot;\n            type: string\n</code></pre></div>",
        "id": 441451168,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073805
    },
    {
        "content": "<p>Which both doctor and vacuum validates</p>",
        "id": 441451196,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073821
    },
    {
        "content": "<p>patter instead of pattern?</p>",
        "id": 441451222,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717073832
    },
    {
        "content": "<p><span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 441451255,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073845
    },
    {
        "content": "<p>Ok I fixed it...</p>",
        "id": 441451412,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073897
    },
    {
        "content": "<p>So now we get on doctor: <code>schema pattern should be a ECMA-262 regular expression dialect</code></p>",
        "id": 441451460,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717073914
    },
    {
        "content": "<p><a href=\"https://json-schema.org/understanding-json-schema/reference/regular_expressions\">https://json-schema.org/understanding-json-schema/reference/regular_expressions</a></p>",
        "id": 441451879,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717074051
    },
    {
        "content": "<p>So same as before.</p>",
        "id": 441452182,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717074153
    },
    {
        "content": "<p>Should SmallRye translate the Java regex into a Javascript regex?</p>",
        "id": 441452318,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717074209
    },
    {
        "content": "<p>mmmm</p>",
        "id": 441453283,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717074537
    },
    {
        "content": "<p>it seems what is causing trouble is the \\\\\\\\</p>",
        "id": 441453337,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717074555
    },
    {
        "content": "<p>or escaping \\</p>",
        "id": 441453351,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717074561
    },
    {
        "content": "<p>if you put as value <code>^[^:&lt;&gt;;#/\"\\*\\|\\?\\]*$</code> or <code>\"^[^:&lt;&gt;;#/\\\"\\\\*\\\\|\\\\?\\\\]*$\"</code></p>",
        "id": 441453692,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717074658
    },
    {
        "content": "<p>It is a valid value</p>",
        "id": 441453716,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717074665
    },
    {
        "content": "<p>Should we open an issue? Treat it as something to follow up on? <a href=\"https://docs.datalad.org/projects/dataverse/en/latest/settingup.html#dataverse-limitations\">https://docs.datalad.org/projects/dataverse/en/latest/settingup.html#dataverse-limitations</a> is related, by the way.</p>",
        "id": 441454195,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717074827
    },
    {
        "content": "<p>Yeah let's wait to hear what they have to say</p>",
        "id": 441455366,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717075194
    },
    {
        "content": "<p>I will make the change for Unirest</p>",
        "id": 441455541,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717075241
    },
    {
        "content": "<p>Wait to hear on <a href=\"https://github.com/daveshanley/vacuum/issues/503\">https://github.com/daveshanley/vacuum/issues/503</a> ?</p>",
        "id": 441455997,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717075395
    },
    {
        "content": "<p>Yes</p>",
        "id": 441456039,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717075413
    },
    {
        "content": "<p>Sure, sounds good.</p>",
        "id": 441456765,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717075637
    },
    {
        "content": "<p>At least until I solve the unirest</p>",
        "id": 441456804,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717075661
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> If you have a chance could you test this file? Specifically the multipart items please? <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> <br>\n<a href=\"/user_uploads/53090/C5x9V3MAKi0JAXFgHpQq-hF5/openapi.yaml\">openapi.yaml</a></p>",
        "id": 441476016,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717081003
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> I made some changes, it seems that to begin with... we never needed the unirest class in there. I am surprised it wouldn't cause an error since we are not using it.</p>",
        "id": 441484198,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717082802
    },
    {
        "content": "<p>Let's wait to hear what <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> reports about his testing with the latest changes</p>",
        "id": 441484356,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717082833
    },
    {
        "content": "<p>At this point I don't think I need to make any other changes so I will go and review Jim's PR</p>",
        "id": 441484764,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717082909
    },
    {
        "content": "<p>Sounds good. The biggest problem now is that tests are failing. I think I saw something about testSingleRecordOaiSet in Slack.</p>",
        "id": 441485485,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717083051
    },
    {
        "content": "<p><span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 441486073,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717083164
    },
    {
        "content": "<p>Here's the thread: <a href=\"https://iqss.slack.com/archives/C010LA04BCG/p1716987433514219\">https://iqss.slack.com/archives/C010LA04BCG/p1716987433514219</a></p>",
        "id": 441486191,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717083191
    },
    {
        "content": "<p>But tests were passing yesterday no?</p>",
        "id": 441495086,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085040
    },
    {
        "content": "<p>I am so confused lol</p>",
        "id": 441495156,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085047
    },
    {
        "content": "<p>this was merged last week <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 441495205,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085060
    },
    {
        "content": "<p>Link me to where tests were passing.</p>",
        "id": 441495490,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717085136
    },
    {
        "content": "<p><span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span> I wasn't looking on the details <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 441497113,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085518
    },
    {
        "content": "<p>Sorry I normally go there when I do QA</p>",
        "id": 441497203,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085531
    },
    {
        "content": "<p>For me the priority is to fix develop. Then merge develop into all PRs.</p>",
        "id": 441498290,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717085840
    },
    {
        "content": "<p><span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 441498377,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085860
    },
    {
        "content": "<p>I can approve as soon as it is done with the tests</p>",
        "id": 441498432,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085874
    },
    {
        "content": "<p><span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 441498507,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717085884
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/ksz-4lZazXMLVIlMCVvXSNLp/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/ksz-4lZazXMLVIlMCVvXSNLp/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/ksz-4lZazXMLVIlMCVvXSNLp/image.png\"></a></div>",
        "id": 441507875,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717088263
    },
    {
        "content": "<p>Nice, yes <a href=\"https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-10600/1/testReport/\">https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-10600/1/testReport/</a> looks good. I always look at the api time. 13 minutes. When the tests don't run, it's only a few seconds.</p>",
        "id": 441516055,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717090485
    },
    {
        "content": "<p>Thanks for approving!</p>",
        "id": 441516115,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717090509
    },
    {
        "content": "<p>Alternate fix: <a href=\"https://github.com/IQSS/dataverse/pull/10601\">https://github.com/IQSS/dataverse/pull/10601</a></p>",
        "id": 441518572,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717091322
    },
    {
        "content": "<p>I just went through the doc and ran a validation. These are the open points:</p>\n<ul>\n<li><code>multipart schema must be an object</code>— All multipart bodies are currently typed as <code>string</code>. This can also be addressed in preprocessing prior to code generation.</li>\n<li><code>items attribute required for arrays in OpenAPI 3.0.X documents</code>- Two array properties do not contain the <code>items</code> key. Also, easy to fix in pre-processing.</li>\n<li><code>duplicate-properties - hTTPUpload (HTTPUpload) will collide with httpUpload (HTTPUpload) [line 11325] when converted to field name</code>- Also addressable in pre-processing.</li>\n</ul>\n<p>Overall looks great to me!</p>",
        "id": 441630800,
        "sender_full_name": "Jan Range",
        "timestamp": 1717138625
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> What do you think? <span aria-label=\"looking\" class=\"emoji emoji-1f440\" role=\"img\" title=\"looking\">:looking:</span></p>",
        "id": 441703222,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717161081
    },
    {
        "content": "<p>I just saw the reminder again that he is off today <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 441703653,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717161199
    },
    {
        "content": "<p>We got an answer from vacuum:</p>\n<div class=\"codehilite\"><pre><span></span><code>The regular expressions supported by vacuum are ECMA-262 compatible only. This is because we use a built in JavaScript engine to compile the regular expression. If it fails - the pattern is no good and does not conform to the standard.\n</code></pre></div>\n<p>I also asked chat GPT about our regex <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> </p>\n<div class=\"codehilite\"><pre><span></span><code>The regular expression ^[^:&lt;&gt;;#/\\&quot;\\\\*\\\\|\\\\?\\\\\\\\]*$ is not valid according to the ECMA-262 (ECMAScript) standard. Let me explain why:\n\nCharacter Classes and Negation:\nIn ECMA-262, character classes (denoted by square brackets) allow you to specify a set of characters that match any one character from that set.\nHowever, the negation (^ inside the brackets) is not allowed within character classes. In other words, you cannot negate the entire set of characters using [^...] in a character class.\nEscape Sequences:\nSome of the characters in the expression are correctly escaped (e.g., \\\\, \\&quot;), but others are not (e.g., *, |, ?).\nIn ECMA-262, special characters should be escaped using a single backslash (\\). For example, \\\\, \\&quot;, and \\* are valid escape sequences.\nQuantifier Position:\nThe * quantifier (zero or more occurrences) should be placed after the character set, not directly after the start anchor ^.\nValid: ^[^:&lt;&gt;;#/\\&quot;\\\\*\\\\|\\\\?\\\\\\\\]*$\nInvalid: ^[^:&lt;&gt;;#/\\&quot;\\\\*\\\\|\\\\?\\\\\\\\]*$\nValid Alternative:\nIf you want to match any string that does not contain the specified special characters, you can use the following valid expression:\n/^[^:&lt;&gt;;#/\\&quot;*|?\\\\]*$/\n</code></pre></div>",
        "id": 441709695,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717162757
    },
    {
        "content": "<p>I guess we will have to talk about ECMA 262 regex on tech hours <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 441710880,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717163025
    },
    {
        "content": "<p>Is it a bug in SmallRye? Should they be translating a Java regex into a ECMA-262 regex?</p>",
        "id": 442273252,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717425715
    },
    {
        "content": "<p>I don't think it is a bug</p>",
        "id": 442273728,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717425829
    },
    {
        "content": "<p>It seems our regex are just for Java which would make sense if we are using only java</p>",
        "id": 442273861,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717425854
    },
    {
        "content": "<p>but since this is an endpoint used with JSON and JS frameworks probably we should standardize to use ECMA-262 regex</p>",
        "id": 442274040,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717425900
    },
    {
        "content": "<p>So we should improve our regex. Do you want to create an issue for that?</p>",
        "id": 442274555,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717426014
    },
    {
        "content": "<p>Sure! <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 442275361,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717426196
    },
    {
        "content": "<p>In that issue we should also mention that people want non-ASCII characters in filenames. DataLad for example: <a href=\"https://docs.datalad.org/projects/dataverse/en/latest/settingup.html#dataverse-limitations\">https://docs.datalad.org/projects/dataverse/en/latest/settingup.html#dataverse-limitations</a> </p>\n<p>\"Dataverse will not accept names like <code>Änderungen</code> or <code>Déchiffrer</code>, due to the <code>Ä</code> and <code>é</code> in them.\"</p>",
        "id": 442275779,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717426285
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/issues/10607\">https://github.com/IQSS/dataverse/issues/10607</a></p>",
        "id": 442285224,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717428226
    },
    {
        "content": "<p>Branch is updated so let's see Jenkins is being good today <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 442285389,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717428252
    },
    {
        "content": "<p>Seems that all tests passed <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 442338030,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717439582
    },
    {
        "content": "<p><a href=\"/user_uploads/53090/WuA3P8dswGP-3N-zCVZLmiec/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/WuA3P8dswGP-3N-zCVZLmiec/image.png\" title=\"image.png\"><img src=\"/user_uploads/53090/WuA3P8dswGP-3N-zCVZLmiec/image.png\"></a></div>",
        "id": 442338046,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717439587
    },
    {
        "content": "<p>/me looks at <a href=\"https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-10328/41/testReport/\">https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-10328/41/testReport/</a></p>",
        "id": 442340258,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717440146
    },
    {
        "content": "<p>Yep, the main thing I look for is that the API tests actually ran. 13 minutes. Good.</p>",
        "id": 442340330,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717440167
    },
    {
        "content": "<p>approved</p>",
        "id": 442341082,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717440367
    },
    {
        "content": "<p>merged: <a href=\"https://github.com/IQSS/dataverse/pull/10328\">https://github.com/IQSS/dataverse/pull/10328</a></p>",
        "id": 443058065,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717680470
    },
    {
        "content": "<p>We should do a Merge Party! Great work <span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span>  and <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span></p>",
        "id": 443058305,
        "sender_full_name": "Jan Range",
        "timestamp": 1717680516
    },
    {
        "content": "<p>OMG!!! this definitely needs a party, now looking forward to make improvements <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 443058794,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717680594
    },
    {
        "content": "<p>I will supply the beer <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 443059018,
        "sender_full_name": "Jan Range",
        "timestamp": 1717680624
    },
    {
        "content": "<p>And here it is! <a href=\"https://beta.dataverse.org/openapi\">https://beta.dataverse.org/openapi</a></p>",
        "id": 443074400,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717684192
    },
    {
        "content": "<p>And actually, <span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> I know we talked about where you can get the latest openapi YAML file. Is <a href=\"https://beta.dataverse.org/openapi\">https://beta.dataverse.org/openapi</a> good enough for your purposes? It should usually be available just a few minutes after a PR is merged into the develop branch.</p>",
        "id": 443074664,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717684257
    },
    {
        "content": "<p>Also there are Integration Tests on this pr so if something breaks we will know <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 443074920,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1717684325
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> Of course, this is perfect! Totally forgot about the beta instance <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 443075875,
        "sender_full_name": "Jan Range",
        "timestamp": 1717684593
    },
    {
        "content": "<p>Yeah, me too. JP reminded me. Seems like a good solution, at least for the latest in develop.</p>",
        "id": 443075983,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717684625
    },
    {
        "content": "<p>I still think that at release time we might want to push that version into the guides or maybe as an artifact of the release. Not sure. Not sure if it would be useful or not, honestly.</p>",
        "id": 443076276,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717684692
    },
    {
        "content": "<p>But I guess that could be a new Zulip topic. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 443076326,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1717684710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> I just left you a comment: <a href=\"https://github.com/IQSS/dataverse/issues/9982#issuecomment-2168206837\">https://github.com/IQSS/dataverse/issues/9982#issuecomment-2168206837</a></p>",
        "id": 444716710,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718376646
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"658065\">@Dimitri Szabo</span> thanks for reminds us about these older issues that are still open: <a href=\"https://github.com/IQSS/dataverse/pull/10328#issuecomment-2168073456\">https://github.com/IQSS/dataverse/pull/10328#issuecomment-2168073456</a></p>",
        "id": 444716827,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718376677
    },
    {
        "content": "<p>Yes! Thanks <span class=\"user-mention\" data-user-id=\"658065\">@Dimitri Szabo</span></p>",
        "id": 444716851,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718376687
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"658065\">@Dimitri Szabo</span> do you know the person who opened <a href=\"https://github.com/IQSS/dataverse/issues/9612\">https://github.com/IQSS/dataverse/issues/9612</a> ?</p>",
        "id": 444716900,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718376704
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> does <a href=\"https://redocly.com/docs/cli/installation/#docker\">https://redocly.com/docs/cli/installation/#docker</a> work for you?</p>",
        "id": 444717192,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718376792
    },
    {
        "content": "<p>Haven't tested</p>",
        "id": 444717270,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718376823
    },
    {
        "content": "<p>I was using vacuum mostly for validation <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 444717378,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718376849
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"by\"><pre><span></span><code>we suspect an infinite loop at the component level, because there are LOTS of them, and when trying to display the structure of a response from an endpoint it crashes.```\n</code></pre></div>",
        "id": 444717500,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718376888
    },
    {
        "content": "<p>UNC still has the older version of payara where the spec is there</p>",
        "id": 444717639,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718376934
    },
    {
        "content": "<p>And we were able to validate that one with vacuum</p>",
        "id": 444717677,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718376949
    },
    {
        "content": "<p>I'm getting \"openapi.yaml does not exist or is invalid.\"</p>",
        "id": 444717925,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718377003
    },
    {
        "content": "<p>With redocly?</p>",
        "id": 444718070,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377048
    },
    {
        "content": "<p>yeah</p>",
        "id": 444718264,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718377107
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>docker run --rm -v $PWD:/spec redocly/cli lint openapi.yaml\n</code></pre></div>",
        "id": 444718299,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718377119
    },
    {
        "content": "<p>\"does not exist or is invalid.\" Is kind of anoying error message lol</p>",
        "id": 444718645,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377209
    },
    {
        "content": "<p>\"Guys we can only affort to put one error message on this application so make it count\" <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 444718806,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377246
    },
    {
        "content": "<p>I guess does not exist probably was meant that the \"spec\" itself doesn't exist ont he document but it is finding the file <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 444718943,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377286
    },
    {
        "content": "<p>I want to try the IBM one</p>",
        "id": 444718980,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377298
    },
    {
        "content": "<p>Yeah, I don't know why redocly doesn't work for me. Oh well.</p>",
        "id": 444719240,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718377355
    },
    {
        "content": "<p>It actually worked for me</p>",
        "id": 444720218,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377590
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>&lt; ... 1391 more problems hidden &gt; increase with `--max-problems N`\nopenapi.yaml: validated in 206ms\n\n❌ Validation failed with 957 errors and 534 warnings.\nrun `redocly lint --generate-ignore-file` to add all problems to the ignore file.\n</code></pre></div>",
        "id": 444720316,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377619
    },
    {
        "content": "<p>This is the one validated from UNC:</p>",
        "id": 444720618,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377698
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>&lt; ... 1093 more problems hidden &gt; increase with `--max-problems N`\nopenapi.yaml: validated in 167ms\n\n❌ Validation failed with 804 errors and 389 warnings.\nrun `redocly lint --generate-ignore-file` to add all problems to the ignore file.\n</code></pre></div>",
        "id": 444720632,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718377703
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/444716900\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"658065\">Dimitri Szabo</span> do you know the person who opened <a href=\"https://github.com/IQSS/dataverse/issues/9612\">https://github.com/IQSS/dataverse/issues/9612</a> ?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> <a href=\"https://github.com/sirineREKIK\">sirineREKIK</a> is a former team member, we (<span class=\"user-mention\" data-user-id=\"709277\">@Steven Ferey</span> + <span class=\"user-mention\" data-user-id=\"651106\">@Jérôme Roucou</span> + me) are in charge now</p>",
        "id": 444722109,
        "sender_full_name": "luddaniel",
        "timestamp": 1718378142
    },
    {
        "content": "<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/GxN2eyXi1TLJRh5aoaE2Vt6J/incharge.jpg\"><img src=\"/user_uploads/53090/GxN2eyXi1TLJRh5aoaE2Vt6J/incharge.jpg\"></a></div>",
        "id": 444723403,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718378489
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648750\">@Juan Pablo Tosca Villanueva</span> thanks, when I'm back in the office I'll ask you to show me what I'm doing wrong. <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 444723616,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718378548
    },
    {
        "content": "<p>Want to get on a zoom call? I just copy pasted your command lol</p>",
        "id": 444723782,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718378603
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"649905\">@luddaniel</span> is it ok if we close <a href=\"https://github.com/IQSS/dataverse/issues/9612\">https://github.com/IQSS/dataverse/issues/9612</a> ? It was opened with the old format (generated by Payara). Your team could open a fresh issue if you want for the new format (generated by SmallRye).</p>",
        "id": 444725505,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718379046
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>docker run \\\n  --rm --tty \\\n  --volume &quot;$PWD:/data:ro&quot; \\\n  ibmdevxsdk/openapi-validator:latest \\\n    --ruleset ruleset.yaml \\\n    openapi.yaml\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>Summary:\n  Total number of errors   : 502\n  Total number of warnings : 5567\n</code></pre></div>",
        "id": 444726842,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718379427
    },
    {
        "content": "<p>That is from IBM on UNC's yaml</p>",
        "id": 444726898,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718379445
    },
    {
        "content": "<p>New openapi:</p>\n<div class=\"codehilite\"><pre><span></span><code>Summary:\n  Total number of errors   : 650\n  Total number of warnings : 5824\n</code></pre></div>",
        "id": 444727229,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718379539
    },
    {
        "content": "<p>More errors and warnings with the new openapi? <img alt=\":doh:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/48103.png\" title=\"doh\"></p>",
        "id": 444728962,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718379993
    },
    {
        "content": "<p>I posted on the issue</p>",
        "id": 444729965,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718380253
    },
    {
        "content": "<p>And the answer is \"depends who you ask\"</p>",
        "id": 444730022,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718380263
    },
    {
        "content": "<p>Each tool just throws you a different set of metrics</p>",
        "id": 444730733,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718380404
    },
    {
        "content": "<p><a href=\"https://github.com/IQSS/dataverse/issues/9612#issuecomment-2168307243\">https://github.com/IQSS/dataverse/issues/9612#issuecomment-2168307243</a></p>",
        "id": 444730867,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718380432
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"599841\">@Jan Range</span> does some post-processing of the document so we could add something like that but I would just go and fix the problem from the root but that is what we mentioned will require a lot of work and will take time <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 444732006,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718380666
    },
    {
        "content": "<p>Nice comment. Since sirineREKIK left I think I'd prefer fresh issues from a current stakeholder such as <span class=\"user-mention\" data-user-id=\"649905\">@luddaniel</span> </p>\n<p>And ideally the issues would be small enough that we can size them to fit in a sprint.</p>\n<p>That way, bit by bit, we can resolve the errors over time.</p>",
        "id": 444734191,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718381101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/379673-dev/topic/.2Fopenapi.20broken.20in.206.2E0/near/444725505\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"649905\">luddaniel</span> is it ok if we close <a href=\"https://github.com/IQSS/dataverse/issues/9612\">https://github.com/IQSS/dataverse/issues/9612</a> ? It was opened with the old format (generated by Payara). Your team could open a fresh issue if you want for the new format (generated by SmallRye).</p>\n</blockquote>\n<p>you can close it :)</p>",
        "id": 444734425,
        "sender_full_name": "luddaniel",
        "timestamp": 1718381152
    },
    {
        "content": "<p>2 issues no code, what a great job team <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 444736276,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381505
    },
    {
        "content": "<p>Closed! Thanks! I see <span class=\"user-mention\" data-user-id=\"651106\">@Jérôme Roucou</span> left a follow up comment saying things are better. He can display the docs.</p>",
        "id": 444736596,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718381566
    },
    {
        "content": "<p>Jokes aside we want to get this OpenAPI in a better place for everyone and we will work to do that as soon as we can <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 444736625,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381571
    },
    {
        "content": "<p>I saw that! <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 444736746,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381591
    },
    {
        "content": "<p>I'm not sure how we decide which errors to fix first. I guess we'll let the people who use it tell us. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 444737212,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718381675
    },
    {
        "content": "<p>We can make a raffle</p>",
        "id": 444737461,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381725
    },
    {
        "content": "<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 444737476,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381729
    },
    {
        "content": "<p>Pick a number between 1 and 5824</p>",
        "id": 444737638,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381762
    },
    {
        "content": "<p><span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 444737688,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381767
    },
    {
        "content": "<p>1337</p>",
        "id": 444737844,
        "sender_full_name": "luddaniel",
        "timestamp": 1718381799
    },
    {
        "content": "<p>There you are <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 444737923,
        "sender_full_name": "Juan Pablo Tosca Villanueva",
        "timestamp": 1718381816
    },
    {
        "content": "<p>We'll beg the community to fix our bugs. That's my usual approach. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 444738514,
        "sender_full_name": "Philip Durbin 🚀",
        "timestamp": 1718381932
    }
]