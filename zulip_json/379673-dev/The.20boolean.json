[
    {
        "content": "<p>Hello!!!<br>\nAs requested by Philip, I write here and continue conversation on issue: <a href=\"https://github.com/IQSS/dataverse/issues/7961#issuecomment-1834667463\">https://github.com/IQSS/dataverse/issues/7961#issuecomment-1834667463</a></p>\n<p>Any files in the source code, I should look at to implement \"the boolean\", it sounds scary ;)</p>",
        "id": 405225599,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1701386247
    },
    {
        "content": "<p>This is a commit for an old Version of Dataverse 4.20, but probably most of it is still true. Line numbers are probably not correct anymore. The validator has been updated since and the test might exist, so potentially ignore that part. Still, hopefully provides some pointers. <a href=\"https://jugit.fz-juelich.de/fdm/dev/dataverse/-/commit/d4aece03aebcf9c2237aa7842c17c0d96af6a79a\">https://jugit.fz-juelich.de/fdm/dev/dataverse/-/commit/d4aece03aebcf9c2237aa7842c17c0d96af6a79a</a></p>",
        "id": 405285994,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1701411452
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"671269\">@AsbjÃ¸rn SkÃ¸dt</span> please take a look at the commit by <span class=\"user-mention\" data-user-id=\"598183\">@Oliver Bertuch</span> above and let us know if you have any questions!</p>",
        "id": 405351053,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1701433008
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/379673-dev/topic/The.20boolean/near/405351053\">sagde</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"671269\">AsbjÃ¸rn SkÃ¸dt</span> please take a look at the commit by <span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> above and let us know if you have any questions!</p>\n</blockquote>\n<p>I will look at it and get back to you!</p>",
        "id": 406050939,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1701781133
    },
    {
        "content": "<p>Hello, is the name of the new datatype most appropriately \"boolean\" or \"checkbox\"?<br>\n\"Boolean\" is more true to the datatype in programming languages, however \"checkbox\" is  more semantically meaningful in a website context and hence user-friendly.</p>",
        "id": 408702324,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1702942298
    },
    {
        "content": "<p>I'd go with \"boolean\". This is deep in the system and will also be accessed via API, where there are no checkboxes, just data. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 408707694,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702944866
    },
    {
        "content": "<p>Thx!!!</p>",
        "id": 408709203,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1702945402
    },
    {
        "content": "<p>How should no value (null) be handled?</p>\n<ol>\n<li>convert null to default value \"false\" (however, what if you want default to be true?)</li>\n<li>value is invalid and reports validation error</li>\n</ol>",
        "id": 408749823,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1702957322
    },
    {
        "content": "<ol start=\"3\">\n<li>as a user i don't want to provide an answer (value), so null should stay null</li>\n</ol>",
        "id": 408750305,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1702957404
    },
    {
        "content": "<p>Hmm. Good question. In Java there's the idea of \"optional\" in order to avoid nulls. Maybe we could use that pattern?</p>",
        "id": 408930935,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702991405
    },
    {
        "content": "<p>But yeah, I think in most people minds there are actually three values: true, false, or unspecified. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 408930997,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702991436
    },
    {
        "content": "<p>I mean, should we consider having two new data types: a true boolean vs. a nullable boolean?</p>",
        "id": 408942074,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1702995131
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"671269\">@AsbjÃ¸rn SkÃ¸dt</span> don't look now! A new PR! Custom metadata support boolean values <a href=\"https://github.com/IQSS/dataverse/issues/10480\">#10480</a></p>",
        "id": 432583897,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712782608
    },
    {
        "content": "<p>Do you want to QA it for us? Or at least review it? <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 432583963,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712782635
    },
    {
        "content": "<p>Hi. If you have any questions about the PR I can answer them here or directly into it.</p>",
        "id": 432649662,
        "sender_full_name": "JÃ©rÃ´me Roucou",
        "timestamp": 1712823062
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"651106\">@JÃ©rÃ´me Roucou</span> for the UI, it's a text input. Did you consider any alternatives such as radio buttons or a drop down? Something where you don't have to type? <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 432685511,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712835542
    },
    {
        "content": "<p>Checkbox?</p>",
        "id": 432685937,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712835700
    },
    {
        "content": "<p>Or a checkbox, sure.</p>",
        "id": 432686588,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712835939
    },
    {
        "content": "<p>I'd considered a checkbox too, but not being sure about the original need. So I left a simple input text field. But a checkbox can only be true or false, not null.</p>",
        "id": 432691839,
        "sender_full_name": "JÃ©rÃ´me Roucou",
        "timestamp": 1712837599
    },
    {
        "content": "<p>Well, <span class=\"user-mention\" data-user-id=\"671269\">@AsbjÃ¸rn SkÃ¸dt</span> has an actual need. Maybe he can enlighten us.</p>",
        "id": 432698118,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712839696
    },
    {
        "content": "<p>Or maybe I can remember what it was. <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 432698143,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712839705
    },
    {
        "content": "<p>Interesting. <code>scripts/api/data/metadatablocks/custom_hbgdki.tsv</code> has a dropdown:</p>\n<p><a href=\"/user_uploads/53090/Zo62Rfbi6YuoXCIynnarcVRp/2c50f3a8-83d1-11e5-8ae1-85d1599278fd.png\">2c50f3a8-83d1-11e5-8ae1-85d1599278fd.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/53090/Zo62Rfbi6YuoXCIynnarcVRp/2c50f3a8-83d1-11e5-8ae1-85d1599278fd.png\" title=\"2c50f3a8-83d1-11e5-8ae1-85d1599278fd.png\"><img src=\"/user_uploads/53090/Zo62Rfbi6YuoXCIynnarcVRp/2c50f3a8-83d1-11e5-8ae1-85d1599278fd.png\"></a></div><p>From this issue (which I closed in favor of <a href=\"https://github.com/IQSS/dataverse/issues/7961\">#7961</a>): Metadata: Support radio buttons for Yes / No responses <a href=\"https://github.com/IQSS/dataverse/issues/2727\">#2727</a></p>",
        "id": 432698747,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712839872
    },
    {
        "content": "<p>I just encouraged the community to take a look at the PR and this Zulip thread: <a href=\"https://groups.google.com/g/dataverse-community/c/9-T3jtd03tY/m/294KXvwaAQAJ\">https://groups.google.com/g/dataverse-community/c/9-T3jtd03tY/m/294KXvwaAQAJ</a></p>",
        "id": 432699968,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712840219
    },
    {
        "content": "<p>Oh thanks ! <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> On this conversation dropdown seems to be appreciated</p>",
        "id": 432700885,
        "sender_full_name": "JÃ©rÃ´me Roucou",
        "timestamp": 1712840482
    },
    {
        "content": "<p><a href=\"http://www.primefaces.org/showcase/ui/input/triStateCheckbox.xhtml?jfwid=b8c01\">http://www.primefaces.org/showcase/ui/input/triStateCheckbox.xhtml?jfwid=b8c01</a></p>",
        "id": 432701012,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712840518
    },
    {
        "content": "<p>Also available in React: <a href=\"https://dev.to/gsto/how-to-build-an-indeterminate-checkbox-in-react-kbh\">https://dev.to/gsto/how-to-build-an-indeterminate-checkbox-in-react-kbh</a></p>",
        "id": 432701236,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712840582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598447\">@Ellen K</span> <span class=\"user-mention\" data-user-id=\"598442\">@Guillermo Portas</span> any opinions on how a boolean input should look in React?</p>",
        "id": 432701945,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712840790
    },
    {
        "content": "<p>We have been using React Bootstrap for our basic input components (wrapping them in our design system) so I would try that first.  They have a component here that we could look at <a href=\"https://react-bootstrap.netlify.app/docs/forms/checks-radios/\">https://react-bootstrap.netlify.app/docs/forms/checks-radios/</a></p>",
        "id": 432703234,
        "sender_full_name": "Ellen K",
        "timestamp": 1712841189
    },
    {
        "content": "<p>Perfect. Thanks, Ellen!</p>",
        "id": 432703357,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712841238
    },
    {
        "content": "<p>Would this help <span class=\"user-mention\" data-user-id=\"598447\">@Ellen K</span>  ? <a href=\"https://stackoverflow.com/a/70434396\">https://stackoverflow.com/a/70434396</a></p>",
        "id": 432704098,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712841514
    },
    {
        "content": "<p>If we want to represent a boolean that is optional, and record the difference between 'false' and null then I think a simple 2 button radio will work, right?  So I don't think we need to have an a customized checkbox, unless I'm missing something</p>",
        "id": 432705709,
        "sender_full_name": "Ellen K",
        "timestamp": 1712842004
    },
    {
        "content": "<p>This is great!!!<br>\nYes, for sure I want to help out. I'll take a look.</p>\n<p>If curious, this is some code I wrote on the issue some months back, but never got around to fully deal with the nullable dilemma: <a href=\"https://github.com/IQSS/dataverse/commit/0862bcc4aafcb58120d4e4847626c2a7e359f804\">https://github.com/IQSS/dataverse/commit/0862bcc4aafcb58120d4e4847626c2a7e359f804</a><br>\nI suggest we leave this code behind and continue focus on Jerome's PR. If I am late to responding in the future, please do not delay any QA or review on my behalf.</p>\n<p>With regards to UI implementation, I think it should either be a dropdown or radio button approach, in order to deal with the nullability dilemma. A checkbox can, unfortunately, not properly deal with nullability (or rather a false statement), and a checkbox cannot be required.</p>\n<p>The dropdown/radio buttons may have three value options which in the backend would equate to \"True\", \"False\" and \"Null\". In the UI these may be written as \"Yes\", \"No\" and \"Blank\" or left customizable by the metadatablock.</p>\n<p>These are my thoughts atm. What do you think?</p>",
        "id": 432721521,
        "sender_full_name": "AsbjÃ¸rn SkÃ¸dt",
        "timestamp": 1712846428
    },
    {
        "content": "<p>I think I said this in Mexico but we could have two types, if we need them:</p>\n<ul>\n<li>nullableBoolean</li>\n<li>nonNullableBoolean</li>\n</ul>\n<p>But I don't know if we need both. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 432722619,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712846688
    },
    {
        "content": "<p>non-nullable bool is the same as required nullable bool</p>",
        "id": 432724653,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712847186
    },
    {
        "content": "<p>For nonNullableBoolean (requiredNullableBoolean) there should be a default value.</p>",
        "id": 432730071,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712848686
    },
    {
        "content": "<p>I remember <span class=\"user-mention\" data-user-id=\"671269\">@AsbjÃ¸rn SkÃ¸dt</span> 's use case: The question was \"Should this dataset be archived in our archival system?\" And the default value should be false.</p>",
        "id": 432730790,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712848860
    },
    {
        "content": "<p>There was an issue about having default values as part of the TSV, aye?</p>",
        "id": 432732628,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712849361
    },
    {
        "content": "<p>I'd say go for that and don't imply an implicit default, just specify it in the field</p>",
        "id": 432732692,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1712849383
    },
    {
        "content": "<p>We just talked about this a bit in the frontend meeting. <span class=\"user-mention\" data-user-id=\"690603\">@Gustavo Durand</span> pointed out that one way to set default values is with dataset templates.</p>",
        "id": 432734835,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712849919
    },
    {
        "content": "<p>But yeah, maybe it should be possible to specify a default value in the tsv.</p>",
        "id": 432734933,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1712849946
    }
]