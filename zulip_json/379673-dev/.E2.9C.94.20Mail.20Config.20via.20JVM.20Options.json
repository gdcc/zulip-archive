[
    {
        "content": "<p>To conclude our <a href=\"https://docs.google.com/document/d/14DHDB24Cp_kzpYqhHCKCtnzOw8_WuLOOONyqJHSsaYM/edit#heading=h.ewfq9hmupn7j\">milestone C</a> for the time being (we could do so much more with the bootstrap scripts and refactor them into smaller, reusable pieces), an option to configure your mail MTA with Dataverse directly needs to be implemented. Here we go: <a href=\"https://github.com/IQSS/dataverse/pull/9939\">https://github.com/IQSS/dataverse/pull/9939</a></p>",
        "id": 392117212,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695216360
    },
    {
        "content": "<p>Wow, look at <code>create-javamail-resource</code> going away!</p>",
        "id": 392118526,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695216751
    },
    {
        "content": "<p>I just put it on tomorrow's agenda: <a href=\"https://ct.gdcc.io\">https://ct.gdcc.io</a></p>",
        "id": 392119228,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695216986
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 392119232,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695216987
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598112\">Philip Durbin</span> <a href=\"#narrow/stream/375812-containers/topic/mail.20config.2C.20milestone.20c/near/392119228\">said</a>:</p>\n<blockquote>\n<p>I just put it on tomorrow's agenda: <a href=\"https://ct.gdcc.io\">https://ct.gdcc.io</a></p>\n</blockquote>\n<p>Please note: I will not attend tomorrow - schedule conflict, need to do kids logistics.</p>",
        "id": 392139127,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695222866
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <a href=\"#narrow/stream/375812-containers/topic/mail.20config.2C.20milestone.20c/near/392117212\">said</a>:</p>\n<blockquote>\n<p>To conclude our <a href=\"https://docs.google.com/document/d/14DHDB24Cp_kzpYqhHCKCtnzOw8_WuLOOONyqJHSsaYM/edit#heading=h.ewfq9hmupn7j\">milestone C</a> ... <a href=\"https://github.com/IQSS/dataverse/pull/9939\">https://github.com/IQSS/dataverse/pull/9939</a></p>\n</blockquote>\n<p>Ok, good. This is what I said in the meeting today. That we can declare milestone C done when we merge this. (<span class=\"user-mention\" data-user-id=\"598447\">@Ellen K</span> had asked what else we need for milestone C.)</p>",
        "id": 392373410,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695320329
    },
    {
        "content": "<p>Hey that's what I thought! <span aria-label=\"smile cat\" class=\"emoji emoji-1f638\" role=\"img\" title=\"smile cat\">:smile_cat:</span></p>",
        "id": 392381850,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1695323750
    },
    {
        "content": "<p>Awesome. Can't wait to close that milestone.</p>",
        "id": 392387651,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1695326260
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> <span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span>  would you agree that someone configuring the system mail via MPCONFIG wants it to take precedence over the database setting (which is going to be deprecated)?</p>",
        "id": 395253059,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696596554
    },
    {
        "content": "<p>Yep.</p>",
        "id": 395253437,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696596683
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> I... think so? (do <code>jvm-option</code>s still take precedence?)</p>",
        "id": 395256119,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1696597560
    },
    {
        "content": "<p>The \"from\" of the create-javamail-resource will be gone and no longer work once people migrate their settings. I'm adding backward compatibility to make the transition smoother</p>",
        "id": 395256765,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696597757
    },
    {
        "content": "<p>I want to add a startup check to look into the session and see if a \"from\" is present. If so and different from the setting, will fail deployment.</p>",
        "id": 395257011,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696597836
    },
    {
        "content": "<p>Gosh the MailServiceBean is really something. <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 395270385,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696602120
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"626369\">@Don Sizemore</span> <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span> it looks like until now, the system email address was kind of optional. If you don't set it, fine, just don't expect any mails. Is that how it's supposed to be? Because then the future startup check will only print warnings, but not fail the  deployment.</p>\n<p>(Example where things are mentioned and/or programmed as being optional are <a href=\"https://github.com/poikilotherm/dataverse/blob/2178c839a2fceb2e678c7a58d30ab91e19ea536c/src/main/java/edu/harvard/iq/dataverse/harvest/server/web/servlet/OAIServlet.java#L196-L196\">here</a> and <a href=\"https://github.com/IQSS/dataverse/blob/7e0738e871e14bfe2d5d8607ecc3457d93f16143/src/main/java/edu/harvard/iq/dataverse/MailServiceBean.java#L129\">here</a> - also it is not consistent... The <code>sendMail()</code> used by feedback feature does not skip when it's not there... (might result in interesting errors))</p>",
        "id": 395274656,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696603375
    },
    {
        "content": "<p>That second \"here\" is the one I'm familiar with. In a classic dev environment, :SystemEmail is not set and a developer can relax, knowing that no emails are being sent.</p>",
        "id": 395277347,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696604285
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> <span class=\"user-mention\" data-user-id=\"598112\">@Philip Durbin</span>  I've honestly never installed Dataverse _without_ those two settings in place (and the service available) - I've always assumed they were required. I've seen Dataverse block on certain actions when the SMTP relay wasn't available, for instance.</p>",
        "id": 395278371,
        "sender_full_name": "Don Sizemore",
        "timestamp": 1696604605
    },
    {
        "content": "<p>Well, my money is on most of the core devs not having :SystemEmail set.</p>",
        "id": 395278593,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696604672
    },
    {
        "content": "<p>It sounds like that this would be a setting that is kind of required in a production context, but not in a dev context.</p>",
        "id": 395280836,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696605420
    },
    {
        "content": "<p>But fine. There will be a warning in the logs. The current mail code does only do \"fine\" logging when skipping, so a one time warning when deploying should be more than what people get now...</p>",
        "id": 395281126,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696605517
    },
    {
        "content": "<p>(So a prod env can see and react, a dev can ignore)</p>",
        "id": 395281177,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696605536
    },
    {
        "content": "<p>Does that sound like a good compromise?</p>",
        "id": 395281248,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696605565
    },
    {
        "content": "<p>Actually this is becoming kind of a more general dev topic, moving it to that stream...</p>",
        "id": 395281380,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696605604
    },
    {
        "content": "<p>Sure. Sounds fine. I mean, until only a few months ago when we got Docker and MailDev, I was one of the core developers who had :SystemEmail not set and the assumption that I wasn't sending out email inadvertently. So until we get most devs moved over to Docker it probably makes sense to support the old behavior they expect.</p>",
        "id": 395285678,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696606838
    },
    {
        "content": "<p>Of course. Always stay backward compatible and try not to create breaking changes in behaviour when not doing a major release</p>",
        "id": 395286156,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1696607001
    },
    {
        "content": "<p>Principle of least surprise <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 395286589,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1696607123
    },
    {
        "content": "<p>PR <a href=\"https://github.com/IQSS/dataverse/issues/9939\">#9939</a> merged! Thanks, Oliver!</p>",
        "id": 429712177,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1711476459
    },
    {
        "content": "<p>Finally!</p>",
        "id": 429731235,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711483754
    },
    {
        "content": "<p>Took us long enough</p>",
        "id": 429731250,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1711483761
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598183\">Oliver Bertuch</span> has marked this topic as resolved.</p>",
        "id": 429731290,
        "sender_full_name": "Notification Bot",
        "timestamp": 1711483779
    }
]