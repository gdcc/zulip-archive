[
    {
        "content": "<p>At the moment, the only existing plugins are exporters. For those, the contract offers transfering either DataCite XML, Dataverse JSON or JSON-LD from the core to them. It's up to the plugin to parse this and do something useful with it.</p>\n<p>This is a lot of work for plugin authors and needs to be done over and over again, so also maintained over and over again. What I suggest instead: we should have proper, centralized Dataverse Data Transfer Objects (DDTOs), putting a contract not only on the API but also on the data. That way the core provides the data in a centralized, coordinated manner both sides can agree on.</p>\n<p>Of course these DDTOs must be filled with data going out or \"parsed\" when coming into the core code. I was wondering if a tool like <a href=\"https://mapstruct.org/\">MapStruct</a> may help with that? <span class=\"user-mention\" data-user-id=\"928391\">@Sjaak Derksen</span> as one of the former maintainers of that codebase, WDYT?</p>",
        "id": 568420072,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768565586
    },
    {
        "content": "<p>On a related note, currently plugin authors need to be aware of rules implemented in Dataverse that may be non-obvious.</p>\n<p>For example, the Croissant exporter I built was exposing names of variables in restricted files before I pushed <a href=\"https://github.com/gdcc/exporter-croissant/pull/20\">a fix</a>. Can whatever framework we offer plugin authors help manage complexity like this?</p>\n<p>Can the plugin author pass a \"public data only, please\" flag, for example, to avoid leaking restricted data?</p>",
        "id": 568421962,
        "sender_full_name": "Philip Durbin ðŸš€",
        "timestamp": 1768566224
    },
    {
        "content": "<p>If we shape the DTOs and API contracts that way, it sure can!</p>",
        "id": 568424553,
        "sender_full_name": "Oliver Bertuch",
        "timestamp": 1768567069
    }
]