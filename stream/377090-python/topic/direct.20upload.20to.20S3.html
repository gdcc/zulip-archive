<html>
<head><meta charset="utf-8"><title>direct upload to S3 Â· python Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/index.html">python</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html">direct upload to S3</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="342169469"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342169469" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342169469">(Mar 15 2023 at 21:24)</a>:</h4>
<p>There's a nice "direct upload to S3" script at <a href="https://github.com/IQSS/dataverse.harvard.edu/tree/3fc9bfe9a171b2f7546ad44b1114f5c3920907d1/util/python/direct-upload">https://github.com/IQSS/dataverse.harvard.edu/tree/3fc9bfe9a171b2f7546ad44b1114f5c3920907d1/util/python/direct-upload</a></p>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> how do you feel about adding it to easyDataverse or pyDataverse?</p>
<p>I just checked with Leonid and he's cool with it. It should like you two even discussed it already. The only caveat, he said, is that it doesn't support multipart S3 upload. This is mentioned already in the README. ^^</p>



<a name="342171800"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342171800" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342171800">(Mar 15 2023 at 21:39)</a>:</h4>
<p>Yes, already put this in my ToDo's for this and next week. Does Demo Dataverse allow direct uploads already?</p>



<a name="342174737"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342174737" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342174737">(Mar 15 2023 at 21:58)</a>:</h4>
<p>Yes, it does. But if you have any trouble at all, please ping me!</p>



<a name="342174768"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342174768" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342174768">(Mar 15 2023 at 21:58)</a>:</h4>
<p>Should I create the issue in the easyDataverse repo or the pyDataverse repo?</p>



<a name="342177852"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342177852" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342177852">(Mar 15 2023 at 22:19)</a>:</h4>
<p>Lets go for pyDataverse, I think its best suited for</p>



<a name="342282046"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342282046" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342282046">(Mar 16 2023 at 11:26)</a>:</h4>
<p>Ah, the person who wants this gave it a <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="342282702"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342282702" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342282702">(Mar 16 2023 at 11:29)</a>:</h4>
<p>Perfect <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span> In this case we may not need to create a new issue as it has already been pointed out in <a href="https://github.com/gdcc/pyDataverse/issues/136">#136</a></p>



<a name="342316820"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/342316820" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ceilyn Boyd <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#342316820">(Mar 16 2023 at 13:48)</a>:</h4>
<p>Just added this issue: <a href="https://github.com/gdcc/pyDataverse/issues/157">https://github.com/gdcc/pyDataverse/issues/157</a></p>



<a name="343342131"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343342131" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343342131">(Mar 21 2023 at 11:25)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> as Phil says, <a href="http://demo.dataverse.org">demo.dataverse.org</a> does support direct upload, but I don't believe that's the "default" datastore. be certain to ask (Kevin or Leonid) which datastore your collection is using - only cautioning as I don't believe you get direct S3 upload by default.</p>



<a name="343342657"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343342657" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343342657">(Mar 21 2023 at 11:28)</a>:</h4>
<p>Yes, Leonid emphasized we should let him know if direct upload isn't working on demo.</p>



<a name="343348666"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343348666" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343348666">(Mar 21 2023 at 11:56)</a>:</h4>
<p>Alright, perfect! Thanks for the heads up :-)</p>



<a name="343791016"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343791016" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343791016">(Mar 22 2023 at 21:40)</a>:</h4>
<p>Just tried it and I dont have permission for a direct upload <span aria-label="sweat" class="emoji emoji-1f613" role="img" title="sweat">:sweat:</span> Can I just send you the name of my collection or can you set one up for me on Demo Dataverse?</p>



<a name="343795514"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343795514" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343795514">(Mar 22 2023 at 22:14)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> when you get a chance, can you please ask Leonid on Slack?</p>



<a name="343796148"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343796148" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343796148">(Mar 22 2023 at 22:19)</a>:</h4>
<p>Alright, will do :-)</p>



<a name="343796917"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343796917" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343796917">(Mar 22 2023 at 22:25)</a>:</h4>
<p>Got it <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="343937357"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343937357" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343937357">(Mar 23 2023 at 10:48)</a>:</h4>
<p>So far everything is working, will transfer the code to pyDataverse and open a pull request once tests are implemented. One thing I wanted to ask is if there is a functionality to assemble chunks at Dataverse. Maybe this way we can override the max_part_size of AWS</p>



<a name="343977510"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343977510" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343977510">(Mar 23 2023 at 13:21)</a>:</h4>
<p>Uh. I'm probably misunderstanding the question (let me know if you'd like to hop on a video call) but DVUploaders has a way to to break up files client-side, if that helps: <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-uploader/blob/v1.1.0/src/main/java/org/sead/uploader/dataverse/HttpPartUploadJob.java#L25">https://github.com/GlobalDataverseCommunityConsortium/dataverse-uploader/blob/v1.1.0/src/main/java/org/sead/uploader/dataverse/HttpPartUploadJob.java#L25</a></p>



<a name="343985959"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/343985959" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#343985959">(Mar 23 2023 at 13:53)</a>:</h4>
<p>Perfect, that was what I was looking for!</p>



<a name="391623552"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/391623552" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#391623552">(Sep 18 2023 at 05:43)</a>:</h4>
<p>Happy to update you that the S3 upload is implemented into Python now. Will be shipped with the next EasyDataverse update!</p>



<a name="391623820"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/391623820" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#391623820">(Sep 18 2023 at 05:47)</a>:</h4>
<p>I have a question though, the multipart upload is parallelized and I have yet only tested this with rather small files. However, I am certain that big files might cause memory/bandwith issues when uploaded in parallel. Hence, I'd like to restrict the number or size of part uploads. </p>
<p>This may depend on the users machine/connection and will be customizable, but do you have any suggestion of a default? Like 4gb maximum upload volume at once?</p>



<a name="391624426"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/391624426" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#391624426">(Sep 18 2023 at 05:54)</a>:</h4>
<p>Btw if you are interested, here is the branch of the next ED release. Once tests are up and running, it'll be shipped .</p>
<p><a href="https://github.com/gdcc/easyDataverse/tree/flexible-connect">https://github.com/gdcc/easyDataverse/tree/flexible-connect</a></p>



<a name="391715127"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/391715127" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#391715127">(Sep 18 2023 at 14:40)</a>:</h4>
<p><span class="user-mention" data-user-id="637063">@Leo Andreev</span> check it out! S3 upload in EasyDataverse! ^^ <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="395855170"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/395855170" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrzej Zemla <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#395855170">(Oct 10 2023 at 10:46)</a>:</h4>
<p>Hi All, </p>
<p>I've uploaded 180 GB files to  S3 (multipart of course), with my own script, and the main problems I've noticed are: </p>
<ul>
<li>when you open a file to read (even part files), it's stored in memory, and you have to take care of memory management on your own (ex. uploading 20 GB file will fail on most laptops if you want clean your mem) </li>
<li>update links by default have 60 min lifetime (it might be too short in case bad network connection for large files (&gt;32gb))</li>
<li>after successfully uploading, publishing large files might cause problems during calculating checksum ( it takes too long and publishing fails ) </li>
</ul>
<p>I know, that 180GB is extreme, but still for 32GB+ files those problems will occur. I put it in this thread because direct upload to S3 is in fact the only way to deal with large files.</p>



<a name="395858463"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/395858463" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#395858463">(Oct 10 2023 at 11:07)</a>:</h4>
<p><span class="user-mention" data-user-id="657879">@Andrzej Zemla</span> hi! Have you tried <a href="https://github.com/gdcc/python-dvuploader">https://github.com/gdcc/python-dvuploader</a> by <span class="user-mention" data-user-id="599841">@Jan Range</span> ? It's new! Announced here: <a href="https://groups.google.com/g/dataverse-community/c/TQZJOpYmXbU/m/6m27nm4dAQAJ">https://groups.google.com/g/dataverse-community/c/TQZJOpYmXbU/m/6m27nm4dAQAJ</a></p>



<a name="395868805"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/395868805" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrzej Zemla <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#395868805">(Oct 10 2023 at 12:09)</a>:</h4>
<p>No i didn't, I needed it in July ;), but I'll test it for sure, and write you a feedback</p>



<a name="395877286"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/direct%20upload%20to%20S3/near/395877286" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/direct.20upload.20to.20S3.html#395877286">(Oct 10 2023 at 12:53)</a>:</h4>
<p><span class="user-mention" data-user-id="657879">@Andrzej Zemla</span> thanks, that would be extremely helpful <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>