<html>
<head><meta charset="utf-8"><title>containers for API testing · python · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/index.html">python</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html">containers for API testing</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="353964753"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/353964753" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#353964753">(Apr 28 2023 at 16:25)</a>:</h4>
<p>As discussed during yesterday's <a href="https://ct.gdcc.io">Containerization Working Group</a> meeting, there are now containers available for API testing!</p>
<p>In the past I've usually pointed authors of API client libraries to <a href="https://demo.dataverse.org">https://demo.dataverse.org</a> for testing a live Dataverse installation, but is there interest in using GitHub Actions or similar to spin up Dataverse in a container for API testing?</p>
<p>Here's the newly published container: <a href="https://hub.docker.com/r/gdcc/dataverse">https://hub.docker.com/r/gdcc/dataverse</a></p>
<p>Please be advised that the container requires setup! For now we've only documented the <a href="https://preview.guides.gdcc.io/en/develop/container/dev-usage.html">setup for developers</a> (and we plan to <a href="https://github.com/IQSS/dataverse/issues/9540">improve</a> these docs) but as explained in the <a href="https://docs.google.com/document/d/14DHDB24Cp_kzpYqhHCKCtnzOw8_WuLOOONyqJHSsaYM/edit">Dataverse Containerization</a> doc, we have an item under milestone B to document how client library authors can use these containers. Here's what is says for now:</p>
<p>"Document limitations: must clone main repo (or at least download the necessary files, similar to dvinstall.zip or download the whole repo as a zip), must run <code>docker-final-setup.sh</code>"</p>
<p>Any brave souls out there who want to give this a try? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>  I'm happy to help!</p>



<a name="353981073"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/353981073" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#353981073">(Apr 28 2023 at 16:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/stream/377090-python/topic/containers.20for.20API.20testing/near/353964753">said</a>:</p>
<p>yes, i'm happy to help test, though it likely won't be for the next few days.</p>



<a name="354020217"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354020217" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354020217">(Apr 28 2023 at 18:27)</a>:</h4>
<p>Happy to test it!</p>



<a name="354022670"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354022670" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354022670">(Apr 28 2023 at 18:33)</a>:</h4>
<p>To be honest, I think we might need <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> to explain (again) how to spin up our own containers within GitHub Actions. In the <a href="https://docs.google.com/document/d/14DHDB24Cp_kzpYqhHCKCtnzOw8_WuLOOONyqJHSsaYM/edit?usp=sharing">doc</a>, it's worded like this (under milestone D):</p>
<p>"Smoke test within GitHub Actions: deploy and bootstrap, make logs available (Size: 33)"</p>



<a name="354022986"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354022986" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354022986">(Apr 28 2023 at 18:33)</a>:</h4>
<p>"This smoke test here is about creating a first step to see if the deployment works at all and shall serve as intermediate step towards the full thing in Milestone G."</p>



<a name="354024441"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354024441" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354024441">(Apr 28 2023 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="598186">@Don Sizemore</span> <span class="user-mention" data-user-id="599841">@Jan Range</span> have either of you tried running the containers on a dev laptop or whatever? I'm happy to walk you through it. Now that the containers are out there you shouldn't even need Java installed. You will have to clone the main repo, though. That's where the docker compose file is and some config and scripts you'll need.</p>



<a name="354038959"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354038959" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354038959">(Apr 28 2023 at 19:46)</a>:</h4>
<p>Maybe this will help? <a href="https://github.blog/2022-02-02-build-ci-cd-pipeline-github-actions-four-steps/">https://github.blog/2022-02-02-build-ci-cd-pipeline-github-actions-four-steps/</a></p>



<a name="354039038"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354039038" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354039038">(Apr 28 2023 at 19:47)</a>:</h4>
<p>Code at <a href="https://github.com/open-sauced/open-sauced">https://github.com/open-sauced/open-sauced</a></p>



<a name="354200363"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354200363" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354200363">(Apr 29 2023 at 05:58)</a>:</h4>
<p>I was trying to spin up the container using <code>mvn -Pct clean package</code> but it failed. Got the following error message:</p>
<p><code>Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project dataverse: There are test failures.</code></p>



<a name="354200462"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354200462" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354200462">(Apr 29 2023 at 05:59)</a>:</h4>
<p>Maybe its also due to my MacBook, will try it on an Ubuntu server.</p>



<a name="354229323"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354229323" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354229323">(Apr 29 2023 at 07:25)</a>:</h4>
<p>That is very odd as testing is usually deactivated in this profile to speed up things...</p>



<a name="354229428"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354229428" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354229428">(Apr 29 2023 at 07:25)</a>:</h4>
<p>It's unlikely your MacBook as a cause</p>



<a name="354229653"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354229653" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354229653">(Apr 29 2023 at 07:25)</a>:</h4>
<p>If you're feeling lucky you could try with compose only</p>



<a name="354229735"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354229735" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354229735">(Apr 29 2023 at 07:26)</a>:</h4>
<p>The dataverse image is avail from the hub</p>



<a name="354230379"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354230379" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354230379">(Apr 29 2023 at 07:28)</a>:</h4>
<p>It might be a good idea to just copy the compose file from the IQSS repo and add that to your project... It will fail for now with the Solr things, but you could temporarily copy those over until we have that stuff sorted out</p>



<a name="354230478"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354230478" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354230478">(Apr 29 2023 at 07:28)</a>:</h4>
<p>Would it help you lot if I create a demo repo someplace?</p>



<a name="354230548"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354230548" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354230548">(Apr 29 2023 at 07:28)</a>:</h4>
<p>So we have some small playground?</p>



<a name="354265627"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354265627" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354265627">(Apr 29 2023 at 08:58)</a>:</h4>
<p>I did checkout the <code>develop</code> branch, maybe this is the cause?</p>



<a name="354265944"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354265944" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354265944">(Apr 29 2023 at 08:59)</a>:</h4>
<p>Trying it now with the Dockerhub image</p>



<a name="354356460"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354356460" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354356460">(Apr 29 2023 at 12:20)</a>:</h4>
<p>Is it working? Is no news good news? <span aria-label="happy" class="emoji emoji-1f600" role="img" title="happy">:happy:</span></p>



<a name="354450315"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354450315" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354450315">(Apr 29 2023 at 16:04)</a>:</h4>
<p>Sorry I needed to leave. Tried it now using <code>mvn -Pct docker:run</code> but I ran into the following error:</p>
<div class="codehilite"><pre><span></span><code> DOCKER&gt; Error occurred during container startup, shutting down...
[ERROR] DOCKER&gt; I/O Error [Unable to pull &#39;iq/dataverse:5.13&#39; : {&quot;message&quot;:&quot;pull access denied for iq/dataverse, repository does not exist or may require &#39;docker login&#39;: denied: requested access to the resource is denied&quot;} (Not Found: 404)]
</code></pre></div>
<p>I have then spun up the Dockerhub image using the <code>unstable</code> tag and mapped ports <code>8080:8080</code> that led me to the Payara page instead of Dataverse. Am I doing something wrong? Also ran the <code>docker-compose-dev.yml</code> which started solr, smtp and postgres succesfully, but that didnt help.</p>



<a name="354469998"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354469998" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354469998">(Apr 29 2023 at 17:00)</a>:</h4>
<p>That is VERY strange. I have no idea where that image name would be coming from! I see it written out as gdcc/dataverse:unstable</p>



<a name="354470397"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354470397" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354470397">(Apr 29 2023 at 17:01)</a>:</h4>
<p>Just starting up the image itself is not sufficient, you need at least Postgres.</p>



<a name="354470607"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354470607" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354470607">(Apr 29 2023 at 17:01)</a>:</h4>
<p>That way the app will at least deploy, also bootstrapping and access will fail without also having Solr tuned, set and ready to go</p>



<a name="354471114"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354471114" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354471114">(Apr 29 2023 at 17:03)</a>:</h4>
<p>It's so funny to hear of all these problems of running these containers when at the same time I never see those <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span></p>



<a name="354471641"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354471641" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354471641">(Apr 29 2023 at 17:04)</a>:</h4>
<p>Probably I should just go ahead and create that demo project. Anyone interested to reuse it for some integration thing can grab the code and go for it</p>



<a name="354489190"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354489190" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354489190">(Apr 29 2023 at 17:58)</a>:</h4>
<p>I tried pulling it from the Dockerhub link Phil supplied and it didn’t work - Some manifest was missing. So I checked the tags and unstable was available. Not sure, maybe I am doing something wrong. Either way, Postgres etc. worked using docker-compose.</p>



<a name="354539966"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354539966" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354539966">(Apr 29 2023 at 20:38)</a>:</h4>
<p>I started a pull request at <a href="https://github.com/gdcc/pyDataverse/pull/158">https://github.com/gdcc/pyDataverse/pull/158</a> that I hope will help.</p>
<p>At the very least, you should get a response from <code>/api/info/version</code>. This is what I see: <code>{"status":"OK","data":{"version":"5.13","build":null}}</code></p>
<p>I haven't tried the next steps of actually setting up Dataverse, which involves running <code>docker-final-setup.sh</code> as explained at <a href="https://preview.guides.gdcc.io/en/develop/container/dev-usage.html">https://preview.guides.gdcc.io/en/develop/container/dev-usage.html</a></p>



<a name="354618288"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354618288" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354618288">(Apr 30 2023 at 06:45)</a>:</h4>
<p>Starting from a blank Ubuntu 20.0 server both <code>maven</code> steps were succesfully executed. I am also able to retrieve the version:</p>
<div class="codehilite"><pre><span></span><code>ubuntu@openproject:~/dataverse$ curl &quot;http://localhost:8080/api/info/version&quot;
{&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;5.13&quot;,&quot;build&quot;:null}}
</code></pre></div>
<p>The <code>docker-final-setup.sh</code> also ran smoothly without any errors. Here is the output to inspect the metadatablocks:</p>
<div class="codehilite"><pre><span></span><code>ubuntu@openproject:~/dataverse$ curl &quot;http://localhost:8080/api/metadatablocks&quot;
{&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:[{&quot;id&quot;:1,&quot;displayName&quot;:&quot;Citation Metadata&quot;,&quot;name&quot;:&quot;citation&quot;},{&quot;id&quot;:2,&quot;displayName&quot;:&quot;Geospatial Metadata&quot;,&quot;name&quot;:&quot;geospatial&quot;},{&quot;id&quot;:3,&quot;displayName&quot;:&quot;Social Science and Humanities Metadata&quot;,&quot;name&quot;:&quot;socialscience&quot;},{&quot;id&quot;:4,&quot;displayName&quot;:&quot;Astronomy and Astrophysics Metadata&quot;,&quot;name&quot;:&quot;astrophysics&quot;},{&quot;id&quot;:5,&quot;displayName&quot;:&quot;Life Sciences Metadata&quot;,&quot;name&quot;:&quot;biomedical&quot;},{&quot;id&quot;:6,&quot;displayName&quot;:&quot;Journal Metadata&quot;,&quot;name&quot;:&quot;journal&quot;}]}
</code></pre></div>
<p>The one thing that may have caused the error on my machine was running everything not as <code>sudo</code>. Usually I do not need to supply this using Docker on my local machine, but I think this may be a good addition to the docs. Also, is it possible to pass flags to <code>mvn -Pct docker:run</code> such as <code>-d</code> to run it in daemon mode? Here on my server it is running within the session and closing it may shutdown the container.</p>
<p>I am having problems with the ports at the moment, thats why I am not able to support a working URL, but this has nothing to do with the Dataverse instance but our BWCloud  server - 8080 somehow is always a bit tricky. I have another private server where I will also test it and hopefully can supply a working URL to inspect the UI.</p>



<a name="354618378"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354618378" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354618378">(Apr 30 2023 at 06:46)</a>:</h4>
<p>Anyway, looks great so far! Awesome work <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span>  <span class="user-mention" data-user-id="598112">@Philip Durbin</span>  and to the Container Working Group <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="354620981"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354620981" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354620981">(Apr 30 2023 at 07:07)</a>:</h4>
<p>Tried it on my IONOS server with OS <code>AlmaLinux 8</code> installed using the following Java/Maven setup:</p>
<div class="codehilite"><pre><span></span><code>Apache Maven 3.5.4 (Red Hat 3.5.4-5)
Maven home: /usr/share/maven
Java version: 1.8.0_372, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.372.b07-1.el8_7.x86_64/jre
Default locale: en_US, platform encoding: ANSI_X3.4-1968
OS name: &quot;linux&quot;, version: &quot;4.18.0-425.10.1.el8_7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;
</code></pre></div>
<p>I got the following error message, can you help me to resolve this?</p>
<p><a href="/user_uploads/53090/xHPkDV6BB_5d-ORZ6aDemKi9/log.log">log.log</a></p>



<a name="354621352"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354621352" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354621352">(Apr 30 2023 at 07:11)</a>:</h4>
<p>Ran <code>yum update</code> again to be sure. Trying again now. It seems that some class has been compiled with a recent version of Java yet the one installed does not supply it (class  file version 55.0 vs 52.0). Its a little sus, but I am no Java expert to fix this rn.</p>



<a name="354623033"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354623033" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354623033">(Apr 30 2023 at 07:24)</a>:</h4>
<p>Updated JDK to 11 on CentOS and set <code>JAVA_HOME</code> to point to JDK 11, but that didn't help either. This may be exclusive to CentOS.</p>



<a name="354672638"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354672638" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354672638">(Apr 30 2023 at 12:19)</a>:</h4>
<p>Huh. Let me start by pasting the error inline (minus some repeated lines about URLs) formatted a bit for readability:</p>
<p><code>[ERROR] Failed to execute goal io.github.git-commit-id:git-commit-id-maven-plugin:5.0.0:revision (retrieve-git-details) on project dataverse: Execution retrieve-git-details of goal io.github.git-commit-id:git-commit-id-maven-plugin:5.0.0:revision failed: Unable to load the mojo 'revision' in the plugin 'io.github.git-commit-id:git-commit-id-maven-plugin:5.0.0' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: pl/project13/maven/git/GitCommitIdMojo has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code></p>
<div class="codehilite"><pre><span></span><code>[ERROR] -----------------------------------------------------
[ERROR] realm =    plugin&gt;io.github.git-commit-id:git-commit-id-maven-plugin:5.0.0
[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy
[ERROR] urls[0] = file:/root/.m2/repository/io/github/git-commit-id/git-commit-id-maven-plugin/5.0.0/git-commit-id-maven-plugin-5.0.0.jar
(...snip...)
[ERROR] urls[24] = file:/root/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar
[ERROR] Number of foreign imports: 1
[ERROR] import: Entry[import  from realm ClassRealm[project&gt;edu.harvard.iq:dataverse:5.13, parent: ClassRealm[maven.api, parent: null]]]
[ERROR]
[ERROR] -----------------------------------------------------
</code></pre></div>
<p>Do you think testing this on Rocky would help, since's it's also a RHEL derivative? Maybe it's similar enough to AlmaLinux? We have an issue here about Rocky and Docker: <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/268">https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/268</a></p>



<a name="354672875"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354672875" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354672875">(Apr 30 2023 at 12:20)</a>:</h4>
<p>You shouldn't need sudo, by the way. I never need it on my Mac anyway.</p>



<a name="354673642"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354673642" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354673642">(Apr 30 2023 at 12:23)</a>:</h4>
<p>As an alternative to <code>mvn -Pct docker:run</code> you can run <code>docker-compose -f docker-compose-dev.yml up</code> and yes, you can add <code>-d</code> if you like. Should we add <code>-d</code> to <a href="https://github.com/gdcc/pyDataverse/pull/158">https://github.com/gdcc/pyDataverse/pull/158</a> ?</p>
<p>Mentioning docker compose is already on our todo list at <a href="https://github.com/IQSS/dataverse/issues/9540">https://github.com/IQSS/dataverse/issues/9540</a></p>



<a name="354673875"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354673875" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354673875">(Apr 30 2023 at 12:24)</a>:</h4>
<p>Anyway, <span class="user-mention" data-user-id="599841">@Jan Range</span> it seems like you're seeing some success if the "final setup" script worked in at least one environment! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> Thanks for testing!</p>



<a name="354860003"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354860003" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354860003">(May 01 2023 at 12:14)</a>:</h4>
<p>Yea, I realized that it didnt make any difference using <code>sudo</code> on my machine. It just doesn't want to work on it unfortunately. </p>
<p>Regarding the flag, I'd say that if the inclusion of the <code>-d</code> flag within the maven command requires too much development, mentioning the <code>docker compose</code> alternative in the docs would also be nice for those who aren't aware of it.</p>
<p>Regarding <code>Almalinux</code>,  sure that should help! I suspect that this may not be a complete Docker issue but something with Maven since the error is coming from classes that are compiled for newer versions.</p>



<a name="354870571"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354870571" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354870571">(May 01 2023 at 13:02)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> sounds good. So, zooming out a bit, how could these Docker containers be useful for you with pyDataverse or EasyDataverse?</p>
<p>Would you run the containers on your laptop and point API tests at them?</p>
<p>Would you want to run this in some sort of CI like GitHub Actions?</p>
<p>How can we help you reach the next step, whatever that is? <span aria-label="happy" class="emoji emoji-1f600" role="img" title="happy">:happy:</span></p>



<a name="354871504"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354871504" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354871504">(May 01 2023 at 13:06)</a>:</h4>
<p>They'd be very helpful for local and CI testing purposes. Especially, since the new <code>connect</code> functionality depends on the installation itself, its the perfect timing for the containers. The same also applies for pyDataverse.</p>



<a name="354872465"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354872465" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354872465">(May 01 2023 at 13:10)</a>:</h4>
<p>For the local testing, it would be great if I could get the container running on my machine. Otherwise I can also use my server to point it to, but having it locally would be preferable. For a CI, spinning a Dataverse instance up within a GitHub Action would be the natural step after local testing. Have you already tried to do that? Otherwise we may open up a dummy repo to work on an action.</p>



<a name="354873238"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354873238" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354873238">(May 01 2023 at 13:13)</a>:</h4>
<p>For the sake of generality, an action with the sole purpose to start a docker instance would be enough. After that any subsequent step in the action can talk to the instance. Thus, other applications could also benefit. What do you think?</p>



<a name="354873254"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354873254" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354873254">(May 01 2023 at 13:13)</a>:</h4>
<p>Sure. A dummy repo sounds good. What would it do? I guess an MVP would be a shell script that does a curl of /api/info/version <span aria-label="happy" class="emoji emoji-1f600" role="img" title="happy">:happy:</span></p>



<a name="354873403"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354873403" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354873403">(May 01 2023 at 13:13)</a>:</h4>
<p>Yes, that would be a start!</p>



<a name="354874621"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354874621" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354874621">(May 01 2023 at 13:18)</a>:</h4>
<p>How does this look? <a href="https://github.com/gdcc/container-test">https://github.com/gdcc/container-test</a></p>



<a name="354876516"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354876516" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354876516">(May 01 2023 at 13:24)</a>:</h4>
<p>I just pushed a stub (same as from the pyDataverse PR) for local dev.</p>



<a name="354876632"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354876632" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354876632">(May 01 2023 at 13:25)</a>:</h4>
<p>And maybe from here we can start hacking on GitHub Actions?</p>



<a name="354882971"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354882971" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354882971">(May 01 2023 at 13:55)</a>:</h4>
<p>Looks great! Thats a good start :-)</p>



<a name="354909961"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354909961" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354909961">(May 01 2023 at 15:42)</a>:</h4>
<p>Cool. I made you an admin <span class="user-mention" data-user-id="599841">@Jan Range</span> <span aria-label="happy" class="emoji emoji-1f600" role="img" title="happy">:happy:</span></p>



<a name="354941228"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354941228" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354941228">(May 01 2023 at 18:03)</a>:</h4>
<p>But do either of us know anything about GitHub Actions? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="354946659"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354946659" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354946659">(May 01 2023 at 18:25)</a>:</h4>
<p>No DevOps expert, but lets give it a try! Found info on this using <code>services</code>. Would try this first.</p>
<p>Section "How to Run Services in Containers During a Workflow?" - <a href="https://yonatankra.com/2-ways-to-use-your-docker-image-in-github-actions/">https://yonatankra.com/2-ways-to-use-your-docker-image-in-github-actions/</a></p>



<a name="354947387"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354947387" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354947387">(May 01 2023 at 18:28)</a>:</h4>
<p>Seems like a reasonable blog post to follow, sure!</p>



<a name="354958644"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354958644" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354958644">(May 01 2023 at 19:16)</a>:</h4>
<p>I got the container running within the action! Wanted to get the version, but there needs to be some "off-time" to let the instance start before running <code>curl</code>. </p>
<p><a href="/user_uploads/53090/wCWxirmamcneYw9jKAR2q4t-/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/wCWxirmamcneYw9jKAR2q4t-/image.png" title="image.png"><img src="/user_uploads/53090/wCWxirmamcneYw9jKAR2q4t-/image.png"></a></div>



<a name="354959260"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959260" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959260">(May 01 2023 at 19:20)</a>:</h4>
<p>Wow! Already? Go, go, go! <span aria-label="rocket" class="emoji emoji-1f680" role="img" title="rocket">:rocket:</span></p>



<a name="354959449"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959449" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959449">(May 01 2023 at 19:21)</a>:</h4>
<p>I'm watching <a href="https://github.com/gdcc/container-test/actions/runs/4854159295/jobs/8651177685">https://github.com/gdcc/container-test/actions/runs/4854159295/jobs/8651177685</a> live</p>



<a name="354959526"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959526" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959526">(May 01 2023 at 19:22)</a>:</h4>
<p><span aria-label="popcorn" class="emoji emoji-1f37f" role="img" title="popcorn">:popcorn:</span></p>



<a name="354959776"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959776" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959776">(May 01 2023 at 19:23)</a>:</h4>
<p>120 seconds may be a bit much <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="354959812"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959812" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959812">(May 01 2023 at 19:23)</a>:</h4>
<p>Success!!!</p>



<a name="354959841"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959841" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959841">(May 01 2023 at 19:24)</a>:</h4>
<p>{"status":"OK","data":{"version":"5.13","build":null}} <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="354959881"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959881" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959881">(May 01 2023 at 19:24)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> great job!</p>



<a name="354959912"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959912" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959912">(May 01 2023 at 19:24)</a>:</h4>
<p>Thanks! Didn't expect it to be that simple</p>



<a name="354959924"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354959924" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354959924">(May 01 2023 at 19:24)</a>:</h4>
<p>expect a raise in your next paycheck</p>



<a name="354960101"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354960101" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354960101">(May 01 2023 at 19:25)</a>:</h4>
<p>So what do we try next? Clone the repo before staring the containers? And run the final setup script after?</p>



<a name="354960210"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354960210" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354960210">(May 01 2023 at 19:26)</a>:</h4>
<p>Or we could download the repo as a zip if that's easier or faster.</p>



<a name="354960222"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354960222" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354960222">(May 01 2023 at 19:26)</a>:</h4>
<p>Or download just the files we need.</p>



<a name="354960307"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354960307" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354960307">(May 01 2023 at 19:27)</a>:</h4>
<p>Yes, that would make sense! Maybe then curl the metadatablocks?</p>



<a name="354960565"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354960565" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354960565">(May 01 2023 at 19:28)</a>:</h4>
<p>You mean curl the metadata blocks at the very end to make sure they were loaded properly? Sure!</p>



<a name="354967038"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354967038" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354967038">(May 01 2023 at 20:03)</a>:</h4>
<p>Yes, currently trying it :-)</p>



<a name="354967309"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354967309" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354967309">(May 01 2023 at 20:05)</a>:</h4>
<p><code>./dataverse/scripts/dev/docker-final-setup.sh: 3: set: Illegal option -o pipefail</code></p>
<p>I receive this error, when running the docker script. Do you know what the error could be? This is the step in the action after the DV repo has been cloned.</p>
<div class="codehilite"><pre><span></span><code>      - name: Run docker script
        run: |
          ./dataverse/scripts/dev/docker-final-setup.sh
</code></pre></div>



<a name="354969972"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354969972" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354969972">(May 01 2023 at 20:21)</a>:</h4>
<p>Weird! Could it be line endings? <a href="https://stackoverflow.com/questions/35352955/set-illegal-option-on-one-host-but-not-the-other">https://stackoverflow.com/questions/35352955/set-illegal-option-on-one-host-but-not-the-other</a></p>



<a name="354970442"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354970442" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354970442">(May 01 2023 at 20:24)</a>:</h4>
<p>Tried it with <code>bash</code> and it finally works!</p>
<p><a href="/user_uploads/53090/sYMZZbZXc4wrEVuxAYCuw0Z7/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/sYMZZbZXc4wrEVuxAYCuw0Z7/image.png" title="image.png"><img src="/user_uploads/53090/sYMZZbZXc4wrEVuxAYCuw0Z7/image.png"></a></div>



<a name="354970944"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354970944" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354970944">(May 01 2023 at 20:27)</a>:</h4>
<p>Here is the latest run that worked:</p>
<p><a href="https://github.com/gdcc/container-test/actions/runs/4854627884/jobs/8652228977">https://github.com/gdcc/container-test/actions/runs/4854627884/jobs/8652228977</a></p>



<a name="354971183"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354971183" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354971183">(May 01 2023 at 20:28)</a>:</h4>
<p>Bundling this into a shareable action now would be the icing on the cake <span aria-label="star struck" class="emoji emoji-1f929" role="img" title="star struck">:star_struck:</span></p>



<a name="354971999"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354971999" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354971999">(May 01 2023 at 20:33)</a>:</h4>
<p>Fantastic! You make it look easy! Oh, right, that's your branding. <span aria-label="happy" class="emoji emoji-1f600" role="img" title="happy">:happy:</span></p>



<a name="354972482"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354972482" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354972482">(May 01 2023 at 20:36)</a>:</h4>
<p>Thanks <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span>️ It were quite a lot of commits though <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="354972752"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354972752" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354972752">(May 01 2023 at 20:38)</a>:</h4>
<p>Heh. So now what? Put this in EasyDataverse and run a real test or two?</p>



<a name="354974654"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354974654" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354974654">(May 01 2023 at 20:50)</a>:</h4>
<p>Yes, that sounds great!</p>



<a name="354974829"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354974829" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354974829">(May 01 2023 at 20:50)</a>:</h4>
<p>Will try this the next days. Need to go to sleep now <span aria-label="sleeping" class="emoji emoji-1f634" role="img" title="sleeping">:sleeping:</span></p>



<a name="354975666"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/354975666" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#354975666">(May 01 2023 at 20:56)</a>:</h4>
<p>Good night! Thanks again! <img alt=":dataverse_man:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/44207.png" title="dataverse man"></p>



<a name="355010440"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355010440" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355010440">(May 02 2023 at 02:10)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> thanks for opening <a href="https://github.com/gdcc/container-test/pull/1">https://github.com/gdcc/container-test/pull/1</a></p>



<a name="355010545"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355010545" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355010545">(May 02 2023 at 02:11)</a>:</h4>
<p>Meanwhile, I've been trying to build on your work, playing around at <a href="https://github.com/IQSS/dataverse-sample-data/actions/runs/4856813925/jobs/8656732449">https://github.com/IQSS/dataverse-sample-data/actions/runs/4856813925/jobs/8656732449</a> (one of many runs) but I'm getting a strange error:</p>
<p>{'status': 'ERROR', 'message': 'There was an error when trying to add the new file. Temp directory is not configured.'}</p>



<a name="355024107"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355024107" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355024107">(May 02 2023 at 04:35)</a>:</h4>
<p>Hm this might be something special to the runner. Found that the runner has a dedicated temp that needs to be used:</p>
<p><a href="https://github.com/actions/toolkit/issues/518">https://github.com/actions/toolkit/issues/518</a><br>
<a href="https://docs.github.com/en/actions/learn-github-actions/contexts#runner-context">https://docs.github.com/en/actions/learn-github-actions/contexts#runner-context</a></p>



<a name="355053190"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355053190" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355053190">(May 02 2023 at 07:21)</a>:</h4>
<p>Good Lord! Being a holiday for one day and you guys turn on the heat here!</p>



<a name="355053215"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355053215" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355053215">(May 02 2023 at 07:21)</a>:</h4>
<p>Glad you enjoy the experience so far <span class="user-mention" data-user-id="599841">@Jan Range</span></p>



<a name="355053235"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355053235" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355053235">(May 02 2023 at 07:21)</a>:</h4>
<p>Working hard on improving it further <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="355053827"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355053827" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355053827">(May 02 2023 at 07:23)</a>:</h4>
<p><span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span><span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span><span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span></p>



<a name="355056416"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355056416" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355056416">(May 02 2023 at 07:35)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span> solved the "waiting" issue. There is an action that pings an endpoint until a certain status code is received.</p>



<a name="355113238"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355113238" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355113238">(May 02 2023 at 11:06)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> great! Have you tried uploading a file? Do you get the same "Temp directory is not configured" error?</p>



<a name="355120403"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355120403" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355120403">(May 02 2023 at 11:33)</a>:</h4>
<p>Shiro from the R client is excited, by the way: <a href="https://github.com/IQSS/dataverse-client-r/issues/4#issuecomment-1530287863">https://github.com/IQSS/dataverse-client-r/issues/4#issuecomment-1530287863</a></p>



<a name="355149876"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355149876" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355149876">(May 02 2023 at 13:24)</a>:</h4>
<p>Not yet, but I saw your message regarding the <code>temp</code> error. I think this may be exclusive to GitHub's runner. Will give it a try and see if I can reproduce the error.</p>



<a name="355150919"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355150919" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355150919">(May 02 2023 at 13:28)</a>:</h4>
<p>Awesome. Thanks!</p>



<a name="355151102"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355151102" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355151102">(May 02 2023 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> might know how to fix it. Maybe we just need to set an environment variable before we run docker compose up.</p>



<a name="355152427"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355152427" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355152427">(May 02 2023 at 13:33)</a>:</h4>
<p>There is only 1 reason how this error message can be triggered</p>



<a name="355152601"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355152601" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355152601">(May 02 2023 at 13:33)</a>:</h4>
<p>The error is based on <a href="https://github.com/poikilotherm/dataverse/blob/1eada8954c2b34f9780d9b877f736527e675fdde/src/main/java/edu/harvard/iq/dataverse/util/FileUtil.java#L846-L846">this exception</a></p>



<a name="355152884"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355152884" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355152884">(May 02 2023 at 13:34)</a>:</h4>
<p>This condition can only reached via <a href="https://github.com/poikilotherm/dataverse/blob/1eada8954c2b34f9780d9b877f736527e675fdde/src/main/java/edu/harvard/iq/dataverse/util/FileUtil.java#L1495-L1495">this error handling</a>, which means: Dataverse has no write permissions to the directory</p>



<a name="355153123"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355153123" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355153123">(May 02 2023 at 13:35)</a>:</h4>
<p>You need to check where we can write in a runner so the volumes are actually usable</p>



<a name="355153569"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355153569" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355153569">(May 02 2023 at 13:36)</a>:</h4>
<p>Such things are hidden in the container logs... One would need to add a step with <code>if: always()</code> to make sure they get extracted and uploaded as artifacts of a run</p>



<a name="355153693"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355153693" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355153693">(May 02 2023 at 13:36)</a>:</h4>
<p>Maybe even make it distinct artifacts for Postgres, Solr and Dataverse</p>



<a name="355153916"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355153916" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355153916">(May 02 2023 at 13:37)</a>:</h4>
<p>No write permission! <span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span></p>



<a name="355158201"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355158201" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355158201">(May 02 2023 at 13:52)</a>:</h4>
<blockquote>
<p>Note: GitHub Actions must be run by the default Docker user (root). Ensure your Dockerfile does not set the USER instruction, otherwise you will not be able to access GITHUB_WORKSPACE.</p>
</blockquote>
<p><a href="https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#docker-container-filesystem">https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#docker-container-filesystem</a></p>



<a name="355158688"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355158688" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355158688">(May 02 2023 at 13:54)</a>:</h4>
<p>This is for Docker actions. So we may find a way around that in our case</p>



<a name="355158804"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355158804" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355158804">(May 02 2023 at 13:54)</a>:</h4>
<p>Idea: how about we use a tmpfs mount instead of the volume mapping? This will be ephemeral anyway.</p>



<a name="355159001"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355159001" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355159001">(May 02 2023 at 13:55)</a>:</h4>
<p>(This might be a problem for some test that checks for the presence of files uploaded in the volume directly. But maybe that's an OK limitation?)</p>



<a name="355160391"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355160391" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355160391">(May 02 2023 at 14:00)</a>:</h4>
<p>All hacks welcome!</p>



<a name="355297777"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355297777" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355297777">(May 03 2023 at 01:51)</a>:</h4>
<p>I tried a couple things but they didn't work:</p>
<ul>
<li><a href="https://github.com/IQSS/dataverse-sample-data/commit/68b2ae9">https://github.com/IQSS/dataverse-sample-data/commit/68b2ae9</a></li>
<li><a href="https://github.com/IQSS/dataverse-sample-data/commit/827249d">https://github.com/IQSS/dataverse-sample-data/commit/827249d</a></li>
</ul>



<a name="355298867"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355298867" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355298867">(May 03 2023 at 02:03)</a>:</h4>
<p>Hmm, I'd dumping the logs now (server.log). It says,</p>
<div class="codehilite"><pre><span></span><code>Failed to create filesTempDirectory: /dv/temp
</code></pre></div>

<p><a href="https://github.com/IQSS/dataverse-sample-data/actions/runs/4867550949/jobs/8680232083#step:10:1527">https://github.com/IQSS/dataverse-sample-data/actions/runs/4867550949/jobs/8680232083#step:10:1527</a></p>
<p>So maybe I'm not configuring this correctly with MPCONFIG. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="355302957"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355302957" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355302957">(May 03 2023 at 02:49)</a>:</h4>
<p><a href="/user_uploads/53090/B8QrfpSW5r8_HFFogVvq1gnH/no-idea.jpg">no-idea.jpg</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/B8QrfpSW5r8_HFFogVvq1gnH/no-idea.jpg" title="no-idea.jpg"><img src="/user_uploads/53090/B8QrfpSW5r8_HFFogVvq1gnH/no-idea.jpg"></a></div>



<a name="355392693"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355392693" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355392693">(May 03 2023 at 10:37)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> any ideas for me? My most recent commit:</p>
<ul>
<li><a href="https://github.com/IQSS/dataverse-sample-data/commit/1423b80">https://github.com/IQSS/dataverse-sample-data/commit/1423b80</a></li>
</ul>
<p>I can't seem to change it from <code>/dv/temp</code>.</p>



<a name="355393918"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355393918" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355393918">(May 03 2023 at 10:43)</a>:</h4>
<p>May I mess around with your <del>PR</del> branch <span class="user-mention" data-user-id="598112">@Philip Durbin</span> ?</p>



<a name="355400847"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355400847" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355400847">(May 03 2023 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> of course!</p>



<a name="355400875"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355400875" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355400875">(May 03 2023 at 11:13)</a>:</h4>
<p>Please go for it! Thanks!</p>



<a name="355433316"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355433316" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355433316">(May 03 2023 at 13:10)</a>:</h4>
<p>Here you are <a href="https://github.com/IQSS/dataverse-sample-data/actions/runs/4872123218">https://github.com/IQSS/dataverse-sample-data/actions/runs/4872123218</a></p>



<a name="355433465"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355433465" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355433465">(May 03 2023 at 13:10)</a>:</h4>
<p>I did tweak already a few different other places...</p>



<a name="355433594"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355433594" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355433594">(May 03 2023 at 13:11)</a>:</h4>
<p>Maybe we can copy that to <a href="https://github.com/gdcc/container-test">https://github.com/gdcc/container-test</a> as well</p>



<a name="355433616"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355433616" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355433616">(May 03 2023 at 13:11)</a>:</h4>
<p>Fantastic! Thanks, <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="355434146"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355434146" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355434146">(May 03 2023 at 13:12)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> this might be of interest for you as well. Here's the diff. <a href="https://github.com/IQSS/dataverse-sample-data/compare/master...container-test">https://github.com/IQSS/dataverse-sample-data/compare/master...container-test</a></p>



<a name="355434190"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355434190" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355434190">(May 03 2023 at 13:13)</a>:</h4>
<p>This part seems important:</p>
<div class="codehilite"><pre><span></span><code>    volumes:
      - ${RUNNER_TEMP}/app/data:/dv
</code></pre></div>



<a name="355434272"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355434272" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355434272">(May 03 2023 at 13:13)</a>:</h4>
<p>Crucial, not just important.</p>



<a name="355434527"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355434527" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355434527">(May 03 2023 at 13:14)</a>:</h4>
<p>So is the container sort of hard coded to use <code>/dv</code>?</p>



<a name="355434628"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355434628" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355434628">(May 03 2023 at 13:14)</a>:</h4>
<p>OK to be fair: it might also just work with the standard GITHUB_WORKSPACE, but it seems good practice to go for the temp dir that is distinctly documented</p>



<a name="355434761"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355434761" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355434761">(May 03 2023 at 13:14)</a>:</h4>
<p>The other crucial part is probably the initializer container that tweaks the ownership of these folders...</p>



<a name="355438471"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355438471" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355438471">(May 03 2023 at 13:27)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> I just pointed to your work from this comment <a href="https://github.com/IQSS/dataverse-frontend/pull/85#issuecomment-1533030542">https://github.com/IQSS/dataverse-frontend/pull/85#issuecomment-1533030542</a></p>



<a name="355451034"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355451034" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355451034">(May 03 2023 at 13:55)</a>:</h4>
<p>Which builds upon work by <span class="user-mention" data-user-id="599841">@Jan Range</span> of course. <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span></p>



<a name="355451265"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355451265" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355451265">(May 03 2023 at 13:56)</a>:</h4>
<p>Awesome!! Happy to see its working now  <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span>️</p>



<a name="355451311"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355451311" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355451311">(May 03 2023 at 13:56)</a>:</h4>
<p>Firing up the EasyDataverse tests now <span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span></p>



<a name="355451349"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355451349" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355451349">(May 03 2023 at 13:56)</a>:</h4>
<p>Heh. Great!</p>



<a name="355451955"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355451955" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355451955">(May 03 2023 at 13:58)</a>:</h4>
<p>One of the finalists for the Inkscape 1.3 about screen contest was <span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span> <a href="https://inkscape.org/~Yogi_Aris_Vara_W_W/%E2%98%85set-the-world-on-fire">set the world on fire</a> <span aria-label="fire" class="emoji emoji-1f525" role="img" title="fire">:fire:</span>. Not that I endorse this. And it didn't win.</p>



<a name="355584395"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355584395" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355584395">(May 03 2023 at 18:57)</a>:</h4>
<p>I just added all this great work to the agenda for tomorrow's Containerization Working Group meeting: <a href="https://docs.google.com/document/d/1U3yvg9yG5Wnm_tQkDLf5XyREYyFVoRE4_-UvnxuryVE/edit?usp=sharing">https://docs.google.com/document/d/1U3yvg9yG5Wnm_tQkDLf5XyREYyFVoRE4_-UvnxuryVE/edit?usp=sharing</a></p>



<a name="355588210"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355588210" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355588210">(May 03 2023 at 19:17)</a>:</h4>
<p>Haha "great work"... for now it's a lot of red tape and bandaids holding together some pieces that fall apart the second you look away...</p>



<a name="355588318"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355588318" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355588318">(May 03 2023 at 19:17)</a>:</h4>
<p>Sorry to sound pessimistic, but I fear there is a lot of more road to cover before champagne</p>



<a name="355591088"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355591088" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355591088">(May 03 2023 at 19:30)</a>:</h4>
<p>Lets hope for the best :-)</p>



<a name="355597336"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355597336" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355597336">(May 03 2023 at 20:04)</a>:</h4>
<p>I'm looking forward to additional German engineering! <span aria-label="flag germany" class="emoji emoji-1f1e9-1f1ea" role="img" title="flag germany">:flag_germany:</span></p>



<a name="355630816"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355630816" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355630816">(May 04 2023 at 00:36)</a>:</h4>
<p>"This looks awesome." -- <a href="https://github.com/IQSS/dataverse-client-r/issues/4#issuecomment-1533597903">https://github.com/IQSS/dataverse-client-r/issues/4#issuecomment-1533597903</a></p>



<a name="355831580"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355831580" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355831580">(May 04 2023 at 16:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/stream/377090-python/topic/containers.20for.20API.20testing/near/355434527">said</a>:</p>
<blockquote>
<p>So is the container sort of hard coded to use <code>/dv</code>?</p>
</blockquote>
<p>I confirmed with <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> today that <code>/dv/</code> is not hard coded. Phew. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="355833390"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355833390" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355833390">(May 04 2023 at 16:48)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> so are you thinking you'll wait for the proposed Dataverse GitHub Action ( <a href="#narrow/stream/377090-python/topic/Dataverse.20GitHub.20Action">https://dataverse.zulipchat.com/#narrow/stream/377090-python/topic/Dataverse.20GitHub.20Action</a> ) before using containers for API tests?</p>
<p>I'm asking because I'm wondering if there's interest from you or others in using config above from sample data more or less as-is, bandaids and all. <span aria-label="happy" class="emoji emoji-1f600" role="img" title="happy">:happy:</span></p>



<a name="355833770"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355833770" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355833770">(May 04 2023 at 16:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/stream/377090-python/topic/containers.20for.20API.20testing/near/355831580">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/stream/377090-python/topic/containers.20for.20API.20testing/near/355434527">said</a>:</p>
<blockquote>
<p>So is the container sort of hard coded to use <code>/dv</code>?</p>
</blockquote>
<p>I confirmed with <span class="user-mention silent" data-user-id="598183">Oliver Bertuch</span> today that <code>/dv/</code> is not hard coded. Phew. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
</blockquote>
<p>Of course this is not hard coded, it's simply using a sane default. You can set this stuff via MPCONFiG if you'd want to</p>



<a name="355833930"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355833930" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355833930">(May 04 2023 at 16:51)</a>:</h4>
<p>That said, usually in the container world people benefit from clear structured paths that are documented, so it's easier to follow</p>



<a name="355834035"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355834035" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355834035">(May 04 2023 at 16:51)</a>:</h4>
<p>This is because you'll always have this layer of indirectness with the volumes you need to mount</p>



<a name="355834204"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355834204" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355834204">(May 04 2023 at 16:52)</a>:</h4>
<p>So kind of fixing this by providing sane defaults saves headaches for devops that deploy this stuff</p>



<a name="355834390"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/355834390" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#355834390">(May 04 2023 at 16:52)</a>:</h4>
<p>But again, nothing is hard-coded here. Just smoothing the experience</p>



<a name="405458587"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/containers%20for%20API%20testing/near/405458587" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/containers.20for.20API.20testing.html#405458587">(Dec 02 2023 at 00:12)</a>:</h4>
<p>I have added some tests and cleaned up the repo. I think the action is ready to be used for testing pyDataverse  <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span></p>
<p><a href="https://github.com/gdcc/dataverse-action/pull/8">https://github.com/gdcc/dataverse-action/pull/8</a></p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>