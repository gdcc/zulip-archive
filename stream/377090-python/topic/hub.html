<html>
<head><meta charset="utf-8"><title>hub Â· python Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/index.html">python</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html">hub</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="510180560"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510180560" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510180560">(Apr 04 2025 at 11:56)</a>:</h4>
<p>In <a href="https://github.com/IQSS/dataverse-pm/issues/394">https://github.com/IQSS/dataverse-pm/issues/394</a> we're talking about reporting on various metrics from <a href="https://hub.dataverse.org">https://hub.dataverse.org</a></p>



<a name="510180579"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510180579" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510180579">(Apr 04 2025 at 11:56)</a>:</h4>
<ul>
<li>Dataverse Installations: X (+/- Y March 2024 / March 2025) </li>
<li>Dataverse Collections:  X (+/- Y March 2024 / March 2025) </li>
<li>Datasets:  X (+/- Y March 2024 / March 2025) </li>
<li>Total Files:  X (+/- Y March 2024 / March 2025) </li>
<li>Total File Downloads:  X (+/- Y March 2024 / March 2025) </li>
<li>Large data:  X (+/- Y March 2024 / March 2025)</li>
</ul>



<a name="510180628"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510180628" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510180628">(Apr 04 2025 at 11:56)</a>:</h4>
<p>What if we add this functionality to pyDataverse? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="510180712"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510180712" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510180712">(Apr 04 2025 at 11:57)</a>:</h4>
<p>There's a nice OpenAPI endpoint: <a href="https://hub.dataverse.org/openapi">https://hub.dataverse.org/openapi</a></p>



<a name="510180785"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510180785" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510180785">(Apr 04 2025 at 11:57)</a>:</h4>
<p>And Swagger: <a href="https://hub.dataverse.org/swagger-ui/index.html?url=/openapi">https://hub.dataverse.org/swagger-ui/index.html?url=/openapi</a></p>



<a name="510180816"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510180816" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510180816">(Apr 04 2025 at 11:57)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> <span class="user-mention" data-user-id="648750">@Juan Pablo Tosca Villanueva</span> what do you think? <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="510250646"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510250646" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510250646">(Apr 04 2025 at 16:58)</a>:</h4>
<p>For now, for the number of installations, I make a draft PR as a recipe: <a href="https://github.com/gdcc/dataverse-recipes/pull/15">https://github.com/gdcc/dataverse-recipes/pull/15</a></p>



<a name="510250661"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510250661" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510250661">(Apr 04 2025 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="648750">@Juan Pablo Tosca Villanueva</span> <span class="user-mention" data-user-id="600327">@Ceilyn Boyd</span> ^^</p>



<a name="510269183"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269183" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269183">(Apr 04 2025 at 18:47)</a>:</h4>
<p>Nice!! Sure, sounds great <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="510269240"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269240" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269240">(Apr 04 2025 at 18:48)</a>:</h4>
<p>Would also put it in DVCLI :-P</p>



<a name="510269288"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269288" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269288">(Apr 04 2025 at 18:48)</a>:</h4>
<p>I keep forgetting about dvcli!</p>



<a name="510269356"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269356" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269356">(Apr 04 2025 at 18:48)</a>:</h4>
<p>But I think <span class="user-mention" data-user-id="600327">@Ceilyn Boyd</span> would rather have it in Python than Rust.</p>



<a name="510269456"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269456" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269456">(Apr 04 2025 at 18:49)</a>:</h4>
<p>Ah alright, Python first then <span aria-label="muscle" class="emoji emoji-1f4aa" role="img" title="muscle">:muscle:</span></p>



<a name="510269473"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269473" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269473">(Apr 04 2025 at 18:49)</a>:</h4>
<p>So, my real question is given <a href="https://hub.dataverse.org/openapi">https://hub.dataverse.org/openapi</a> do you have some Pythonic way to generate some nice bindings?</p>



<a name="510269480"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269480" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269480">(Apr 04 2025 at 18:49)</a>:</h4>
<p>Can you open an issue at pyDataverse?</p>



<a name="510269656"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510269656" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510269656">(Apr 04 2025 at 18:50)</a>:</h4>
<p>Yes, there are a couple of generators. I think there are also some that use pyDantic. I'll have a look at them</p>



<a name="510270135"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510270135" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510270135">(Apr 04 2025 at 18:53)</a>:</h4>
<p>Sure! Done! <a href="https://github.com/gdcc/pyDataverse/issues/218">https://github.com/gdcc/pyDataverse/issues/218</a></p>



<a name="510270173"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/510270173" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#510270173">(Apr 04 2025 at 18:53)</a>:</h4>
<p>Awesome! Thanks <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="511323851"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511323851" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511323851">(Apr 10 2025 at 06:28)</a>:</h4>
<p>We have two options available to utilize the OpenAPI specs in pyDataverse/Python:</p>
<h3>1. Full Client Library Generation</h3>
<p>The first option is a streamlined approach that generates both <strong>models and endpoints</strong>, resulting in a fully functional client library. There are various tools available, some open source, others partially proprietary, that support this. These tools often also generate documentation alongside the code.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Fully automated generation</li>
<li>Includes both code and documentation</li>
<li>Convenient for standalone use</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Assumes generation of an entire client library</li>
<li>Requires manual effort to integrate with the existing pyDataverse structure</li>
</ul>
<h3>2. Manual Endpoints with Generated Models</h3>
<p>The second option is to generate only the <strong>models</strong>, for example using a Pydantic V2 generator, and implement the endpoints manually. This approach gives us more control and makes integration with pyDataverse smoother.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Greater flexibility for integration</li>
<li>Custom logic (e.g., date validation) can be added easily</li>
<li>Lightweight and modular</li>
<li>Easy to adapt to model changes via CI-based code generation</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Endpoints need to be maintained manually</li>
<li>Slightly more hands-on work required</li>
</ul>
<p>Iâ€™m leaning toward this second option as it aligns better with the current pyDataverse codebase. Implementing an endpoint is relatively simple, it usually involves an HTTP call and some optional validation logic. As seen in the current <a href="https://github.com/gdcc/pyDataverse/blob/0489dbbe67bae95896b99772e78f70ccdf28ae41/pyDataverse/hub/hub.py#L54-L65">PR</a>, it's just a few lines of mostly repetitive code. The biggest challenge, in my view, is setting up the models and this is well solved with the second approach.</p>
<h2>A Hybrid Approach</h2>
<p>Alongside the model generation, we could opt for a hybrid approach and generate the methods dynamically by the following approaches:</p>
<ul>
<li>Use <a href="https://jinja.palletsprojects.com/en/stable/">Jinja templates</a> to generate endpoint code tailored to our needs</li>
<li>Integrate a medium-sized LLM (e.g. via CI using Ollama) to assist with method generation</li>
</ul>



<a name="511392583"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511392583" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511392583">(Apr 10 2025 at 12:15)</a>:</h4>
<p>Thanks so much for working on this, <span class="user-mention" data-user-id="599841">@Jan Range</span>! <img alt=":dataverse_man:" class="emoji" src="https://avatars.zulip.com/53090/emoji/images/c7b94a03.png" title="dataverse man"></p>



<a name="511392666"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511392666" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511392666">(Apr 10 2025 at 12:15)</a>:</h4>
<p>I see a lot of value in how Pydantic can generate the models automatically.</p>



<a name="511393033"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511393033" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511393033">(Apr 10 2025 at 12:16)</a>:</h4>
<p>In <a href="https://github.com/gdcc/pyDataverse/pull/219">https://github.com/gdcc/pyDataverse/pull/219</a> you've already done this for us. You created <code>pyDataverse/hub/models.py</code>. But how was it done? That's the part I'm especially curious about.</p>



<a name="511398977"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511398977" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511398977">(Apr 10 2025 at 12:42)</a>:</h4>
<p>I initially implemented these models using Claude along with some manual work. However, this morning I tried out the <a href="https://docs.pydantic.dev/latest/integrations/datamodel_code_generator/">Pydantic Data Model Generator</a>, and it works wellâ€”except for the <code>monthly</code> endpoint.</p>
<p>The issue lies in the OpenAPI specification for <code>api/installation/metric/monthly</code>, which appears to be out of sync with the actual API response. Here's a breakdown:</p>
<p><strong>OpenAPI Spec</strong></p>
<p>The response is defined as including the installation <em>within</em> the metric, both on the same hierarchical level:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="w"> </span><span class="nt">"200"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Registered installations metrics by month success"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"content"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">"application/json"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/components/schemas/InstallationMetrics"</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">                </span><span class="p">},</span>
</code></pre></div>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="nt">"InstallationMetrics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dataverse installation metrics"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">"installation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/components/schemas/Installation"</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">"recordDate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date-time"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Date when the metrics were captured"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"example"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-10-31T20:13:03.422+00:00"</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="nt">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"int64"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Number of files in the Dataverse installation"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"example"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000</span>
<span class="w">          </span><span class="p">},</span>
<span class="p">}</span>
</code></pre></div>
<p>The actual response is the other way around. The <code>Installation</code> object contains the metrics within the <code>metrics</code> property. Here is an example output:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
<span class="w">        </span><span class="nt">"dvHubId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DVN_JOHNS_HOPKINS_RESEARCH_DATA_REPOSITORY_2013"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johns Hopkins Research Data Repository"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"continent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"North America"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"launchYear"</span><span class="p">:</span><span class="w"> </span><span class="mi">2013</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"metrics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"recordDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-03-14T09:04:19.638513"</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"files"</span><span class="p">:</span><span class="w"> </span><span class="mi">10449</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"downloads"</span><span class="p">:</span><span class="w"> </span><span class="mi">68983</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"datasets"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"harvestedDatasets"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"localDatasets"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span>
<span class="w">                </span><span class="nt">"dataverses"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
</code></pre></div>
<p>Once this is fixed on the server side, the generated models will match the actual API response.  </p>
<p>I already have a PR prepared that includes the CI for model generation and updated endpoints based on the new models.  </p>
<p>As soon as the server-side fix is in place, we can open the PR on the repository and proceed with the merge.  <br>
Currently, the hub tests are failing because of this mismatch.</p>



<a name="511410537"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511410537" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511410537">(Apr 10 2025 at 13:27)</a>:</h4>
<p>Interesting! Do you mind creating an issue about that at <a href="https://github.com/IQSS/dataverse-hub">https://github.com/IQSS/dataverse-hub</a> ?</p>



<a name="511412281"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511412281" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511412281">(Apr 10 2025 at 13:34)</a>:</h4>
<p>Of course, will open an issue once back home <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="511412765"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511412765" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511412765">(Apr 10 2025 at 13:35)</a>:</h4>
<p>Awesome. Thanks.</p>



<a name="511412830"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511412830" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511412830">(Apr 10 2025 at 13:36)</a>:</h4>
<p>Meanwhile, this seems to work fine!</p>
<div class="codehilite"><pre><span></span><code>datamodel-codegen --url https://hub.dataverse.org/openapi
</code></pre></div>



<a name="511412935"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511412935" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511412935">(Apr 10 2025 at 13:36)</a>:</h4>
<p>I did have to install httpx as well.</p>
<div class="codehilite"><pre><span></span><code>% cat requirements.txt
datamodel-code-generator==0.28.5
httpx==0.28.1
</code></pre></div>



<a name="511413057"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511413057" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511413057">(Apr 10 2025 at 13:36)</a>:</h4>
<p>Yes, it's pretty cool! Maybe we can also adapt it to the DV OpenAPI specs</p>



<a name="511413148"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511413148" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511413148">(Apr 10 2025 at 13:37)</a>:</h4>
<p>Oh, sure. Sounds good.</p>



<a name="511414737"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511414737" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511414737">(Apr 10 2025 at 13:43)</a>:</h4>
<p>The hub is somewhat in flux. I'd like us to change /api/installation to /api/installations, for example. See <a href="https://github.com/IQSS/dataverse-hub/issues/21">https://github.com/IQSS/dataverse-hub/issues/21</a></p>
<p>(I'm curious if you think this would be an improvement, by the way.) <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="511415539"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511415539" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511415539">(Apr 10 2025 at 13:45)</a>:</h4>
<p>Using <code>installations</code> seems more logical and aligns with common design principles. Effectively, that's also what you get when calling the endpoint. So, it makes total sense to use the plural.</p>



<a name="511415915"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511415915" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511415915">(Apr 10 2025 at 13:47)</a>:</h4>
<p>Great, I'm glad you agree. <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="511416015"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511416015" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511416015">(Apr 10 2025 at 13:47)</a>:</h4>
<p>I also opened an issue about changing the dvHubId: <a href="https://github.com/IQSS/dataverse-hub/issues/15">https://github.com/IQSS/dataverse-hub/issues/15</a></p>



<a name="511431076"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511431076" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511431076">(Apr 10 2025 at 14:45)</a>:</h4>
<p>I agree, the current ID approach has its flaws. I see that it is nice to read for humans, but when things change it might not be the most flexible.</p>
<p>Have you thought of using geographic location as an identifier? Iâ€™ve recently learned about Google Plus Codes that encode longitude and latitude into a string. I guess the location wonâ€™t change, or what do you think?</p>



<a name="511431214"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511431214" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511431214">(Apr 10 2025 at 14:46)</a>:</h4>
<p><a href="https://en.m.wikipedia.org/wiki/Open_Location_Code">https://en.m.wikipedia.org/wiki/Open_Location_Code</a></p>



<a name="511431318"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511431318" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511431318">(Apr 10 2025 at 14:46)</a>:</h4>
<p>nope, this is new to me</p>



<a name="511431379"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511431379" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511431379">(Apr 10 2025 at 14:46)</a>:</h4>
<p>Maybe we should ask about it in <a class="stream" data-stream-id="376593" href="/#narrow/channel/376593-geospatial">#geospatial</a> <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="511432947"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511432947" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511432947">(Apr 10 2025 at 14:52)</a>:</h4>
<p>Here is a converter:</p>
<p><a href="https://www.dcode.fr/open-location-code">https://www.dcode.fr/open-location-code</a></p>



<a name="511434978"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511434978" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511434978">(Apr 10 2025 at 14:59)</a>:</h4>
<p>Yeah, let's move this to <a class="stream-topic" data-stream-id="376593" href="/#narrow/channel/376593-geospatial/topic/Open.20Location.20Code/with/511435234">#geospatial &gt; Open Location Code</a></p>



<a name="511660019"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511660019" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511660019">(Apr 11 2025 at 14:02)</a>:</h4>
<p>To summarize, Google Plus Codes might be problematic as a dvHubId because an org might host multiple installations of Dataverse (like DANS does). Also, while it's a remote possibility, an org could move physically.</p>



<a name="511660162"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/377090-python/topic/hub/near/511660162" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/377090-python/topic/hub.html#511660162">(Apr 11 2025 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> looking through old posts about OpenAPI I forgot you did some analysis already: <a class="stream-topic" data-stream-id="377090" href="/#narrow/channel/377090-python/topic/Analysis.20of.20OpenAPI.20code.20generators/with/419240738">#python &gt; Analysis of OpenAPI code generators</a> <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>