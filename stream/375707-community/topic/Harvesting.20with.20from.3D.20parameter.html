<html>
<head><meta charset="utf-8"><title>Harvesting with from= parameter · community · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/index.html">community</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html">Harvesting with from= parameter</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="481979177"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481979177" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481979177">(Nov 12 2024 at 15:43)</a>:</h4>
<p>Hi :)<br>
I'm experiencing issues with the <code>from=</code> parameter when doing a partial harvest.<br>
Most of my repositories expect the format <code>YYYY-MM-DDThh:mm:ssZ</code> (which Dataverse sends) but a few expect the format <code>YYYY-MM-DD</code>.<br>
And I have one that expects a real timestamp (in seconds).<br>
Errors look like </p>
<div class="codehilite"><pre><span></span><code>&lt;error code=&quot;badArgument&quot;&gt;From must be a datestamp&lt;/error&gt;
&lt;error code=&quot;badArgument&quot;&gt;from: Invalid date &amp; time&lt;/error&gt;
&lt;error code=&quot;badArgument&quot; /&gt;
&lt;error code=&quot;badArgument&quot;&gt;The request includes illegal arguments, is missing required arguments, includes a repeated argument, or values for arguments have an illegal syntax.&lt;/error&gt;
</code></pre></div>
<p>Ex:<br>
<a href="https://cds.unistra.fr/registry/?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07T14%3A40%3A49Z">https://cds.unistra.fr/registry/?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07T14%3A40%3A49Z</a><br>
<a href="https://cds.unistra.fr/registry/?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07">https://cds.unistra.fr/registry/?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07</a></p>
<p>Did you experienced it ?<br>
Should we add an harvesting client configuration to specify the format to send ?</p>
<p>One related post : <a href="https://groups.google.com/g/dataverse-community/c/ceXljDp2uTw/m/1hHX3taGAQAJ">https://groups.google.com/g/dataverse-community/c/ceXljDp2uTw/m/1hHX3taGAQAJ</a></p>



<a name="481981126"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481981126" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481981126">(Nov 12 2024 at 15:51)</a>:</h4>
<p>Sorry, I'm having a little trouble following this. The problem occurs when Dataverse is asking as a harvesting server, right?</p>



<a name="481981267"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481981267" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481981267">(Nov 12 2024 at 15:52)</a>:</h4>
<p>Yes. <br>
First run is good, next runs will add the <code>from=</code> parameter</p>



<a name="481982348"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481982348" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481982348">(Nov 12 2024 at 15:57)</a>:</h4>
<p>To pick up any changes. Got it. Sounds like a bug. Or some ambiguity in the spec? Does the spec have anything to say about timestamp vs datestamp?</p>



<a name="481983162"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481983162" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481983162">(Nov 12 2024 at 16:00)</a>:</h4>
<p>Both seems to be OK and most of my repositories work with both.<br>
But I didn't find the answer.</p>



<a name="481983231"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481983231" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481983231">(Nov 12 2024 at 16:01)</a>:</h4>
<p>Ok, can you please create an issue?</p>



<a name="481983445"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481983445" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481983445">(Nov 12 2024 at 16:01)</a>:</h4>
<p>Do you feel like Dataverse should handle it ? or I should tell to the repositories that they are not permissive enough ?</p>



<a name="481986627"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481986627" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481986627">(Nov 12 2024 at 16:16)</a>:</h4>
<p>Well, I'm curious what the spec says. Shouldn't the spec say who's right? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="481989765"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481989765" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481989765">(Nov 12 2024 at 16:31)</a>:</h4>
<p><a href="https://www.openarchives.org/OAI/openarchivesprotocol.html#Dates">https://www.openarchives.org/OAI/openarchivesprotocol.html#Dates</a></p>
<p>Datestamps used as values of the optional arguments from and until in the ListIdentifiers and ListRecords requests are encoded using ISO8601 and are expressed in UTC. These arguments are used to specify datestamp-based selective harvesting. These arguments support the "Complete date" and the "Complete date plus hours, minutes and seconds" granularities defined in ISO8601. The legitimate formats are YYYY-MM-DD and YYYY-MM-DDThh:mm:ssZ. Both arguments must have the same granularity. All repositories must support YYYY-MM-DD. A repository that supports YYYY-MM-DDThh:mm:ssZ should indicate so in the Identify response. A request by a harvester with finer granularity than that supported by a repository must produce an error.</p>



<a name="481990088"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481990088" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481990088">(Nov 12 2024 at 16:33)</a>:</h4>
<p>Now we have the answer :D <br>
I'll get back to repositories admin</p>



<a name="481990126"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/481990126" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#481990126">(Nov 12 2024 at 16:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="649905">luddaniel</span> has marked this topic as resolved.</p>



<a name="482352318"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/482352318" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#482352318">(Nov 14 2024 at 10:05)</a>:</h4>
<p>My god, I read so bad :D </p>
<blockquote>
<p>All repositories must support YYYY-MM-DD. A repository that supports YYYY-MM-DDThh:mm:ssZ should indicate so in the Identify response.</p>
</blockquote>
<p><a href="https://api.nakala.fr/oai2?verb=Identify">https://api.nakala.fr/oai2?verb=Identify</a><br>
<code>&lt;granularity&gt;YYYY-MM-DD&lt;/granularity&gt;</code><br>
<a href="https://api.nakala.fr/oai2?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07T14%3A40%3A49Z">https://api.nakala.fr/oai2?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07T14%3A40%3A49Z</a><br>
<code>Error Code badArgument</code></p>
<p><a href="https://www.seanoe.org/oai/OAIHandler?verb=Identify">https://www.seanoe.org/oai/OAIHandler?verb=Identify</a><br>
<code>&lt;granularity&gt;YYYY-MM-DD&lt;/granularity&gt;</code><br>
<a href="https://www.seanoe.org/oai/OAIHandler?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07T14%3A40%3A49Z">https://www.seanoe.org/oai/OAIHandler?verb=ListRecords&amp;metadataPrefix=oai_dc&amp;from=2024-11-07T14%3A40%3A49Z</a><br>
<code>&lt;error code="badArgument"&gt;The request includes illegal arguments, is missing required arguments, includes a repeated argument, or values for arguments have an illegal syntax.&lt;/error&gt;</code></p>
<p>There is some issue in Dataverse as it always use <code>YYYY-MM-DDThh:mm:ssZ</code>. I'll create an issue and look at the fix soon.</p>



<a name="482359824"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/482359824" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> luddaniel <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#482359824">(Nov 14 2024 at 10:45)</a>:</h4>
<p><a href="https://github.com/IQSS/dataverse/issues/11020">https://github.com/IQSS/dataverse/issues/11020</a></p>



<a name="482375790"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/482375790" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#482375790">(Nov 14 2024 at 12:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin 🐉</span> has marked this topic as unresolved.</p>



<a name="482375836"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/Harvesting%20with%20from%3D%20parameter/near/482375836" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/Harvesting.20with.20from.3D.20parameter.html#482375836">(Nov 14 2024 at 12:09)</a>:</h4>
<p><span class="user-mention" data-user-id="649905">@luddaniel</span> no worries and thanks for creating that issue!</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>