<html>
<head><meta charset="utf-8"><title>delete files using sql Â· community Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/index.html">community</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/delete.20files.20using.20sql.html">delete files using sql</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="482426425"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/delete%20files%20using%20sql/near/482426425" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PÃ©ter Pallinger <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/delete.20files.20using.20sql.html#482426425">(Nov 14 2024 at 15:59)</a>:</h4>
<p>I have a dataset with 460k uploaded files, and now I want to delete it. The problem is, I cannot. The web interface times out, and the API call returns with error after about 1hour. Trying to delete files first also fails: The web interface times out and the API call return an 505 error after about 1 hour.</p>
<p>So I got the wonderful idea that I would delete the files' metadata from the database using SQL, and then delete the files themselves from the S3 bucket.</p>
<p>What tables contain the metadata? So far, I identified the following:<br>
dvobject, datafile, datafiletag, auxiliaryfile, filemetadata, filemetadata_datafilecategory</p>
<p>Are there any more that I should consider?</p>



<a name="482433313"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/delete%20files%20using%20sql/near/482433313" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/delete.20files.20using.20sql.html#482433313">(Nov 14 2024 at 16:28)</a>:</h4>
<p>Just to be clear, you're ok with deleting (destroying) the entire dataset?</p>



<a name="482438119"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/delete%20files%20using%20sql/near/482438119" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PÃ©ter Pallinger <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/delete.20files.20using.20sql.html#482438119">(Nov 14 2024 at 16:51)</a>:</h4>
<p>yes!</p>



<a name="482438241"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375707-community/topic/delete%20files%20using%20sql/near/482438241" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PÃ©ter Pallinger <a href="https://gdcc.github.io/zulip-archive/stream/375707-community/topic/delete.20files.20using.20sql.html#482438241">(Nov 14 2024 at 16:52)</a>:</h4>
<p>It is in draft now (never published), so no depublication shenanigans are needed...<br>
As I wrote above, I tried to delete the whole dataset through dataverse, but failed...</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>