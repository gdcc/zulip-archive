<html>
<head><meta charset="utf-8"><title>Payara admin interface on a different URL? ¬∑ containers ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/index.html">containers</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html">Payara admin interface on a different URL?</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="449241241"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/449241241" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#449241241">(Jul 05 2024 at 07:41)</a>:</h4>
<p>I am now running Dataverse in a Docker Swarm and it works nicely. I'd like to make the Payara admin interface available on a different URL, so let's say that Dataverse is running under <a href="https://dataverse.ourinstitute.org">https://dataverse.ourinstitute.org</a>, the admin interface should have <a href="https://manage.dataverse.ourinstitute.org">https://manage.dataverse.ourinstitute.org</a>. I do this quite often since I can manage and restrict the access via the load balancer without having additional ports open. Payara exposes port 4848 but when I configure the loadbalancer HAProxy to redirect to that port, I get an infinite loop of redirections. Maybe Payara uses the Site URL to and is confused by the admin interface URL?<br>
The message in the browser is (depending on which I use, but the error is the same): Load cannot follow more than 20 redirections. In Chrome it's "redirected you too many times". <br>
I am still investigating, maybe the misconfiguration is on the load balancer side but I thought I'll ask too.</p>



<a name="449348635"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/449348635" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#449348635">(Jul 05 2024 at 16:17)</a>:</h4>
<p>IIRC this is a restriction of the Payara Admin App (which knows nothing about Dataverse configuration) and their auto forwarding to the application URL.</p>



<a name="449348763"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/449348763" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#449348763">(Jul 05 2024 at 16:17)</a>:</h4>
<p>Try hitting that directly and it should work</p>



<a name="449800520"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/449800520" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#449800520">(Jul 08 2024 at 07:55)</a>:</h4>
<p>What do you mean exactly? I have no success yet ;) Clearly it's an issue with Payara, the HAProxy configuration is fine. S which URL should I "hit directly"?</p>



<a name="449870696"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/449870696" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#449870696">(Jul 08 2024 at 13:32)</a>:</h4>
<p>I don't have much to add. Yes, this should have nothing to do with Dataverse. You could try asking on their forum: <a href="https://forum.payara.fish">https://forum.payara.fish</a></p>



<a name="449871302"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/449871302" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#449871302">(Jul 08 2024 at 13:35)</a>:</h4>
<p>I'Ve been using it this morning with our Caddy config (/conf/proxy) and it worked without any quirks. Took me where I wanted, no redirects going awry</p>



<a name="450349473"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450349473" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450349473">(Jul 10 2024 at 05:43)</a>:</h4>
<p>Hm this is very weird. I just spent another hour on debugging but cannot make it work. I also assume it's a Payara thing, so I'll try there.</p>
<p><a href="/user_uploads/53090/h50NByhw3ZfIaa9W2OxZ_6x8/Screenshot-2024-07-10-at-07.41.56.png">Screenshot-2024-07-10-at-07.41.56.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/h50NByhw3ZfIaa9W2OxZ_6x8/Screenshot-2024-07-10-at-07.41.56.png" title="Screenshot-2024-07-10-at-07.41.56.png"><img src="/user_uploads/53090/h50NByhw3ZfIaa9W2OxZ_6x8/Screenshot-2024-07-10-at-07.41.56.png"></a></div>



<a name="450349559"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450349559" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450349559">(Jul 10 2024 at 05:44)</a>:</h4>
<p>I have no redirects whatsoever in my config of HAProxy. It's really just: use 8080 if "<a href="http://dataverse.institute.org">dataverse.institute.org</a>" or 4848 if "<a href="http://admin.dataverse.institute.org">admin.dataverse.institute.org</a>", just like I do with tons of other services</p>



<a name="450375789"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450375789" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450375789">(Jul 10 2024 at 07:59)</a>:</h4>
<p>The problem is that also HAProxy shows an HTTP 302 for the Payara service on port 4848</p>



<a name="450375911"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450375911" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450375911">(Jul 10 2024 at 07:59)</a>:</h4>
<p><a href="/user_uploads/53090/5W21o9r7iqAMmbEflu7olANU/Screenshot-2024-07-10-at-09.59.30.png">Screenshot-2024-07-10-at-09.59.30.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/5W21o9r7iqAMmbEflu7olANU/Screenshot-2024-07-10-at-09.59.30.png" title="Screenshot-2024-07-10-at-09.59.30.png"><img src="/user_uploads/53090/5W21o9r7iqAMmbEflu7olANU/Screenshot-2024-07-10-at-09.59.30.png"></a></div>



<a name="450376071"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450376071" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450376071">(Jul 10 2024 at 08:00)</a>:</h4>
<p>The service in the first row is the HTTP on port 8080, which works fine and the one below is Payara on port 4848 which does the 302 thing<br>
So maybe my docker configuration is not correct?</p>



<a name="450377182"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450377182" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450377182">(Jul 10 2024 at 08:03)</a>:</h4>
<p>That's in my docker config:</p>
<div class="codehilite"><pre><span></span><code>    environment:
      _CT_DATAVERSE_SITEURL: &quot;https://dataverse.institute.org
      DATAVERSE_DB_HOST: postgres
      DATAVERSE_DB_PASSWORD: secret
      DATAVERSE_DB_USER: dataverse
      DATAVERSE_FEATURE_API_BEARER_AUTH: &quot;1&quot;
      DATAVERSE_MAIL_SYSTEM_EMAIL: ‚Äúmail‚Ä¶‚Äù
      DATAVERSE_MAIL_MTA_HOST: &quot;smtp&quot;
      JVM_ARGS: -Ddataverse.files.storage-driver-id=file1
        -Ddataverse.files.file1.type=file
        -Ddataverse.files.file1.label=Filesystem
        -Ddataverse.files.file1.directory=/store
        -Ddataverse.pid.providers=fake
        -Ddataverse.pid.default-provider=fake
        -Ddataverse.pid.fake.type=FAKE
        -Ddataverse.pid.fake.label=FakeDOIProvider
        -Ddataverse.pid.fake.authority=10.5072
        -Ddataverse.pid.fake.shoulder=FK2/
</code></pre></div>



<a name="450379502"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379502" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379502">(Jul 10 2024 at 08:13)</a>:</h4>
<p>The _CT_ thing is old news with the recent upgrade to Payara 6.2024.6. If you're using recent images, you can omit these prefixes</p>



<a name="450379598"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379598" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379598">(Jul 10 2024 at 08:13)</a>:</h4>
<p>ok i'll take that out!</p>



<a name="450379732"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379732" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379732">(Jul 10 2024 at 08:14)</a>:</h4>
<p>Aside from that  - these configuration options are not in any way related to the Payara Admin Console.</p>



<a name="450379767"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379767" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379767">(Jul 10 2024 at 08:14)</a>:</h4>
<p>yes that's what i also understood</p>



<a name="450379774"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379774" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379774">(Jul 10 2024 at 08:14)</a>:</h4>
<p>That is an entirely separate application that comes with the appserver</p>



<a name="450379825"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379825" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379825">(Jul 10 2024 at 08:15)</a>:</h4>
<p>So there is nothing we can configure, at least I'm not aware of any config options</p>



<a name="450379901"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379901" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379901">(Jul 10 2024 at 08:15)</a>:</h4>
<p>i am really clueless</p>



<a name="450379959"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450379959" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450379959">(Jul 10 2024 at 08:15)</a>:</h4>
<p>If you want to cross-check with a different image, you can use the Payara upstream images. There's no Dataverse inside, but that doesn't matter for getting these reverse proxies to work</p>



<a name="450380128"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450380128" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450380128">(Jul 10 2024 at 08:16)</a>:</h4>
<p>I'd say go create a log of all the HTTP communication and let's take a look at that</p>



<a name="450380474"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450380474" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450380474">(Jul 10 2024 at 08:18)</a>:</h4>
<p>it must be some tiny mistake which i overlook ;)</p>



<a name="450380487"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450380487" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450380487">(Jul 10 2024 at 08:18)</a>:</h4>
<p>Or: just ignore this for now. Typically you will not interact with the Payara Console at all, so you might as well skip this part and turn to more interesting stuff in setting up Dataverse</p>



<a name="450384214"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450384214" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450384214">(Jul 10 2024 at 08:36)</a>:</h4>
<p>the open data management wants access to that, so unfortunately I need a solution <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span>  I don't see any output from the dataverse container when I try to connect to the admin interface and nor do I see any logs in the load balancer, so I start to think that the provider is messing up something with the DNS of the subdomain</p>



<a name="450384304"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450384304" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450384304">(Jul 10 2024 at 08:36)</a>:</h4>
<p>i'll report back once this mystery is solved</p>



<a name="450388367"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450388367" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450388367">(Jul 10 2024 at 08:59)</a>:</h4>
<p>it has to be something with Payara (sorry for the noise here)... if I only change the port from 4848 to 8080 in the admin backend of my load balancer, i get the usual dataverse instance, so everything is working on that backend<br>
I now also put the log level to debug and i can see 302 redirects</p>



<a name="450388514"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450388514" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450388514">(Jul 10 2024 at 08:59)</a>:</h4>
<p>Please note that the default password for the admin user of the Payara Console is "admin". I have a PR in the works that will allow easy changes of this password at boot time of the container.</p>



<a name="450388639"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450388639" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450388639">(Jul 10 2024 at 09:00)</a>:</h4>
<p>Yep, that's why i am worried <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="450388946"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450388946" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450388946">(Jul 10 2024 at 09:01)</a>:</h4>
<p>I will now try to figure out how the <code>gdcc/dataverse:alpha</code> image is built to understand why Payara might not work</p>



<a name="450389788"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450389788" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450389788">(Jul 10 2024 at 09:04)</a>:</h4>
<p>i mean, it's definitely suspicious that port 8080 works flawlessly and 4848 does an HTTP 302  redirect loop (and both on the very same container)</p>



<a name="450391425"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450391425" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450391425">(Jul 10 2024 at 09:13)</a>:</h4>
<p>Hmm, so I might have a clue. Maybe Payara "guesses" the URL by taking the given domain from the HTTP request and then makes an "HTTP" call behind the scene, which again triggers my HTTPS "redirect" from the load balancer</p>



<a name="450391591"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450391591" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450391591">(Jul 10 2024 at 09:14)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> are you using SSL termination outside of the container world or do you offer the certificate directly?</p>



<a name="450395247"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450395247" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450395247">(Jul 10 2024 at 09:28)</a>:</h4>
<p>I opened a thread here: <a href="https://forum.payara.fish/t/payara-behind-haproxy-with-ssl-termination-endless-redirect-302-loop/877">https://forum.payara.fish/t/payara-behind-haproxy-with-ssl-termination-endless-redirect-302-loop/877</a></p>



<a name="450405757"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450405757" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450405757">(Jul 10 2024 at 10:18)</a>:</h4>
<p>My SSL termination happens in my K8s Ingress Controller (NGINX based)</p>



<a name="450405837"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450405837" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450405837">(Jul 10 2024 at 10:18)</a>:</h4>
<p>So not outside the container world, but also not doing SSL termination at the Payara end</p>



<a name="450406038"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450406038" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450406038">(Jul 10 2024 at 10:19)</a>:</h4>
<p>Yes, this guesswork is something I do remember - it somehow sends you some strange redirect. If you take a look at the redirection destination it sends you to, you can manipulate that URL to fit your needs and hit it directly</p>



<a name="450406056"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450406056" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450406056">(Jul 10 2024 at 10:19)</a>:</h4>
<p>That should start working then</p>



<a name="450406216"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450406216" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450406216">(Jul 10 2024 at 10:20)</a>:</h4>
<p>In your reverse proxy you could add a rewrite rule to catch the empty path and send people to the right endpoint on your own</p>



<a name="450406433"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450406433" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450406433">(Jul 10 2024 at 10:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="733331">Tamas Gal</span> <a href="#narrow/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F/near/450388639">said</a>:</p>
<blockquote>
<p>Yep, that's why i am worried <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>
</blockquote>
<p>Here's the PR to watch: <a href="https://github.com/IQSS/dataverse/pull/10672">https://github.com/IQSS/dataverse/pull/10672</a></p>



<a name="450420917"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450420917" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tamas Gal <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450420917">(Jul 10 2024 at 11:26)</a>:</h4>
<p>OK thanks for that. I'm already investigating but apparently the URL is imply <code>/</code></p>



<a name="450456147"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Payara%20admin%20interface%20on%20a%20different%20URL%3F/near/450456147" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Payara.20admin.20interface.20on.20a.20different.20URL.3F.html#450456147">(Jul 10 2024 at 13:41)</a>:</h4>
<p><span class="user-mention" data-user-id="733331">@Tamas Gal</span> thanks for posting on the Payara forum. And please don't worry about a little noise here. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>