<html>
<head><meta charset="utf-8"><title>âœ” iterating on configbaker Â· containers Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/index.html">containers</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html">âœ” iterating on configbaker</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="385284844"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385284844" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385284844">(Aug 15 2023 at 20:59)</a>:</h4>
<p>From what I understand, to rebuild configbaker I have to do a "package" of the whole Dataverse app. Is that right? I ask because it's slow. If I could rebuild just the configbaker image I would.</p>



<a name="385294395"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385294395" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385294395">(Aug 15 2023 at 22:27)</a>:</h4>
<p>Yes you can rebuild cb only</p>



<a name="385294417"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385294417" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385294417">(Aug 15 2023 at 22:27)</a>:</h4>
<p>Lookup DMP filter. IIRC it's docker.filter or similar</p>



<a name="385296181"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385296181" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385296181">(Aug 15 2023 at 22:40)</a>:</h4>
<p>Great!</p>



<a name="385467470"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385467470" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385467470">(Aug 16 2023 at 13:50)</a>:</h4>
<p>I tried <code>mvn -Pct clean package -Ddocker.filter="gdcc/configbaker"</code> but it didn't work.</p>



<a name="385467552"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385467552" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385467552">(Aug 16 2023 at 13:51)</a>:</h4>
<p><a href="https://dmp.fabric8.io">https://dmp.fabric8.io</a> says:</p>
<p>"In order to temporarily restrict the operation of plugin goals this configuration option can be used. Typically this will be set via the system property docker.filter when Maven is called. The value can be a single image name (either its alias or full name) or it can be a comma separated list with multiple image names. Any name which doesnâ€™t refer an image in the configuration will be ignored."</p>



<a name="385467686"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/385467686" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#385467686">(Aug 16 2023 at 13:51)</a>:</h4>
<p><a href="https://stackoverflow.com/questions/74239993/fabric8-docker-maven-plugin-how-to-tag-just-one-image-dockertag">https://stackoverflow.com/questions/74239993/fabric8-docker-maven-plugin-how-to-tag-just-one-image-dockertag</a> isn't very helpful</p>



<a name="388321331"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388321331" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388321331">(Aug 31 2023 at 13:11)</a>:</h4>
<p>I just tried <code>mvn -Pct clean package -Ddocker.filter=dev_bootstrap</code> but it's still slow and still builds dataverse-5.14.jar.</p>



<a name="388323649"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388323649" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388323649">(Aug 31 2023 at 13:23)</a>:</h4>
<p>Does <code>mvn -Pct docker:run -Ddocker.filter=dev_bootstrap</code> run more than just the configbakery?</p>



<a name="388323844"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388323844" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388323844">(Aug 31 2023 at 13:24)</a>:</h4>
<p>And can you try "docker:build" instead of "package"?</p>



<a name="388324060"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388324060" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388324060">(Aug 31 2023 at 13:25)</a>:</h4>
<p>Oh wait - "package" obviously will do compilation and packaging of the Java app... That's not really avoidable because these are just the normal Maven steps, triggered by the "package" target</p>



<a name="388324130"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388324130" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388324130">(Aug 31 2023 at 13:25)</a>:</h4>
<p>So if you want to avoid compilation etc, you will have to go for "docker:build"</p>



<a name="388337766"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388337766" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388337766">(Aug 31 2023 at 14:28)</a>:</h4>
<p>Thanks, I think it's working!!!</p>
<div class="codehilite"><pre><span></span><code>mvn -Pct docker:build -Ddocker.filter=dev_bootstrap
</code></pre></div>



<a name="388338184"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/388338184" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#388338184">(Aug 31 2023 at 14:30)</a>:</h4>
<p>As mentioned, go try <code>mvn -Pct docker:build docker:run -Ddocker.filter=dev_bootstrap</code> to build and execute in the same go!</p>



<a name="389508351"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/389508351" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#389508351">(Sep 06 2023 at 20:03)</a>:</h4>
<p>I just tried messing with a script in configbaker (modules/container-configbaker/scripts/bootstrap.sh) as part of <a class="stream-topic" data-stream-id="375812" href="/#narrow/stream/375812-containers/topic/running.20using.20compose">#containers &gt; running using compose</a> and the above worked fine!</p>



<a name="389508399"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/389508399" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#389508399">(Sep 06 2023 at 20:03)</a>:</h4>
<p>Before resolving this, we should document it. Or at least add it to a list of things to document.</p>



<a name="389510141"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/389510141" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#389510141">(Sep 06 2023 at 20:17)</a>:</h4>
<p>I just created a PR: <a href="https://github.com/IQSS/dataverse/pull/9885">https://github.com/IQSS/dataverse/pull/9885</a></p>



<a name="389626308"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/%E2%9C%94%20iterating%20on%20configbaker/near/389626308" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/.E2.9C.94.20iterating.20on.20configbaker.html#389626308">(Sep 07 2023 at 10:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>