<html>
<head><meta charset="utf-8"><title>k8s status Â· containers Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/index.html">containers</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html">k8s status</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="449959395"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449959395" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449959395">(Jul 08 2024 at 19:11)</a>:</h4>
<p>Let me post some status updates here in my journey on upgrading from 4.20 to 6.3 here.</p>



<a name="449959776"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449959776" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449959776">(Jul 08 2024 at 19:12)</a>:</h4>
<p>So I've managed to create intermediate migrations that seem to boost me from a 4.20 database to a 6.3. I'd say we did a good job with migrations with a few mistakes along the way. But without it, it would have been impossible.</p>



<a name="449960105"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449960105" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449960105">(Jul 08 2024 at 19:13)</a>:</h4>
<p>Now I created <a href="https://github.com/IQSS/dataverse/issues/10672">#10672</a> to mitigate a few things I'm running into while deploying on a new K8s cluster running v1.29</p>



<a name="449960378"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449960378" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449960378">(Jul 08 2024 at 19:14)</a>:</h4>
<p>These images get a little closer to production readiness with every small PR we make. But it's still a long way <span aria-label="melting face" class="emoji emoji-1fae0" role="img" title="melting face">:melting_face:</span></p>



<a name="449960672"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449960672" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449960672">(Jul 08 2024 at 19:15)</a>:</h4>
<p>Now I'm running into the next weird problem: my database connection fails with an IllegalArgumentException: illegal character <span aria-label="expressionless" class="emoji emoji-1f611" role="img" title="expressionless">:expressionless:</span></p>



<a name="449960810"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449960810" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449960810">(Jul 08 2024 at 19:15)</a>:</h4>
<p>We'll see where this comes from <span aria-label="zany face" class="emoji emoji-1f92a" role="img" title="zany face">:zany_face:</span></p>



<a name="449961403"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449961403" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449961403">(Jul 08 2024 at 19:17)</a>:</h4>
<p>Looks like I might need to add another PR to allow easier debugging of database properties. I'm even tempted to switch to a DataSourceProducer like I did with mail, potentially making it easier to track down errors. Not sure yet if this is actually possible.</p>



<a name="449961964"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449961964" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449961964">(Jul 08 2024 at 19:19)</a>:</h4>
<p><a href="https://github.com/IQSS/dataverse/issues/10672">#10672</a> looks reasonable to me.</p>



<a name="449962036"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449962036" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449962036">(Jul 08 2024 at 19:19)</a>:</h4>
<p>Noice!</p>



<a name="449962256"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449962256" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449962256">(Jul 08 2024 at 19:20)</a>:</h4>
<p>It doesn't tell you which character is illegal?</p>



<a name="449962258"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449962258" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449962258">(Jul 08 2024 at 19:20)</a>:</h4>
<p>I'm happy I can actually boot with it now... it still needs documentation changes</p>



<a name="449962301"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449962301" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449962301">(Jul 08 2024 at 19:20)</a>:</h4>
<p>Yes, docs please!</p>



<a name="449962419"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449962419" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449962419">(Jul 08 2024 at 19:20)</a>:</h4>
<p>Nope, it's very mysterious - doesn't breathe a word about where there is some error</p>



<a name="449963127"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449963127" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449963127">(Jul 08 2024 at 19:22)</a>:</h4>
<p>I mean, you're messing with password stuff in that PR. Could that be related?</p>



<a name="449963240"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449963240" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449963240">(Jul 08 2024 at 19:23)</a>:</h4>
<p>Nah don't think so. These passwords are for Payara, not the DB</p>



<a name="449963905"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449963905" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449963905">(Jul 08 2024 at 19:26)</a>:</h4>
<p>TouchÃ©</p>



<a name="449964219"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/449964219" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#449964219">(Jul 08 2024 at 19:27)</a>:</h4>
<p>Dang - @DataSourceDefinition may only be used on types... <span aria-label="melting face" class="emoji emoji-1fae0" role="img" title="melting face">:melting_face:</span></p>



<a name="450002933"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/450002933" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#450002933">(Jul 08 2024 at 23:14)</a>:</h4>
<p>Ha! It was a <a href="https://en.wikipedia.org/wiki/Layer_8">layer 8</a> problem. base64 encoded newlines into the secrets... <span aria-label="shooting star" class="emoji emoji-1f320" role="img" title="shooting star">:shooting_star:</span></p>



<a name="450004004"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/k8s%20status/near/450004004" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/k8s.20status.html#450004004">(Jul 08 2024 at 23:22)</a>:</h4>
<p><a href="/user_uploads/53090/vYyzgxYYdUcYDzYqgYBEvpbc/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/vYyzgxYYdUcYDzYqgYBEvpbc/image.png" title="image.png"><img src="/user_uploads/53090/vYyzgxYYdUcYDzYqgYBEvpbc/image.png"></a></div>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>