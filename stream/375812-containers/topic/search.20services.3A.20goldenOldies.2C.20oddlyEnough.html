<html>
<head><meta charset="utf-8"><title>search services: goldenOldies, oddlyEnough Â· containers Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/index.html">containers</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html">search services: goldenOldies, oddlyEnough</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="525912106"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525912106" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525912106">(Jun 26 2025 at 14:02)</a>:</h4>
<p>In <a href="https://github.com/IQSS/dataverse/issues/11281">#11281</a> we are introducing optional, configurable search services (such as external AI search, as demonstrated during the recent community meeting).</p>
<p>In the Dockerized environment (but not the classic environment), the example search services "goldenOldies" and "oddlyEnough" are being loaded up but as I argue at <a href="https://github.com/IQSS/dataverse/pull/11281#discussion_r2164017028">https://github.com/IQSS/dataverse/pull/11281#discussion_r2164017028</a> I don't think they should be.</p>
<p>As I just posted in that thread, <code>GoldenOldiesSearchServiceBean.class</code> and <code>OddlyEnoughSearchServiceBean.class</code> show up in <code>target/dataverse-6.6.jar.</code> Is this why they are loaded up? Any ideas on how we can prevent them from being loaded?</p>



<a name="525943077"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943077" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943077">(Jun 26 2025 at 16:36)</a>:</h4>
<p>Why aren't they loaded in a classic environment? Are there exclusion rules for the WAR?</p>



<a name="525943170"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943170" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943170">(Jun 26 2025 at 16:36)</a>:</h4>
<p>Yes:</p>
<div class="codehilite"><pre><span></span><code>&lt;packagingExcludes&gt;
    WEB-INF/classes/edu/harvard/iq/dataverse/search/GetExternalSearchServiceBean.class,
    WEB-INF/classes/edu/harvard/iq/dataverse/search/PostExternalSearchServiceBean.class,
    WEB-INF/classes/edu/harvard/iq/dataverse/search/GoldenOldiesSearchServiceBean.class,
    WEB-INF/classes/edu/harvard/iq/dataverse/search/OddlyEnoughSearchServiceBean.class
&lt;/packagingExcludes&gt;
</code></pre></div>



<a name="525943201"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943201" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943201">(Jun 26 2025 at 16:37)</a>:</h4>
<p>Ah!</p>



<a name="525943297"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943297" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943297">(Jun 26 2025 at 16:37)</a>:</h4>
<p>Well they probably shouldn't be a part of the main app Maven module anyway...</p>



<a name="525943325"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943325" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943325">(Jun 26 2025 at 16:37)</a>:</h4>
<p>That said, we can simply exclude them as well</p>



<a name="525943355"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943355" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943355">(Jun 26 2025 at 16:38)</a>:</h4>
<p>If we can define them once, great.</p>



<a name="525943470"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943470" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943470">(Jun 26 2025 at 16:38)</a>:</h4>
<p>That may be tricky. We may be in luck to use the list in a property</p>



<a name="525943575"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943575" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943575">(Jun 26 2025 at 16:39)</a>:</h4>
<p>Also, why are these not at least in a separate package under the main module, so you can exclude them by glob?</p>



<a name="525943699"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943699" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943699">(Jun 26 2025 at 16:40)</a>:</h4>
<p>No objection but it's Jim's PR. Maybe you can add on to the thread at <a href="https://github.com/IQSS/dataverse/pull/11281#discussion_r2164017028">https://github.com/IQSS/dataverse/pull/11281#discussion_r2164017028</a></p>



<a name="525943767"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943767" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943767">(Jun 26 2025 at 16:40)</a>:</h4>
<p>Painstaking to type... <span aria-label="weary" class="emoji emoji-1f629" role="img" title="weary">:weary:</span> (on my mobile)</p>



<a name="525943948"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943948" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943948">(Jun 26 2025 at 16:41)</a>:</h4>
<p>I just linked back to here (again) from that thread.</p>



<a name="525943993"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525943993" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525943993">(Jun 26 2025 at 16:42)</a>:</h4>
<p>Thanks for your thoughts on this!</p>



<a name="525944484"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/525944484" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#525944484">(Jun 26 2025 at 16:45)</a>:</h4>
<p>Done. <a href="https://github.com/IQSS/dataverse/pull/11281#discussion_r2169476879">https://github.com/IQSS/dataverse/pull/11281#discussion_r2169476879</a></p>



<a name="526070280"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/526070280" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#526070280">(Jun 27 2025 at 12:09)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> thanks! Jim pushed some exclusions here but they aren't working for me: <a href="https://github.com/IQSS/dataverse/pull/11281/commits/d49256ca30f4b6ba548a94d93009d651be4a8d2a">https://github.com/IQSS/dataverse/pull/11281/commits/d49256ca30f4b6ba548a94d93009d651be4a8d2a</a></p>
<p><code>GoldenOldiesSearchServiceBean.class</code> (for example) is now absent from the <code>target/docker/gdcc/dataverse/unstable/build/maven/app/WEB-INF/classes/edu/harvard/iq/dataverse/search</code> directory.</p>
<p>However, "goldenOldies" still active in the app. I can see it at <a href="http://localhost:8080/api/search/services">http://localhost:8080/api/search/services</a></p>
<p>Any ideas for us?</p>



<a name="526138756"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/526138756" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#526138756">(Jun 27 2025 at 18:59)</a>:</h4>
<p>I went ahead and approved the PR. The <code>excludes</code> Jim added aren't working but he followed up with another change that prevents "goldenOldies" and friends from appearing: <a href="https://github.com/IQSS/dataverse/pull/11281/commits/56a63109e3b45518ec002b7b8e30b486ce67588a">https://github.com/IQSS/dataverse/pull/11281/commits/56a63109e3b45518ec002b7b8e30b486ce67588a</a> <img alt=":shrugdog:" class="emoji" src="https://avatars.zulip.com/53090/emoji/images/86c833ef.png" title="shrugdog"></p>



<a name="526138814"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/search%20services%3A%20goldenOldies%2C%20oddlyEnough/near/526138814" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/search.20services.3A.20goldenOldies.2C.20oddlyEnough.html#526138814">(Jun 27 2025 at 18:59)</a>:</h4>
<p>Discussion at <a href="https://github.com/IQSS/dataverse/pull/11281#discussion_r2172488939">https://github.com/IQSS/dataverse/pull/11281#discussion_r2172488939</a></p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>