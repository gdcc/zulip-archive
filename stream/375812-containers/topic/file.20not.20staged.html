<html>
<head><meta charset="utf-8"><title>file not staged Â· containers Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/index.html">containers</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html">file not staged</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="412363849"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412363849" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412363849">(Jan 11 2024 at 15:10)</a>:</h4>
<p>Another PS: In the installation now when trying to upload a file through the web interface, the file is not staged (similar to the issue described here: <a href="https://groups.google.com/g/dataverse-community/c/7pbPBOnix7M/m/ZIznjSFqAwAJ">https://groups.google.com/g/dataverse-community/c/7pbPBOnix7M/m/ZIznjSFqAwAJ</a>), so no file upload is possible. Not sure if that is related?</p>



<a name="412367388"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412367388" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412367388">(Jan 11 2024 at 15:27)</a>:</h4>
<p>Weird. Any errors in Payara's server.log? You could try <code>docker logs dataverse-1</code> (I think it's dataverse-1. You can do a <code>docker ps</code> to get the name of the container.)</p>



<a name="412597951"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412597951" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412597951">(Jan 12 2024 at 18:24)</a>:</h4>
<p>Sorry, again missed the reply due to the move to the new channel, and thanks for the hint: it says "Temp directory is not configured."</p>



<a name="412598069"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412598069" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412598069">(Jan 12 2024 at 18:24)</a>:</h4>
<p>and before "Failed to create filesTempDirectory: /dv/temp"</p>



<a name="412599566"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412599566" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412599566">(Jan 12 2024 at 18:34)</a>:</h4>
<p>The /dv-folder exists but creating a subfolder is not permitted (also not manually). There is no /dv/temp.</p>



<a name="412602750"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412602750" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412602750">(Jan 12 2024 at 18:55)</a>:</h4>
<p>Hmm, yes, that would explain why you can't upload files.</p>



<a name="412602839"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412602839" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412602839">(Jan 12 2024 at 18:56)</a>:</h4>
<p>Can you mount /dv differently, with write permission?</p>



<a name="412602868"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412602868" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412602868">(Jan 12 2024 at 18:56)</a>:</h4>
<p>I'm not sure why you're seeing this. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="412605530"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412605530" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412605530">(Jan 12 2024 at 19:15)</a>:</h4>
<p>I tried a chmod, but it is not permitted</p>



<a name="412606747"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412606747" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412606747">(Jan 12 2024 at 19:24)</a>:</h4>
<p>entered the container now as root, changed to write permissions on /dv and added a /temp, but now the new error is "Failed to process and/or save the file km3net_logo_trans.png; /dv/temp/tmp16526284070961205053upload"</p>



<a name="412607696"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412607696" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412607696">(Jan 12 2024 at 19:31)</a>:</h4>
<p>OK, now I manually created /dv/temp from root, changed permission to a+w, and now it works</p>



<a name="412607757"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412607757" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412607757">(Jan 12 2024 at 19:31)</a>:</h4>
<p>Oh, great!</p>



<a name="412607870"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412607870" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412607870">(Jan 12 2024 at 19:32)</a>:</h4>
<p>But what happens the next time you spin up Dataverse in Docker? You'd have to do those steps manually?</p>



<a name="412608099"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608099" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608099">(Jan 12 2024 at 19:33)</a>:</h4>
<p>I hope not :) Anyhow, with the changes from Oliver I try not to touch the containers again...</p>



<a name="412608335"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608335" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608335">(Jan 12 2024 at 19:35)</a>:</h4>
<p>Thanks again for the help!</p>



<a name="412608367"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608367" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608367">(Jan 12 2024 at 19:35)</a>:</h4>
<p>Sure. I wonder what's different about your setup. I'm on a Mac and it works fine. The test runners in GitHub Actions are Ubuntu and it works fine.</p>



<a name="412608618"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608618" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608618">(Jan 12 2024 at 19:37)</a>:</h4>
<p>The main place where we're seeing problems in this area is Windows.</p>



<a name="412608710"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608710" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608710">(Jan 12 2024 at 19:37)</a>:</h4>
<p>I am not so deep into containers, so not sure where the permission problems come from</p>



<a name="412608799"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608799" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608799">(Jan 12 2024 at 19:38)</a>:</h4>
<p>Yeah, me neither. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="412608916"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412608916" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412608916">(Jan 12 2024 at 19:39)</a>:</h4>
<p>Could still hope that it's only an issue because there is something strange in my setup...</p>



<a name="412612483"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412612483" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412612483">(Jan 12 2024 at 20:04)</a>:</h4>
<p>well, the celebration was premature. Staging now works, but saving not - "Error. Failed to add files to dataset ..."</p>



<a name="412612802"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412612802" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412612802">(Jan 12 2024 at 20:06)</a>:</h4>
<p>The error: "java.lang.RuntimeException: Error creating temp directory" and "failed to save the file"</p>



<a name="412614177"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412614177" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412614177">(Jan 12 2024 at 20:18)</a>:</h4>
<p>Summary: After changing the permissions not only in /dv/temp but also for /dv to all, storage of the file works (in /dv/store). The java exception was caused by trying to upload a logo for the theme.</p>



<a name="412614733"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412614733" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412614733">(Jan 12 2024 at 20:23)</a>:</h4>
<p>A theme for a collection/dataverse, I suppose.</p>



<a name="412615464"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412615464" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412615464">(Jan 12 2024 at 20:29)</a>:</h4>
<p>for the root dataverse, yes.</p>



<a name="412615760"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412615760" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412615760">(Jan 12 2024 at 20:30)</a>:</h4>
<p>There are probably even more places where temp directories are created so we should fix this. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="412615857"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412615857" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412615857">(Jan 12 2024 at 20:31)</a>:</h4>
<p>I'm hoping one of the people who know Docker better (Oliver or Guillermo) can help next week.</p>



<a name="412616168"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/file%20not%20staged/near/412616168" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jutta Schnabel <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/file.20not.20staged.html#412616168">(Jan 12 2024 at 20:33)</a>:</h4>
<p>Thanks! So far we can live with the dataverse logo <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>