<html>
<head><meta charset="utf-8"><title>Errors running Demo · containers · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/index.html">containers</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html">Errors running Demo</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="486030279"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486030279" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wilkinson <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486030279">(Dec 04 2024 at 07:50)</a>:</h4>
<p>As suggested by Philip, I have moved my reports from GitHub to here :-)</p>
<p>Philip, you suggested that I try running the demo (<a href="https://guides.dataverse.org/en/6.4/container/running/demo.html">https://guides.dataverse.org/en/6.4/container/running/demo.html</a>).  I did so.  The first step (running docker-compose up, with no "demo" folder) was fine.  Dataverse came up and I could login.  The second step failed.  Creating a "demo" folder with the <a href="http://init.sh">init.sh</a> script, then docker-compose up results in an endless cycle of:</p>
<p>bootstrap           | 2024-12-04T07:49:28Z INF [HTTP] Checking the <a href="http://dataverse:8080/api/info/version">http://dataverse:8080/api/info/version</a> ...<br>
bootstrap           | 2024-12-04T07:49:28Z ERR Expectation failed error="the status code doesn't expect" actual=404 expect=200<br>
bootstrap           | 2024-12-04T07:49:36Z INF [HTTP] Checking the <a href="http://dataverse:8080/api/info/version">http://dataverse:8080/api/info/version</a> ...<br>
bootstrap           | 2024-12-04T07:49:36Z ERR Expectation failed error="the status code doesn't expect" actual=404 expect=200</p>
<p>until the timeout is reached.</p>
<p>Suggestions?</p>
<p>thanks!</p>



<a name="486074264"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486074264" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486074264">(Dec 04 2024 at 11:52)</a>:</h4>
<p><span class="user-mention" data-user-id="653164">@Mark Wilkinson</span> hi! Thanks for trying our containers! I'm sorry to hear you're having problems. If that /api/info/version endpoint failed there's a good chance the Dataverse war file could not be deployed to the Payara app server. Can you please provide more of the logs from the "dataverse" container so we can see what went wrong?</p>



<a name="486314790"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486314790" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486314790">(Dec 05 2024 at 14:15)</a>:</h4>
<p>You could try something like this, for example:</p>
<div class="codehilite"><pre><span></span><code>docker logs dataverse &gt; logs.txt 2&gt;&amp;1
</code></pre></div>



<a name="486314982"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486314982" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486314982">(Dec 05 2024 at 14:16)</a>:</h4>
<p>Also, I forgot to mention this but we have a meeting about containers every week. The next one is in 15 minutes! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Please feel free to join sometime! <a href="https://ct.gdcc.io">https://ct.gdcc.io</a></p>



<a name="486925979"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486925979" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wilkinson <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486925979">(Dec 09 2024 at 07:55)</a>:</h4>
<p><a href="/user_uploads/53090/4EGAwN4TI10ms90Xom8gPj3l/logs.txt">logs.txt</a></p>



<a name="486926060"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486926060" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wilkinson <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486926060">(Dec 09 2024 at 07:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin 🐉</span> <a href="#narrow/channel/375812-containers/topic/Errors.20running.20Demo/near/486314982">said</a>:</p>
<blockquote>
<p>Also, I forgot to mention this but we have a meeting about containers every week. The next one is in 15 minutes! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Please feel free to join sometime! <a href="https://ct.gdcc.io">https://ct.gdcc.io</a></p>
</blockquote>
<p>If I have to add another meeting to my calendar I will scream!  LOL!</p>



<a name="486981076"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486981076" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486981076">(Dec 09 2024 at 12:21)</a>:</h4>
<p><span class="user-mention" data-user-id="653164">@Mark Wilkinson</span> thanks! This error is definitely fatal but I'm not sure why you're seeing it:</p>
<div class="codehilite"><pre><span></span><code>Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V4.11__5513-database-variablemetadata.sql failed
----------------------------------------------------------
SQL State  : 42P01
Error Code : 0
Message    : ERROR: relation &quot;datavariable&quot; does not exist
Location   : db/migration/V4.11__5513-database-variablemetadata.sql (/opt/payara/deployments/dataverse/WEB-INF/classes/db/migration/V4.11__5513-database-variablemetadata.sql)
Line       : 4
Statement  : -- universe is dropped since it is empty in the dataverse
-- this column will be moved to variablemetadata table
-- issue 5513
ALTER TABLE datavariable
DROP COLUMN  if exists universe
</code></pre></div>



<a name="486981645"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486981645" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486981645">(Dec 09 2024 at 12:24)</a>:</h4>
<p>I'm curious about why you're seeing it but practically speaking I'd like to get you unblocked so you can continue with your setup of Dataverse.</p>
<p>What if you move the <code>data</code> directory aside and try again? Instead of <a href="https://guides.dataverse.org/en/6.4/container/running/demo.html#deleting-data-and-starting-over">deleting it</a> in case we want to try to reproduce the problem later, I mean.</p>
<p>And then try again?</p>



<a name="486985022"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486985022" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wilkinson <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486985022">(Dec 09 2024 at 12:41)</a>:</h4>
<p>That works!   I will continue following the tutorial!  thanks!</p>



<a name="486994263"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/486994263" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#486994263">(Dec 09 2024 at 13:23)</a>:</h4>
<p>Phew! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Go, go, go! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="490976844"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/490976844" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wilkinson <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#490976844">(Dec 27 2024 at 10:36)</a>:</h4>
<p>Hi Philip!  Coming back to this... is there anything I will be missing if I am not able to get the <a href="http://init.sh">init.sh</a> script to run?  Or will Dataverse be fully functional, back-uppable, etc.?  If everything is OK, I will start to move into Production :-)</p>



<a name="490980891"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/490980891" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Wilkinson <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#490980891">(Dec 27 2024 at 11:24)</a>:</h4>
<p>Well... the previous question doesn't matter in any case!  I switched to my production server, and had exactly the opposite result:  I could NOT bring up the demo server without the <a href="http://init.sh">init.sh</a> script!  It ran, and then everything was fine!</p>
<p>So the new question is:  should I remove the <a href="http://init.sh">init.sh</a> script now that it has been run once?  Or just leave it there?</p>



<a name="492521803"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/492521803" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#492521803">(Jan 08 2025 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="653164">@Mark Wilkinson</span> the <a href="http://init.sh">init.sh</a> script should only run once. It's fine to leave in place, as part of the configbaker image. When the configbaker image runs it should detect if Dataverse has already been configured or not and only run the <a href="http://init.sh">init.sh</a> script if Dataverse hasn't been configured.</p>



<a name="492522191"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/375812-containers/topic/Errors%20running%20Demo/near/492522191" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/375812-containers/topic/Errors.20running.20Demo.html#492522191">(Jan 08 2025 at 14:58)</a>:</h4>
<p>Regarding production, as we say at <a href="https://guides.dataverse.org/en/6.5/container/running/production.html">https://guides.dataverse.org/en/6.5/container/running/production.html</a> we are still working on tagging images so that you can be locked to a specific image (e.g. 6.4 or 6.5). We also plan to add more docs. Please keep the feedback coming! We want people with an eye toward production use to let us know what we've missed! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>