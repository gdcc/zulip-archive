<html>
<head><meta charset="utf-8"><title>Dataverse vagrant install with OSX M1/2/3 + VMware ¬∑ troubleshooting ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html">Dataverse vagrant install with OSX M1/2/3 + VMware</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="470759984"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/470759984" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#470759984">(Sep 16 2024 at 22:25)</a>:</h4>
<p>Has anyone successfully run the Vagrant Dataverse on a M1/2/4 mac? The initial issue we ran into was the providers needed to be swapped so we tried to use vmware instead of vbox. Installed fusion 13 pro personal edition, made some changes, got farther... then ran into issues with the shared filesystem (HGFS).  We tried to use vagrant-sshfs to get around this and ran into some more issues. </p>
<p>Wanted to check if I was missing something obvious before I dig in deeper.</p>



<a name="470761455"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/470761455" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#470761455">(Sep 16 2024 at 22:33)</a>:</h4>
<p>Do you mean the Vagrantfile at <a href="https://github.com/gdcc/dataverse-ansible">https://github.com/gdcc/dataverse-ansible</a> ?</p>



<a name="470765480"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/470765480" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#470765480">(Sep 16 2024 at 22:49)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin üêâ</span> yes, that is the repo I am starting with</p>



<a name="470771874"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/470771874" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#470771874">(Sep 16 2024 at 23:23)</a>:</h4>
<p>Hmm, I'm pretty sure that Vagrantfile is intended for development purposes, for working on the Ansible code.</p>
<p>Is that what you're trying to do? Gear up to contribute to that repo?</p>



<a name="470780475"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/470780475" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#470780475">(Sep 17 2024 at 00:19)</a>:</h4>
<p>yes, I was planning on using to test some changes to ansible. We have<br>
 been using an aws instance with the roles, but the feedback loop is a lot faster with a local instance</p>



<a name="470795536"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/470795536" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#470795536">(Sep 17 2024 at 01:32)</a>:</h4>
<p>Let's check with Don tomorrow to see if he's tested with M1 etc.</p>



<a name="471013412"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471013412" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471013412">(Sep 17 2024 at 15:19)</a>:</h4>
<p><span class="user-mention" data-user-id="626369">@Don Sizemore</span> just curious if you've tried Vagrant on M1.</p>



<a name="471029548"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471029548" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471029548">(Sep 17 2024 at 16:14)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin üêâ</span> I have not as I have an M2 these days. Want me to test that?</p>



<a name="471030644"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471030644" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471030644">(Sep 17 2024 at 16:19)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="626369">@Don Sizemore</span> , anything with arm64 architecture will help to get another data point. We've tested with 2 machines here and ran into same issue<br>
Steps:</p>
<ul>
<li>Install Fusion Pro 13 personal edition + various vagrant plugins</li>
<li>Update Vagrantfile to reflect new provider ie</li>
</ul>
<div class="codehilite"><pre><span></span><code>  config.vm.provider &quot;vmware_desktop&quot; do |vmware|
    vmware.vmx[&quot;tools.upgrade.policy&quot;] = &quot;manual&quot;
    vmware.gui = false
    vmware.ssh_info_public = true
    vmware.allowlist_verified = true
    vmware.linked_clone = false
    vmware.vmx[&quot;ethernet0.virtualdev&quot;] = &quot;vmxnet3&quot;
    vmware.vmx[&quot;memsize&quot;] = &quot;8192&quot;
    vmware.vmx[&quot;numvcpus&quot;] = &quot;4&quot;
  end
</code></pre></div>
<ul>
<li>It almost makes it but fails on HGFS file sharing, i've tried a few other fs types as fallbacks with no luck (sshfs, nfs)</li>
</ul>
<p>The error you would encounter is</p>
<div class="codehilite"><pre><span></span><code>HGFS was never found on the running virtual machine. This must be
installed either through VMware tools or Open VM Tools. HGFS is
required for shared folders to work properly. Please install either
the VMware tools or Open VM Tools and try again.
</code></pre></div>
<p>I've dug through the Vagrant issue queue and this issues seems to pop up and hung around, I tried some of the solutions suggested but with no luck -<br>
<a href="https://github.com/hashicorp/vagrant/issues/6775">https://github.com/hashicorp/vagrant/issues/6775</a></p>



<a name="471037128"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471037128" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471037128">(Sep 17 2024 at 16:48)</a>:</h4>
<p>Does this mean I would need Fusion Pro 13 to test?</p>



<a name="471037635"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471037635" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471037635">(Sep 17 2024 at 16:51)</a>:</h4>
<p>Probably, or parallels or some other provider, I don't think vbox is supported in arm64. VMware Fusion Pro 13 Personal edition is free, so we went with that to test</p>



<a name="471047882"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471047882" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471047882">(Sep 17 2024 at 17:40)</a>:</h4>
<p>It's funny, <a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a> says "macOS / Apple Silicon hosts" so I'd think M1 would be supported.</p>



<a name="471056052"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471056052" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471056052">(Sep 17 2024 at 18:13)</a>:</h4>
<p>If I clone the ansible repo and run <code>vagrant up</code> the error I immediately get (on is:</p>
<div class="codehilite"><pre><span></span><code>dataverse-ansible % vagrant up
The provider &#39;vmware_desktop&#39; could not be found, but was requested to
back the machine &#39;default&#39;. Please use a provider that exists.

Vagrant knows about the following providers: docker, hyperv, virtualbox
</code></pre></div>
<p><a href="https://app.vagrantup.com/bento/boxes/rockylinux-9">https://app.vagrantup.com/bento/boxes/rockylinux-9</a>, it could be the box doesn't support vbox, i'll dig in a little more</p>



<a name="471323826"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471323826" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471323826">(Sep 18 2024 at 18:35)</a>:</h4>
<p>A follow up on this, a switch to a different base box resolved the build issue for vmware<br>
<code>config.vm.box = "bento/rockylinux-9-arm64"</code><br>
<code>postgres_redhat.yml</code> also needed to be updated to use an aarch64 friendly version</p>



<a name="471325615"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471325615" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471325615">(Sep 18 2024 at 18:46)</a>:</h4>
<p>Interesting! Do you want to update the README for us?</p>



<a name="471326104"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471326104" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kristian Allen - UCLA <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471326104">(Sep 18 2024 at 18:49)</a>:</h4>
<p>Thanks, yes -- i'll submit a PR for the README shortly. I'll submit a longer PR with some logic switching based on if using osx or not for the postgres role a bit later, that one has an issue i'm still working out, something is not quite right with the GPG checks and I turned off for now just to get building. It is a postgres/yum/repo issue not related to dataverse</p>



<a name="471329210"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Dataverse%20vagrant%20install%20with%20OSX%20M1/2/3%20%2B%20VMware/near/471329210" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Dataverse.20vagrant.20install.20with.20OSX.20M1.2F2.2F3.20.2B.20VMware.html#471329210">(Sep 18 2024 at 19:07)</a>:</h4>
<p>Great! Yes! Please send all the PRs!</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>