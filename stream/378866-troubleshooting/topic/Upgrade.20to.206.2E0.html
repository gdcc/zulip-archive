<html>
<head><meta charset="utf-8"><title>Upgrade to 6.0 ¬∑ troubleshooting ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html">Upgrade to 6.0</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="567977703"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/567977703" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#567977703">(Jan 14 2026 at 12:46)</a>:</h4>
<p>Hi everyone,<br>
I upgraded Dataverse from 5.14 to 6.0. During the WAR deploy, I got 300+ warnings related to database constraints that already exist, and the process ended with <em>‚ÄúCommand deploy completed with warnings‚Äù</em>. No errors were reported.</p>
<p>After deployment, I verified the running version using the API endpoint:<br>
curl <a href="http://localhost:8080/api/info/version">http://localhost:8080/api/info/version</a><br>
The response was:<br>
{"status": "OK","data": {"version": "6.0","build": "1512-366fd41"}}</p>
<p>Before continuing with the next upgrade steps (for example, upgrading Solr), I would like to confirm whether these warnings are expected and non-critical, or if any additional actions or procedures are required as a result of them.</p>
<p>Thanks!</p>



<a name="567995006"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/567995006" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#567995006">(Jan 14 2026 at 14:09)</a>:</h4>
<p><span class="user-mention" data-user-id="1014983">@Ana</span> hi, it's safe to ignore those warnings. We are tracking this here: <a href="https://github.com/IQSS/dataverse/issues/11074">#11074</a>.</p>



<a name="567996762"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/567996762" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#567996762">(Jan 14 2026 at 14:17)</a>:</h4>
<p>Thanks for confirming!</p>



<a name="568467961"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/568467961" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#568467961">(Jan 16 2026 at 15:58)</a>:</h4>
<p>Hi,<br>
After upgrading to Dataverse 6.2 and Dataverse Previewers 1.5, image previews are no longer displayed for datasets <strong>in draft version</strong>. Instead, the image preview generates an error.<br>
<a href="/user_uploads/53090/tGaL41ZIoOyAkr4in3DVG_Zt/image.png">image.png</a><br>
To troubleshoot, I removed the existing external tool using the API and recreated it with the following json, but the issue persists:</p>
<div class="message_inline_image"><a href="/user_uploads/53090/tGaL41ZIoOyAkr4in3DVG_Zt/image.png" title="image.png"><img data-original-content-type="image/png" data-original-dimensions="1103x516" src="/user_uploads/thumbnail/53090/tGaL41ZIoOyAkr4in3DVG_Zt/image.png/840x560.webp"></a></div><div class="codehilite"><pre><span></span><code>{
  "displayName":"View Image",
  "description":"Preview an image file.",
  "toolName":"imagePreviewer",
  "scope":"file",
  "types":["preview"],
  "toolUrl":"https://gdcc.github.io/dataverse-previewers/previewers/v1.5/ImagePreview.html",
  "toolParameters": {
      "queryParameters":[
        {"fileid":"{fileId}"},
        {"siteUrl":"{siteUrl}"},
        {"datasetid":"{datasetId}"},
        {"datasetversion":"{datasetVersion}"},
        {"locale":"{localeCode}"}
      ]
    },
  "contentType":"image/png",
  "allowedApiCalls": [
    {
      "name": "retrieveFileContents",
      "httpMethod": "GET",
      "urlTemplate": "/api/v1/access/datafile/{fileId}?gbrecs=true",
      "timeOut": 3600
    },
    {
      "name": "downloadFile",
      "httpMethod": "GET",
      "urlTemplate": "/api/v1/access/datafile/{fileId}?gbrecs=false",
      "timeOut": 3600
    },
    {
      "name": "getDatasetVersionMetadata",
      "httpMethod": "GET",
      "urlTemplate": "/api/v1/datasets/{datasetId}/versions/{datasetVersion}",
      "timeOut": 3600
    }
  ]
}
</code></pre></div>



<a name="568480711"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/568480711" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#568480711">(Jan 16 2026 at 16:58)</a>:</h4>
<p><span class="user-mention" data-user-id="1014983">@Ana</span> hmm, can you please write to <a href="https://groups.google.com/g/dataverse-community">https://groups.google.com/g/dataverse-community</a> about this previewers problem? Jim Myers isn't in Zulip but he'll probably answer you there. He's the expert on this topic.</p>



<a name="568514175"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/568514175" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#568514175">(Jan 16 2026 at 20:03)</a>:</h4>
<p>Sure, thanks Philip!!</p>



<a name="568518991"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%206.0/near/568518991" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.206.2E0.html#568518991">(Jan 16 2026 at 20:34)</a>:</h4>
<p><span class="user-mention" data-user-id="1014983">@Ana</span> <a href="https://groups.google.com/g/dataverse-community/c/YuwGDGnEmho/m/_O4qu8BPEwAJ">https://groups.google.com/g/dataverse-community/c/YuwGDGnEmho/m/_O4qu8BPEwAJ</a> looks great! Thanks!</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>