<html>
<head><meta charset="utf-8"><title>How to Use Microprofile Config Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html">How to Use Microprofile Config</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="452099171"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452099171" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452099171">(Jul 17 2024 at 14:51)</a>:</h4>
<p>A new thread by <span class="user-mention" data-user-id="671269">@AsbjÃ¸rn SkÃ¸dt</span> - <a href="https://groups.google.com/g/dataverse-community/c/HgZRJ3WoKUs/m/YP9JFm1sAgAJ">https://groups.google.com/g/dataverse-community/c/HgZRJ3WoKUs/m/YP9JFm1sAgAJ</a></p>



<a name="452105017"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452105017" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452105017">(Jul 17 2024 at 15:13)</a>:</h4>
<p>I just replied, pointing him here to continue the discussion <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> <a href="https://groups.google.com/g/dataverse-community/c/HgZRJ3WoKUs/m/1cKsKudvAgAJ">https://groups.google.com/g/dataverse-community/c/HgZRJ3WoKUs/m/1cKsKudvAgAJ</a></p>



<a name="452114696"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452114696" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452114696">(Jul 17 2024 at 15:52)</a>:</h4>
<p>Yeah, I thought here might be better. Thanks.</p>



<a name="452123340"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452123340" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452123340">(Jul 17 2024 at 16:25)</a>:</h4>
<p>Maybe <span class="user-mention" data-user-id="671269">@AsbjÃ¸rn SkÃ¸dt</span> is interested in trying out the experimental TOML support <span aria-label="money face" class="emoji emoji-1f911" role="img" title="money face">:money_face:</span></p>



<a name="452139601"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452139601" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452139601">(Jul 17 2024 at 17:24)</a>:</h4>
<p>Exactly! I think he'd love it.</p>



<a name="452139845"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452139845" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452139845">(Jul 17 2024 at 17:25)</a>:</h4>
<p><span class="user-mention" data-user-id="671269">@AsbjÃ¸rn SkÃ¸dt</span> see Feature Request: Enabling configuration of Dataverse using simple file(s) <a href="https://github.com/IQSS/dataverse/issues/10684">#10684</a></p>



<a name="452276082"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452276082" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AsbjÃ¸rn SkÃ¸dt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452276082">(Jul 18 2024 at 08:01)</a>:</h4>
<p>Hey! Yes, let's continue here. What terrible lies the ChatGPT gives you! What is this TOML, tell me more :)</p>



<a name="452277567"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452277567" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452277567">(Jul 18 2024 at 08:06)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="671269">@AsbjÃ¸rn SkÃ¸dt</span> !</p>
<p>I've been announcing this in <a class="stream-topic" data-stream-id="375812" href="/#narrow/stream/375812-containers/topic/toml.20configuration">#containers &gt; toml configuration</a>... I created a <a href="https://github.com/gdcc/jdbc-conffile-driver">fake JDBC driver</a> that we can use to deploy  JVM options that are MPCONFIG enabled (note that not all are, especially the storage subsystem isn't yet) as <a href="https://toml.io/en/">TOML files</a>.</p>
<p>There's also an upstream issue that describes it with some examples: <a href="https://github.com/IQSS/dataverse/issues/10684">#10684</a></p>



<a name="452343695"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452343695" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452343695">(Jul 18 2024 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="671269">@AsbjÃ¸rn SkÃ¸dt</span> feel free to join the container meeting in 5 or watch the recording later. Will give a demo of the TOML config thing. (Also with a demo app, not Dataverse...)</p>



<a name="452344083"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/452344083" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#452344083">(Jul 18 2024 at 13:25)</a>:</h4>
<p>See <a class="stream-topic" data-stream-id="375812" href="/#narrow/stream/375812-containers/topic/weekly.20meeting">#containers &gt; weekly meeting</a> or <a href="https://ct.gdcc.io">https://ct.gdcc.io</a></p>



<a name="453105055"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/453105055" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> AsbjÃ¸rn SkÃ¸dt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#453105055">(Jul 22 2024 at 07:44)</a>:</h4>
<p>So I think the conclusion for us was to wait for Oliver's TOML update.</p>



<a name="453105641"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/453105641" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#453105641">(Jul 22 2024 at 07:46)</a>:</h4>
<p>Don't forget to vote <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span>  on <a href="https://github.com/payara/Payara/issues/6822">https://github.com/payara/Payara/issues/6822</a> y'all!!!</p>



<a name="453180815"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/453180815" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#453180815">(Jul 22 2024 at 13:50)</a>:</h4>
<p>So, yes, please vote, and yes, I'm looking forward to the TOML file, but...</p>
<p>... should we also write better documentation about how to use MicroProfile Config today?</p>



<a name="453213492"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/453213492" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#453213492">(Jul 22 2024 at 15:48)</a>:</h4>
<p>No idea. It's complicated. And the configuration guide is a mess. I already added a section on safe password handling. Not sure if we put more gasoline into the fire.</p>



<a name="453213603"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/453213603" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#453213603">(Jul 22 2024 at 15:49)</a>:</h4>
<p>Should we send a notice to the community mailing list to add more votes for the issue? I'm already alerting some other channels to get more votes in.</p>



<a name="453214555"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/453214555" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#453214555">(Jul 22 2024 at 15:53)</a>:</h4>
<p>Heh, if you want to email the google group, for it.</p>
<p>That said, at 15 votes, the TOML issue is already number one! Number two has 9 votes: <a href="https://github.com/payara/Payara/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc">https://github.com/payara/Payara/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc</a></p>



<a name="538696719"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538696719" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Sundu <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538696719">(Sep 10 2025 at 16:39)</a>:</h4>
<p>Hi there. <br>
Did TOML support get implemented in Dataverse? We have also been looking into using a <em>microprofile-config.properties</em>Â file but need some more guidance on where to put the file and how to get Payara to recognize it. What are folks doing to avoid editing the domain.xml file and handle configuration like PID settings? <br>
Thanks, Jay</p>



<a name="538708698"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538708698" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538708698">(Sep 10 2025 at 17:49)</a>:</h4>
<p>Never ever edit the properties file directly. It is absolutely not meant to be edited and you may Ende up getting in trouble doing so.</p>



<a name="538708760"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538708760" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538708760">(Sep 10 2025 at 17:50)</a>:</h4>
<p>Yes, Payara enabled TOML support.</p>



<a name="538708859"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538708859" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538708859">(Sep 10 2025 at 17:50)</a>:</h4>
<p>Here's how you activate it: <a href="https://docs.payara.fish/community/docs/6.2025.9/Technical%20Documentation/MicroProfile/Config/TOML.html">https://docs.payara.fish/community/docs/6.2025.9/Technical%20Documentation/MicroProfile/Config/TOML.html</a></p>



<a name="538709043"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538709043" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538709043">(Sep 10 2025 at 17:52)</a>:</h4>
<p>So far I've mostly used env vars in containers, but looking forward to using TOML now, mounted from a K8s ConfigMap.</p>



<a name="538726183"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538726183" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Sundu <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538726183">(Sep 10 2025 at 19:37)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> I'll try to get TOML working</p>



<a name="538901184"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538901184" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel C Schmidt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538901184">(Sep 11 2025 at 16:22)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> Following up on Jay's Q, right now we're deploying Dataverse to VMs per the documentation (which among things, involves using asadmin to deploy the app, which results in a mutable &lt;application&gt; section of that file). The root motivation behind Jay's Q is that we want to full extract our config customization (a la what you'd do with a containerized deployment). (We run containers for everything but Dataverse, but opted not to for it because it didn't seem well-supported at the time.) Do you have any pointers for us? Maybe a GitHub link? From your comment it sounds like you're mostly using the environment, but we'd be curious about details (e.g. what remains, if anything, in domain.xml).</p>



<a name="538905289"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538905289" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538905289">(Sep 11 2025 at 16:43)</a>:</h4>
<p>Here's an example using MPConfig with environment variables in Dataverse:</p>
<div class="codehilite"><pre><span></span><code>[dataverse@dev1 ~]$ /usr/local/payara6/glassfish/bin/asadmin stop-domain
Picked up JAVA_TOOL_OPTIONS: -Djdk.util.zip.disableZip64ExtraFieldValidation=true --add-opens=java.base/java.io=ALL-UNNAMED
Waiting for the domain to stop ....
Command stop-domain executed successfully.
[dataverse@dev1 ~]$
[dataverse@dev1 ~]$ export DATAVERSE_VERSION=foo
[dataverse@dev1 ~]$
[dataverse@dev1 ~]$ /usr/local/payara6/glassfish/bin/asadmin start-domain
Picked up JAVA_TOOL_OPTIONS: -Djdk.util.zip.disableZip64ExtraFieldValidation=true --add-opens=java.base/java.io=ALL-UNNAMED
Waiting for domain1 to start ...................
Successfully started the domain : domain1
domain  Location: /usr/local/payara6/glassfish/domains/domain1
Log File: /usr/local/payara6/glassfish/domains/domain1/logs/server.log
Admin Port: 4848
Command start-domain executed successfully.
[dataverse@dev1 ~]$
[dataverse@dev1 ~]$ curl http://localhost:8080/api/info/version
{&quot;status&quot;:&quot;OK&quot;,&quot;data&quot;:{&quot;version&quot;:&quot;foo&quot;,&quot;build&quot;:&quot;11747-review-dataset-type-48ccfc8f54&quot;}}
</code></pre></div>
<p>DATAVERSE_VERSION comes from here in the code: <a href="https://github.com/IQSS/dataverse/blob/v6.7.1/src/main/java/edu/harvard/iq/dataverse/settings/JvmSettings.java#L42">https://github.com/IQSS/dataverse/blob/v6.7.1/src/main/java/edu/harvard/iq/dataverse/settings/JvmSettings.java#L42</a></p>
<p>(Don't worry about my custom build number. I set that with <a href="https://github.com/IQSS/dataverse/blob/develop/scripts/installer/custom-build-number">a script</a> before I built the war file.)</p>



<a name="538906691"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538906691" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel C Schmidt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538906691">(Sep 11 2025 at 16:51)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="598112">@Philip Durbin ðŸš€</span> , that looks promising. I'm thinking we could package everything into a .env file and (in our current setup) pass that to the service via the systemd service configuration (i.e. EnvironmentFile). Do you know if everything can be provided that way, or would we still have to resort to templating domain.xml or running asadmin scripts pre-startup for some settings? I'm coming into this from another project so am a bit less familiar with Dataverse than <span class="user-mention" data-user-id="674237">@Jay Sundu</span> , but my understanding from his testing is that not all configurations can be set that way.</p>



<a name="538918444"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538918444" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538918444">(Sep 11 2025 at 18:09)</a>:</h4>
<p>There are a few stragglers but most of the old JVM settings we used to set in domain.xml can now be set via MPConfig, such as with environment variables, as shown above.</p>



<a name="538918552"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538918552" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538918552">(Sep 11 2025 at 18:10)</a>:</h4>
<p>Storage can't be configured via MPConfig yet. See <a href="https://github.com/IQSS/dataverse/issues/9998">#9998</a>.</p>



<a name="538918767"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538918767" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538918767">(Sep 11 2025 at 18:12)</a>:</h4>
<p>I think that's the big one. Please let us know what else you need.</p>



<a name="538918805"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538918805" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538918805">(Sep 11 2025 at 18:12)</a>:</h4>
<p>But yeah, you should be able to source an .env file before you start Payara.</p>



<a name="538944016"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538944016" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Sundu <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538944016">(Sep 11 2025 at 21:17)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="598112">@Philip Durbin ðŸš€</span> . Can I use environment variables for the Per Provider Settings? For instance, I have the variable dataverse.pid.ez1.type and I tried setting DATAVERSE_PID_EZ1_TYPE but that doesn't seem to work.</p>



<a name="538945859"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538945859" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel C Schmidt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538945859">(Sep 11 2025 at 21:32)</a>:</h4>
<p><span class="user-mention" data-user-id="674237">@Jay Sundu</span> Did you try using DATAVERSE_PID_EZID_ as the prefix? That would seem to be it based on the code <a href="https://github.com/IQSS/dataverse/blob/v6.7.1/src/main/java/edu/harvard/iq/dataverse/settings/JvmSettings.java#L42">linked above</a>. Granted I'm just grokking the constants there, not looking into how things are actually fetched from ENV, so might be off here</p>



<a name="538955563"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538955563" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jay Sundu <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538955563">(Sep 11 2025 at 23:22)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="960313">@Daniel C Schmidt</span>** I ended up rebuilding the dev environment and now DATAVERSE_PID_EZ1_TYPE works there.</p>



<a name="538956041"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538956041" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538956041">(Sep 11 2025 at 23:27)</a>:</h4>
<p>Working? Great! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="538963111"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538963111" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538963111">(Sep 12 2025 at 00:35)</a>:</h4>
<p>Also, if you have suggestions of how we should improve the docs, let's talk! I can definitely help with a PR if you want to start one.</p>



<a name="538984428"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/538984428" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#538984428">(Sep 12 2025 at 05:21)</a>:</h4>
<p>Personally, I'd always favor using a TOML file over any .env file. But if systemd + env file works for you, go go go! <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="539034222"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539034222" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539034222">(Sep 12 2025 at 10:48)</a>:</h4>
<p>Makes sense, but you gotta walk before you can run. <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span> </p>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> what do you think? Should document the <code>DATAVERSE_VERSION</code> example above? I think of it as the "hello world" of using MPConfig in a classic installation.</p>



<a name="539048097"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539048097" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539048097">(Sep 12 2025 at 12:08)</a>:</h4>
<p>Maybe instead of _VERSION use the build number thingy?</p>



<a name="539048187"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539048187" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539048187">(Sep 12 2025 at 12:08)</a>:</h4>
<p>But sure, we can make some example for MPCONFIG and include it in the docs</p>



<a name="539049205"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539049205" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539049205">(Sep 12 2025 at 12:13)</a>:</h4>
<p>It probably would help to have the full picture in there how to go about the env file and systemd, to be extended with TOML etc</p>



<a name="539060649"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539060649" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539060649">(Sep 12 2025 at 13:06)</a>:</h4>
<p>DATAVERSE_BUILD has no effect if you build the war with src/main/java/BuildNumber.properties in place: <a href="https://github.com/IQSS/dataverse/blob/v6.7.1/src/main/java/edu/harvard/iq/dataverse/util/SystemConfig.java#L106-L120">https://github.com/IQSS/dataverse/blob/v6.7.1/src/main/java/edu/harvard/iq/dataverse/util/SystemConfig.java#L106-L120</a></p>
<p>(I tried it yesterday. Didn't work. Looked at the code above.)</p>



<a name="539060852"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539060852" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539060852">(Sep 12 2025 at 13:07)</a>:</h4>
<p>The problem I'm trying to solve with an example is this: people may be unclear how to even use MPConfig and just give up and hack on domain.xml.</p>



<a name="539079474"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539079474" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel C Schmidt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539079474">(Sep 12 2025 at 14:29)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin ðŸš€</span> <a href="#narrow/channel/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config/near/539060852">said</a>:</p>
<blockquote>
<p>The problem I'm trying to solve with an example is this: people may be unclear how to even use MPConfig and just give up and hack on domain.xml.</p>
</blockquote>
<p>That was our experience coming into the deployment process as a team with a lot of container/orchestration experience but only a very, very distant Java background. (I suspect the clean path is more obvious to an experienced Java developer.) The use of asadmin, for example, which is referenced quite a bit in release notesâ€”we didn't realize that not only does it modify domain.xml, but that some of the modifications are (without hacky workarounds) impossible to back into configuration management. Application deployments come to mind due to changes to the &lt;applications&gt; config section.</p>



<a name="539080529"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/How%20to%20Use%20Microprofile%20Config/near/539080529" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/How.20to.20Use.20Microprofile.20Config.html#539080529">(Sep 12 2025 at 14:34)</a>:</h4>
<p>Makes total sense. Many years of hacking on domain.xml (for this project) has made me lose perspective on how unnatural it is. Hopefully you like the MPConfig way better. And TOML (which builds on MPConfig) should be better still. More like configuring any service on Linux. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>