<html>
<head><meta charset="utf-8"><title>upgrading 5.14 to 6.0 Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html">upgrading 5.14 to 6.0</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="437713402"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437713402" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437713402">(May 08 2024 at 19:09)</a>:</h4>
<p>I'm upgrading 5.14 to 6.0 on RHEL 7.9.   First issue I've run into is the Java 17 upgrade.  Following the directions (<a href="https://github.com/IQSS/dataverse/releases/tag/v6.0">https://github.com/IQSS/dataverse/releases/tag/v6.0</a>) to install java-17-openjdk I got the error:  No package java-17-openjdk available.<br>
Is this because I'm still on RHEL 7.9?  I'm going to go looking for another source for java 17.</p>
<p>Is openjdk-17-jdk the same package?</p>



<a name="437723615"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437723615" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437723615">(May 08 2024 at 20:21)</a>:</h4>
<p>Let's see, as of Dataverse 6.0 it looks like we were recommending RHEL 8: <a href="https://guides.dataverse.org/en/6.0/installation/prerequisites.html#linux">https://guides.dataverse.org/en/6.0/installation/prerequisites.html#linux</a></p>



<a name="437723647"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437723647" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437723647">(May 08 2024 at 20:21)</a>:</h4>
<p>Any chance you can upgrade from RHEL 7 to 8?</p>



<a name="437723709"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437723709" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437723709">(May 08 2024 at 20:22)</a>:</h4>
<p>(6.2 says the same, by the way, RHEL 8: <a href="https://guides.dataverse.org/en/6.2/installation/prerequisites.html#linux">https://guides.dataverse.org/en/6.2/installation/prerequisites.html#linux</a> )</p>



<a name="437723832"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437723832" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437723832">(May 08 2024 at 20:22)</a>:</h4>
<p>We're planning on it.  It was recommended that we go from 6.0 to 6.2 first.  Then upgrade but I guess that's not going to work.</p>



<a name="437724037"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437724037" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437724037">(May 08 2024 at 20:24)</a>:</h4>
<p>5.14 should run fine on both RHEL 7 and 8.</p>



<a name="437724560"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437724560" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437724560">(May 08 2024 at 20:27)</a>:</h4>
<p>Ok, so upgrade RHEL first.    I found the RHEL has an upgrade in place option.  Any recommendations on upgrading?</p>



<a name="437725486"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437725486" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437725486">(May 08 2024 at 20:34)</a>:</h4>
<p>Jeez, it's been a while. Upgrading in place for RHEL 4 to 5, for example, I don't believe was ever recommended. Hopefully it's gotten better.</p>



<a name="437730407"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437730407" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437730407">(May 08 2024 at 21:06)</a>:</h4>
<p>This is the test system</p>



<a name="437738117"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437738117" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437738117">(May 08 2024 at 22:08)</a>:</h4>
<p>Phew.</p>



<a name="437751558"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437751558" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437751558">(May 09 2024 at 00:42)</a>:</h4>
<p>So far upgrading RHEL7 to 8 inplace with leapp has some pretty major dependancy problems.   I'm considering making a new clean install and mounting the s3 buckets to the new machine - if all else fails.</p>



<a name="437752489"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/437752489" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#437752489">(May 09 2024 at 00:56)</a>:</h4>
<p>Nothing like a new clean install. <span aria-label="broom" class="emoji emoji-1f9f9" role="img" title="broom">:broom:</span></p>



<a name="438026475"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438026475" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438026475">(May 10 2024 at 18:14)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> Huh. I saw your messages to <a href="https://groups.google.com/g/dataverse-dev/c/1-Rj80A02No/m/jCBPyE85AgAJ">https://groups.google.com/g/dataverse-dev/c/1-Rj80A02No/m/jCBPyE85AgAJ</a> briefly but now the are gone. Let me know if you'd like to discuss here.</p>



<a name="438481833"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438481833" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438481833">(May 14 2024 at 01:41)</a>:</h4>
<p>At this point updating in place doesn't seem like an option since some of the dependancies for leapp are now unavailable. I'm working on a test instance for a clean install. Documentation for 6.2 (the latest) recommends RHEL8. Has anyone successfully used RHEL9?  I'm looking at what's available on aws.</p>



<a name="438481984"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438481984" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438481984">(May 14 2024 at 01:43)</a>:</h4>
<p>By the way, creating an instance from scratch and moving over relivent info is a good way to test my disaster rebuild plan.</p>



<a name="438603652"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438603652" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438603652">(May 14 2024 at 15:42)</a>:</h4>
<p><span class="user-mention" data-user-id="626369">@Don Sizemore</span> would know better than I would but I believe Rocky 9 is working fine but somehow we have a test failing:</p>
<p>AdminIT.testBannerMessages failing on Rocky 9 <a href="https://github.com/IQSS/dataverse/issues/10312">#10312</a></p>
<p>At the moment we are testing with Rocky 8.9: <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/2f605efb9ac22614bce7cc4b9acf718ba2d66b3b/ec2/ec2-create-instance.sh#L14">https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/2f605efb9ac22614bce7cc4b9acf718ba2d66b3b/ec2/ec2-create-instance.sh#L14</a></p>



<a name="438614606"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438614606" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438614606">(May 14 2024 at 16:41)</a>:</h4>
<p>I'll see what version of RHEL8 is available on aws</p>



<a name="438617337"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438617337" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438617337">(May 14 2024 at 16:57)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span> JP is on the case as we type!<br>
<span class="user-mention" data-user-id="653479">@jamie jamison</span> you can find RockyLinux AMIs here <a href="https://rockylinux.org/download">https://rockylinux.org/download</a></p>



<a name="438659793"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438659793" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438659793">(May 14 2024 at 21:21)</a>:</h4>
<p>Crazy as this sounds I'm having trouble with AWS getting the available RHEL8.6 to work with the t2.large machine.</p>



<a name="438694292"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438694292" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438694292">(May 15 2024 at 01:55)</a>:</h4>
<p>Huh. What kind of trouble?</p>



<a name="438707206"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438707206" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438707206">(May 15 2024 at 03:10)</a>:</h4>
<p>Up to now I've used the AWS AMIs.  Right now the only AWS AMI 8.6 launch fials beause the included Microsoft SQL Server is not supported for the instance type 't2.large' - which is the size of the dataverse test instance.<br>
 So if I'm using the AWS supplied AMI the only option is a RHEL 9.   Or look through the 3rd party AMIs for one that uses RHEL 8.</p>



<a name="438767666"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438767666" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438767666">(May 15 2024 at 10:04)</a>:</h4>
<p>Huh. We don't even need Microsoft SQL Server</p>



<a name="438785321"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438785321" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438785321">(May 15 2024 at 11:57)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> You don't want the RHEL 8.9 AMI? the standard image shouldn't include MS SQL anything; I'm not sure that's the correct image.</p>



<a name="438846005"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438846005" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438846005">(May 15 2024 at 16:46)</a>:</h4>
<p>I'll have to dig some more.  Didn't see the RHEL 8.9 AMI.</p>



<a name="438850826"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438850826" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438850826">(May 15 2024 at 17:14)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> if you specifically want RHEL, try this one? <a href="https://aws.amazon.com/marketplace/pp/prodview-kv5mi3ksb2mma">https://aws.amazon.com/marketplace/pp/prodview-kv5mi3ksb2mma</a></p>



<a name="438851412"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/438851412" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#438851412">(May 15 2024 at 17:17)</a>:</h4>
<p>I have to find out what the status is of our subscription.  I'm specifically running RHEL since that's whats listed in the documentation and I try to stay close to that to make troubleshooting easier.</p>



<a name="439098954"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439098954" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439098954">(May 16 2024 at 20:49)</a>:</h4>
<p>As followup info.   Just spent time with an extremely helpful AWS RedHat support person.  After about an hour and a helf we both came to conclusion that a fresh install would be the best solution.   I have a test.dataverse 8.6 spun up and am going to do a fresh 6.2 install.   <br>
Might as well mark this as resolved.</p>



<a name="439099430"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439099430" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439099430">(May 16 2024 at 20:52)</a>:</h4>
<p>Oh, well, there's no rush. Good luck with the upgrade! Please keep us posted! We can keep this open.</p>



<a name="439298118"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439298118" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439298118">(May 17 2024 at 22:10)</a>:</h4>
<p>I'm using the ansible script for a fresh install of 6.2.  Ansible script is how I installed the original dataverse.   Is there are prefered method - meaning ansible or 'standard'?</p>



<a name="439353955"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439353955" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439353955">(May 18 2024 at 13:08)</a>:</h4>
<p>I'm a big fan of the Ansible scripts</p>



<a name="439611421"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439611421" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439611421">(May 20 2024 at 16:43)</a>:</h4>
<p>That was how I installed Dataverse the first time. I believe it was 4.something and that worked out well.  Ansible is a good tool.</p>



<a name="439621555"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439621555" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439621555">(May 20 2024 at 17:41)</a>:</h4>
<p>All credit to <span class="user-mention" data-user-id="626369">@Don Sizemore</span> for it!</p>



<a name="439682091"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439682091" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439682091">(May 20 2024 at 21:19)</a>:</h4>
<p>I'm going throught the ansible script.  What I'm not sure about is the letsencrypt part. Should I be installing certbot to setup letsencrypt?  I don't see any reference in the 6.2 documentation, first place I seee it is in the ansible script, line 37</p>



<a name="439682377"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439682377" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439682377">(May 20 2024 at 21:21)</a>:</h4>
<p>Hmm. I suppose it's fine to try it. If it doesn't work you could always add a cert manually.</p>



<a name="439937379"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439937379" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439937379">(May 22 2024 at 01:15)</a>:</h4>
<p>I'm still woking on getting the ssl keys.  BUt going through the ansible script and noticed line 371 has the option to install munin, default is false.   I have never been able to install munin on the old RHEL7 or the new RHEL 8.9.  Seems to be missing pearl although I have pearl5 version 26.</p>



<a name="439938451"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439938451" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439938451">(May 22 2024 at 01:27)</a>:</h4>
<p>And as usual I found an answer after whining in zulip.  Besides perl you have to install  perl-IPC-Run.   And then it installs. Wish that info was on the munin site but found in stackexchange</p>



<a name="439944361"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/439944361" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#439944361">(May 22 2024 at 02:28)</a>:</h4>
<p>Oh! Glad you got Munin installed!</p>



<a name="440072025"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440072025" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440072025">(May 22 2024 at 11:38)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> that Munin task hasn't been updated in four years. it needs <code>perl-IPC-Run</code>, anything else? I'll be happy to update it.</p>



<a name="440143637"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440143637" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440143637">(May 22 2024 at 17:18)</a>:</h4>
<p>It needs perl and the package I needed was perl-IPC-Run.   Found that solution in stackexchange.</p>



<a name="440143661"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440143661" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440143661">(May 22 2024 at 17:18)</a>:</h4>
<p>By the way thak you</p>



<a name="440143769"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440143769" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440143769">(May 22 2024 at 17:18)</a>:</h4>
<p>This is the first fresh install I've done since 4.something</p>



<a name="440144461"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440144461" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440144461">(May 22 2024 at 17:22)</a>:</h4>
<p>I have another question about the script.   Line 468 has orcid enabled true or default false.  I always thought that orcid ids were for an individual.  Is this for an organizational orcid id?</p>



<a name="440147943"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440147943" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440147943">(May 22 2024 at 17:40)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> it looks like we just support enabling it as an authenticationProvider? <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/develop/tasks/orcid.yml">https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/develop/tasks/orcid.yml</a></p>



<a name="440148175"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440148175" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440148175">(May 22 2024 at 17:41)</a>:</h4>
<p>Thank you.  Would it halp if I volunteer to do some commenting in the ansible script? For newbys such as myself.</p>



<a name="440148484"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440148484" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440148484">(May 22 2024 at 17:43)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> absolutely!</p>



<a name="440152705"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440152705" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440152705">(May 22 2024 at 18:07)</a>:</h4>
<p>Running script. Failed at:<br>
TASK [dataverse : RHEL8/9 need codeready-builder] <strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><strong>*</strong><br>
fatal: [localhost]: FAILED! =&gt; {"changed": false, "msg": "codeready-builder-for-rhel-8-x86_64-rpms is not a valid repository ID", "results": ["codeready-builder-for-rhel-8-x86_64-rpms is not a valid repository ID"]}</p>



<a name="440153056"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440153056" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440153056">(May 22 2024 at 18:09)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> I'm not sure if you need a subscription for that on RHEL? we test on RockyLinux</p>



<a name="440153186"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440153186" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440153186">(May 22 2024 at 18:10)</a>:</h4>
<p>I'm on aws which is different then a subscription.  I may have to hit up aws tech support</p>



<a name="440153362"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440153362" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440153362">(May 22 2024 at 18:11)</a>:</h4>
<p>looks like RHEL in AWS wants <code>sudo dnf config-manager --set-enabled rhui-codeready-builder-for-rhel-8-rhui-rpms</code></p>



<a name="440153569"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440153569" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440153569">(May 22 2024 at 18:12)</a>:</h4>
<p>I opened <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/354">https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/354</a></p>



<a name="440154484"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440154484" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440154484">(May 22 2024 at 18:18)</a>:</h4>
<p>I'm going to contact aws tech support and will post answer here</p>



<a name="440156003"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440156003" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440156003">(May 22 2024 at 18:27)</a>:</h4>
<p>ugh =( I'll update Ansible to do what needs doing, once we pin that down.</p>



<a name="440156913"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440156913" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440156913">(May 22 2024 at 18:32)</a>:</h4>
<p>The fault isn't your ansible script but aws.   Something I'll add to the comments when I get an answer.</p>



<a name="440200317"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440200317" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440200317">(May 22 2024 at 23:02)</a>:</h4>
<p>I don't have a solution yet but the ansible install fails on rserve.yml, line 13-22</p>
<ul>
<li>name: RHEL8/9 need codeready-builder<br>
  rhsm_repository:<br>
    name: codeready-builder-for-rhel-8-x86_64-rpms<br>
  when: (ansible_distribution == "RedHat" and ansible_distribution_major_version == "8") or<br>
        (ansible_distribution == "RedHat" and ansible_distribution_major_version == "9")</li>
</ul>



<a name="440371443"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440371443" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440371443">(May 23 2024 at 17:52)</a>:</h4>
<p>This is probably an inappropriate way to fix a problem.  I just opened  redhat-rhui.repo with vim, looked for the codeready-builder repo and manually set enabeled from 0 to 1.<br>
I'd hardly call that problem solved but now I can work through any other ansible script errors that pop up.</p>



<a name="440373215"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440373215" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440373215">(May 23 2024 at 18:04)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> that is absolutely a way to fix it! just to confirm, on RHEL the repo name is still codeready-builder-for-rhel-8-x86_64-rpms ?</p>



<a name="440374033"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440374033" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440374033">(May 23 2024 at 18:10)</a>:</h4>
<p>yes.   There is codeready-builder-for-rhel-8-rhui-rpms and codeready-builder-for-rhel-8-rhui-debug-rpms</p>
<p>Fixable errors I'm running into now are python needed to be installed from pip3 rather than the 'official' rhel repo and some aws-and-ansible related issues.  (yes, I'm keeping a list).    Ansible has good trouble shoothing notes.  Example: "* On some systems (such as AWS RDS),Â <code>pg_authid</code>Â is not accessible, thus, the module cannot compare the current and desiredÂ <code>password</code>. In this case, the module assumes that the passwords are different and changes it reporting that the state has been changed. To skip all password related checks for existing users, useÂ <em>no_password_changes=yes</em>."</p>



<a name="440395979"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440395979" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440395979">(May 23 2024 at 20:46)</a>:</h4>
<p>And having trouble with codeready-builder-for-rhel-<strong>8-x86_64</strong>-rpms again, or really in a different place.</p>



<a name="440403725"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440403725" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440403725">(May 23 2024 at 21:45)</a>:</h4>
<p>Definately stuck in a different place, trying to find package   "codeready-builder-for-rhel-<strong>8-x86</strong>_64-rpmsdf".  I think this is a different codebuilder package.</p>



<a name="440537980"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440537980" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440537980">(May 24 2024 at 16:10)</a>:</h4>
<p>I finally decided RHEL on AWS wasn't going to be working anytime soon and spun up a test server for Rocky 8.9.   Ran perfectly up to the rsever part. (<a href="https://github.com/IQSS/dataverse/issues/10452">https://github.com/IQSS/dataverse/issues/10452</a>).  <br>
New question.  I'm running Rocky 8.9.   Any opinions on whether it would be better to go straight to Rocky 9?</p>



<a name="440541433"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440541433" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440541433">(May 24 2024 at 16:32)</a>:</h4>
<p>as of yesterday, the test suite succeeds on Rocky 9, so yes! you can install it with the Rocky 9 branch of Dataverse-Ansible: <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/243_rocky_9/ec2/ec2-create-instance.sh">https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/243_rocky_9/ec2/ec2-create-instance.sh</a><br>
launched with something like: <code>$ ec2/ec2-create-instance.sh -v -g your_group_vars_file -a 243_rocky_9</code></p>



<a name="440541590"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440541590" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440541590">(May 24 2024 at 16:33)</a>:</h4>
<p>the test failure, fixed in develop but post-6.2, involves an unnecessary check for $LANG. most other places the default is <code>en_us.UTF-8</code> but on Rocky 9 AMIs for some strange reason it's simply <code>C</code>.</p>



<a name="440541789"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440541789" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440541789">(May 24 2024 at 16:34)</a>:</h4>
<p>I'll try Rocky 9.  Might mean putting off the enevitable OS upgrade.  Maybe I can kick the proverbial can down past my retirement.</p>



<a name="440541907"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440541907" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440541907">(May 24 2024 at 16:35)</a>:</h4>
<p>this is one reason I'm a big fan of RHEL9 / Rocky 9 - it EOLs on May 31st, 2032, by which point I should have full retirement eligibility.</p>



<a name="440565616"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440565616" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440565616">(May 24 2024 at 19:24)</a>:</h4>
<p>6.2 ansible script ran to finsh successfully on Rocky 9!!   I'll send comment notes on what did or didn't work with RedHat and Rocky 8.9.   <br>
Guess next I reload the postgres database.</p>



<a name="440579751"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440579751" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440579751">(May 24 2024 at 21:27)</a>:</h4>
<p>This is just for clarification - to drop (and then restore) do I have to dataverse? directions say to run the installer again but what I'd like to do, if it's possible is restore from the RHEL7 test.dataverse database dump. (referring to directions: <a href="https://guides.dataverse.org/en/latest/installation/installation-main.html#drop-database">https://guides.dataverse.org/en/latest/installation/installation-main.html#drop-database</a>)</p>



<a name="440628468"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/440628468" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#440628468">(May 25 2024 at 11:13)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> feel free to open issues at <a href="https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues">https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues</a> but once AWS publishes the Rocky 9.4 AMI, with IQSS' blessing I plan to switch our CI testing to Rocky 9.4, and finally submit my 2 year-old pull request to make the Dataverse installation documentation say RHEL9.</p>



<a name="441300895"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441300895" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441300895">(May 29 2024 at 19:16)</a>:</h4>
<p>I'm not sure if this is the best way to rebuild dataverse. I've gotten 6.2 installed.  What I'm trying to do now is  restore the mysql database from my 5.14 installation.  Is that the correct procedure - drop the dvndb that was installed in 6.2 and restore the 5.14 dvndb?</p>



<a name="441302828"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441302828" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441302828">(May 29 2024 at 19:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="653479">jamie jamison</span> <a href="#narrow/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0/near/441300895">said</a>:</p>
<blockquote>
<p>I'm not sure if this is the best way to rebuild dataverse. I've gotten 6.2 installed.  What I'm trying to do now is  restore the mysql database from my 5.14 installation.  Is that the correct procedure - drop the dvndb that was installed in 6.2 and restore the 5.14 dvndb?</p>
</blockquote>
<p>you probably want to undeploy 6.2, restore your postgres db from 5.14, then redeploy 6.2 to be sure that FlyWay updates the DB schema. I think FlyWay does this on each auto-deployment when you launch Payara, but undeploying and redeploying would make certain.</p>



<a name="441302910"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441302910" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441302910">(May 29 2024 at 19:31)</a>:</h4>
<p>Ok,  I'll add that to my notes.</p>



<a name="441304548"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441304548" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441304548">(May 29 2024 at 19:42)</a>:</h4>
<p>I think I see a poster for next community meeting...</p>



<a name="441305253"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441305253" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441305253">(May 29 2024 at 19:48)</a>:</h4>
<p>in the event I mess things up completely, can I just rerun the ansible script</p>



<a name="441308574"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441308574" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441308574">(May 29 2024 at 20:14)</a>:</h4>
<p>I may have broken postgres by dropping the table too early. Can I just rerun the ansible script?</p>



<a name="441318548"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/441318548" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#441318548">(May 29 2024 at 21:12)</a>:</h4>
<p>and I answered my own question.  Re-ran the ansible script after potentially breaking the postgres database and it looks like it worked</p>



<a name="443390196"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/443390196" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#443390196">(Jun 07 2024 at 22:25)</a>:</h4>
<p>This could be my mistake but the latest directions for installing Shibboleth (<a href="https://guides.dataverse.org/en/latest/installation/shibboleth.html#install-shibboleth">https://guides.dataverse.org/en/latest/installation/shibboleth.html#install-shibboleth</a>) say to install from the yum repo.   <br>
Result:<br>
 sudo yum install shibboleth<br>
Last metadata expiration check: 1:12:53 ago on Fri Jun  7 21:11:19 2024.<br>
No match for argument: shibboleth<br>
Error: Unable to find a match: shibboleth</p>
<p>It this isn't a mistake on my part I'll make an issue.</p>



<a name="443459683"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/443459683" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#443459683">(Jun 08 2024 at 11:42)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> what did the Shibboleth webform generate for your shibboleth.repo file? (I haven't used it in a while)</p>



<a name="443907957"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/443907957" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#443907957">(Jun 11 2024 at 03:40)</a>:</h4>
<p>I'll have to get back to that one.  Still having problems connecting to the s3 buckets.</p>



<a name="443987826"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/443987826" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#443987826">(Jun 11 2024 at 12:25)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> are you still getting those 403 forbiddens? (which S3 privileges are you assigning that IAM role?)</p>



<a name="444067625"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444067625" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444067625">(Jun 11 2024 at 18:07)</a>:</h4>
<p>I've tested using the aws cli: aws s3 ls s3://dataverse-test-oregon<br>
An error occurred (AccessDenied) when calling the ListObjectsV2 operation: Access Denied<br>
{<br>
            "Sid": "VisualEditor0",<br>
            "Effect": "Allow",<br>
            "Action": "s3:*",<br>
            "Resource": [<br>
                "arn:aws:s3:::dataverse-test-oregon/*"<br>
            ]<br>
        }, </p>
<p>s3-serviece:   Limited: List, Permissions management, Read, Write, Tagging</p>
<p>The "s3:*" action works for the production server but not the new test instance.</p>



<a name="444072489"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444072489" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444072489">(Jun 11 2024 at 18:33)</a>:</h4>
<p><span class="user-mention" data-user-id="653479">@jamie jamison</span> are you sure the bucket policy is assigned to the correct role/group?</p>



<a name="444081104"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444081104" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444081104">(Jun 11 2024 at 19:22)</a>:</h4>
<p>It's attached to the user.  This is the same setup as production, which works.</p>



<a name="444254260"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444254260" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sherry Lake <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444254260">(Jun 12 2024 at 14:46)</a>:</h4>
<p>Anyone online for a question about upgrading to Payrara6 and editing the domain.xml</p>



<a name="444258240"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444258240" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444258240">(Jun 12 2024 at 15:03)</a>:</h4>
<p><span class="user-mention" data-user-id="599826">@Sherry Lake</span> I'm online, for what I'm worth?</p>



<a name="444269805"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444269805" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sherry Lake <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444269805">(Jun 12 2024 at 15:48)</a>:</h4>
<p>OK.... we just didn't wait long enough to see our dataverse page.</p>



<a name="444271779"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/upgrading%205.14%20to%206.0/near/444271779" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/upgrading.205.2E14.20to.206.2E0.html#444271779">(Jun 12 2024 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="599826">@Sherry Lake</span> if it was after a server or Payara restart, the first load can take up to 10 seconds as it populates its cache</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>