<html>
<head><meta charset="utf-8"><title>DiscoFeed timeout Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html">DiscoFeed timeout</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="393810904"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393810904" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393810904">(Sep 28 2023 at 21:58)</a>:</h4>
<p>It looks like that works!    Still don't have federated on but based on what I'm getting with  the test account I'm very certain that this setting is correct.<br>
Which leads to Shibboleth Problem <a href="https://github.com/IQSS/dataverse/issues/2">#2</a>.  No t sure why but suddely Shibboleth with the federeated login started to run so slow that the library systems group rolled back to the pre-federated settings.  It basically ground to a hald. The time-out error was:    <br>
       Failed to download metadata from /Shibboleth.sso/DiscoFeed.</p>
<p>According to Stephen Guernick (he's on slack), the hangup was loading in all the metadata for federated log-in.  His guess wasthat the startup process was encountering a time-out-limit and that the start-up kept trying and failing. The new metatdata file was being downloaded on each restart.</p>
<p>So I went digging in the shibboleth settings.  Could this be the problem?<br>
  &lt;S<strong>essions lifetime="7200" timeout="3600"</strong> checkAddress="false"<br>
            handlerURL="/Shibboleth.sso" handlerSSL="true"<br>
            idpHistory="false" idpHistoryDays="7" cookieProps="https"&gt;</p>



<a name="393969549"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393969549" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393969549">(Sep 29 2023 at 16:44)</a>:</h4>
<p><a href="#narrow/stream/378866-troubleshooting/topic/DiscoFeed.20timeout/near/393810904">A message</a> was moved here from <a class="stream-topic" data-stream-id="378866" href="/#narrow/stream/378866-troubleshooting/topic/federated.20login.20and.20shibboleth.20group">#troubleshooting &gt; federated login and shibboleth group</a> by <span class="user-mention silent" data-user-id="598112">Philip Durbin</span>.</p>



<a name="393969668"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393969668" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393969668">(Sep 29 2023 at 16:45)</a>:</h4>
<p>I'm really not sure. Did increasing the timeout help? Harvard and UNC both use the full feed and I don't remember hearing about any problems.</p>



<a name="393971598"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393971598" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393971598">(Sep 29 2023 at 16:58)</a>:</h4>
<p>I'll have to find out what the full feed is.  And get back with what happens.</p>



<a name="393978062"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393978062" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393978062">(Sep 29 2023 at 17:44)</a>:</h4>
<p>Sorry, full feed is probably confusing. I mean that UNC and Harvard let anyone from the InCommon feed log in. Hundreds of schools and other orgs.</p>



<a name="393978105"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393978105" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393978105">(Sep 29 2023 at 17:44)</a>:</h4>
<p>Most Dataverse installations only let their institution log in via Shibboleth.</p>



<a name="393979712"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393979712" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393979712">(Sep 29 2023 at 17:57)</a>:</h4>
<p>No need to apologize.  I'm still learning all this.</p>



<a name="393980239"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/393980239" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#393980239">(Sep 29 2023 at 18:00)</a>:</h4>
<p>Don is on vacation or I'd ping him to see if he's seen timeouts.</p>



<a name="394499610"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/394499610" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#394499610">(Oct 02 2023 at 19:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="653479">jamie jamison</span> <a href="#narrow/stream/378866-troubleshooting/topic/DiscoFeed.20timeout/near/393810904">said</a>:</p>
<blockquote>
<p>It looks like that works!    Still don't have federated on but based on what I'm getting with  the test account I'm very certain that this setting is correct.<br>
Which leads to Shibboleth Problem <a href="https://github.com/IQSS/dataverse/issues/2">#2</a>.  No t sure why but suddely Shibboleth with the federeated login started to run so slow that the library systems group rolled back to the pre-federated settings.  It basically ground to a hald. The time-out error was:    <br>
       Failed to download metadata from /Shibboleth.sso/DiscoFeed.</p>
<p>According to Stephen Guernick (he's on slack), the hangup was loading in all the metadata for federated log-in.  His guess wasthat the startup process was encountering a time-out-limit and that the start-up kept trying and failing. The new metatdata file was being downloaded on each restart.</p>
<p>So I went digging in the shibboleth settings.  Could this be the problem?<br>
  &lt;S<strong>essions lifetime="7200" timeout="3600"</strong> checkAddress="false"<br>
            handlerURL="/Shibboleth.sso" handlerSSL="true"<br>
            idpHistory="false" idpHistoryDays="7" cookieProps="https"&gt;</p>
</blockquote>
<p>I've had trouble with Shibboleth exceeding the systemd default timeout on launch (then systemd restarts it, then it takes too long, then systemd restarts it...). You can set the shibd.service file to use <code>TimeoutStartSec=7m</code> (or maybe longer) and Shibboleth launches for me. I hope this helps?</p>



<a name="395742074"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/395742074" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#395742074">(Oct 09 2023 at 17:40)</a>:</h4>
<p>From the UCLA systems person helping me (Stephen Guernick, not on zulip yet):    he tried setting it to 10 minutes and shibboleth still timed-out. Not sure at this time why the problem started.</p>



<a name="395765472"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/395765472" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#395765472">(Oct 09 2023 at 21:34)</a>:</h4>
<p>Stephen set the shibd startup timeout value to 2 hours.  It looks like it's working and I'm going to watch it all week to be sure.</p>



<a name="395765687"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/395765687" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#395765687">(Oct 09 2023 at 21:35)</a>:</h4>
<p>The recommendation he followed:   <a href="https://shibboleth.atlassian.net/wiki/spaces/SP3/pages/2065335578/LinuxSystemd">https://shibboleth.atlassian.net/wiki/spaces/SP3/pages/2065335578/LinuxSystemd</a></p>



<a name="395770413"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/395770413" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#395770413">(Oct 09 2023 at 22:24)</a>:</h4>
<p>Wow, 2 hours. Well, I'm glad it's working!</p>



<a name="395907668"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DiscoFeed%20timeout/near/395907668" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DiscoFeed.20timeout.html#395907668">(Oct 10 2023 at 15:24)</a>:</h4>
<p>I was a bit surprised by the 2 hours myself.</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>