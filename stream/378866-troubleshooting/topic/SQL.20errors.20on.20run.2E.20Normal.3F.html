<html>
<head><meta charset="utf-8"><title>SQL errors on run. Normal? Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html">SQL errors on run. Normal?</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="417664323"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/417664323" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#417664323">(Jan 24 2024 at 15:05)</a>:</h4>
<p>Errors like this are normal on <code>mvn docker:run</code>, right?</p>
<div class="codehilite"><pre><span></span><code>ERROR:  relation &quot;externaltooltype&quot; already exists
STATEMENT:  CREATE TABLE EXTERNALTOOLTYPE (ID  SERIAL NOT NULL, TYPE VARCHAR(255) NOT NULL, EXTERNALTOOL_ID BIGINT NOT NULL, PRIMARY KEY (ID))
ERROR:  relation &quot;index_externaltooltype_externaltool_id&quot; already exists
STATEMENT:  CREATE INDEX INDEX_EXTERNALTOOLTYPE_externaltool_id ON EXTERNALTOOLTYPE (externaltool_id)
</code></pre></div>
<p><a href="/user_uploads/53090/ny8zDFoIlDqPVPBcTize1RjP/Screenshot-2024-01-24-at-10.02.58-AM.png">Screenshot-2024-01-24-at-10.02.58-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/ny8zDFoIlDqPVPBcTize1RjP/Screenshot-2024-01-24-at-10.02.58-AM.png" title="Screenshot-2024-01-24-at-10.02.58-AM.png"><img src="/user_uploads/53090/ny8zDFoIlDqPVPBcTize1RjP/Screenshot-2024-01-24-at-10.02.58-AM.png"></a></div>



<a name="417666353"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/417666353" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#417666353">(Jan 24 2024 at 15:15)</a>:</h4>
<p>Here's me trying to reassure <span class="user-mention" data-user-id="651855">@Leonhard Maylein</span> in 2015 that similar errors are normal: <a href="https://groups.google.com/g/dataverse-community/c/-ITgVIkxdEY/m/oW1tIVe9CQAJ">https://groups.google.com/g/dataverse-community/c/-ITgVIkxdEY/m/oW1tIVe9CQAJ</a></p>



<a name="417666634"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/417666634" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#417666634">(Jan 24 2024 at 15:16)</a>:</h4>
<p>'That is to say, those exceptions are expected. I believe the "CREATE INDEX" and "INSERT INTO SEQUENCE" exceptions are normal as well. I know they scary, but I think they all have to do with the fact that we let Glassfish create database tables when the war file is deployed. I'm not sure how we would avoid this.'  (but Payara instead of Glassfish these days)</p>



<a name="418104624"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/418104624" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#418104624">(Jan 25 2024 at 15:28)</a>:</h4>
<p>As discussed in the container meeting just now, this is unfortunately normal. I'll move this topic out of <a class="stream" data-stream-id="375812" href="/#narrow/stream/375812-containers">#containers</a> since it isn't specific to them.</p>



<a name="420480378"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420480378" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420480378">(Feb 08 2024 at 15:20)</a>:</h4>
<p>I'm just mentioning create-tables so I can find this topic again. We just talked about it again in the container meeting: <a href="https://docs.google.com/document/d/1yiuwS9Ig4qXnQeN1utPt75MUko6M_wRLHIfrCWQM_ZQ/edit?usp=sharing">https://docs.google.com/document/d/1yiuwS9Ig4qXnQeN1utPt75MUko6M_wRLHIfrCWQM_ZQ/edit?usp=sharing</a></p>



<a name="420481568"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420481568" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420481568">(Feb 08 2024 at 15:26)</a>:</h4>
<p>This topic was mentioned during the CT WG call today again. There might be an easier fix than we expected to create that baseline before we shut down the "create-tables" JPA setting: <a href="https://documentation.red-gate.com/fd/baseline-migrations-184127465.html">https://documentation.red-gate.com/fd/baseline-migrations-184127465.html</a></p>



<a name="420482587"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420482587" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420482587">(Feb 08 2024 at 15:30)</a>:</h4>
<p>Huh... baseline migrations. Yes, this sounds like what we need. Thanks!</p>



<a name="420482652"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420482652" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420482652">(Feb 08 2024 at 15:30)</a>:</h4>
<p><span class="user-mention" data-user-id="648750">@Juan Pablo Tosca Villanueva</span> check this out ^^</p>



<a name="420482700"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420482700" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420482700">(Feb 08 2024 at 15:30)</a>:</h4>
<p>"Over the lifetime of a project, many database objects may be created and destroyed across many migrations which leaves behind a lengthy history of migrations that need to be applied in order to bring a new environment up to speed.</p>
<p>Instead, you might wish to add a single, cumulative migration that represents the state of your database after all of those migrations have been applied without disrupting existing environments.</p>
<p>Flyway gives you a way to achieve this using Baseline Migrations."</p>



<a name="420485001"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485001" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485001">(Feb 08 2024 at 15:41)</a>:</h4>
<p>JIm thinks this is a Teams/Enterprise feature...</p>



<a name="420485104"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485104" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485104">(Feb 08 2024 at 15:42)</a>:</h4>
<p>I'd say we should create a little test project and try if we can apply such migrations if we figure out how to create them</p>



<a name="420485172"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485172" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485172">(Feb 08 2024 at 15:42)</a>:</h4>
<p>There might be a chance that the creation is simplified by using a Teams license</p>



<a name="420485321"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485321" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485321">(Feb 08 2024 at 15:43)</a>:</h4>
<p>Sure, sounds like a good experiment. Bummer if it's truly a proprietary feature. I love open source.</p>



<a name="420485340"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485340" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485340">(Feb 08 2024 at 15:43)</a>:</h4>
<p>But maybe the community version can still apply them... These migrations only apply to new deployments anyway, so it is just a matter of if the community edition will pick up the latest Bx_.sql script</p>



<a name="420485507"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485507" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485507">(Feb 08 2024 at 15:44)</a>:</h4>
<p>If all of that does not help: for our use case it might be fine to use the "beforeMigrate" callback!</p>



<a name="420485561"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485561" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485561">(Feb 08 2024 at 15:44)</a>:</h4>
<p>All we want is create the tables etc. Our script can check if they are already available</p>



<a name="420485627"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485627" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485627">(Feb 08 2024 at 15:45)</a>:</h4>
<p>IMHO this isn't that complicated to do!</p>



<a name="420485735"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485735" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485735">(Feb 08 2024 at 15:45)</a>:</h4>
<p>I mean, the use case described above makes total sense. Hundreds of migrations? Time for a new baseline!</p>



<a name="420485873"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485873" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485873">(Feb 08 2024 at 15:46)</a>:</h4>
<p>Absolutely!</p>



<a name="420485946"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485946" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485946">(Feb 08 2024 at 15:46)</a>:</h4>
<p>All of this is worth a try and shouldn't be too hard to do</p>



<a name="420485993"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420485993" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420485993">(Feb 08 2024 at 15:46)</a>:</h4>
<p>Good tech hours fodder, I'd say.</p>



<a name="420486063"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420486063" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420486063">(Feb 08 2024 at 15:47)</a>:</h4>
<p>Maybe after creating a little sample project to try out what's possible</p>



<a name="420486148"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/SQL%20errors%20on%20run.%20Normal%3F/near/420486148" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/SQL.20errors.20on.20run.2E.20Normal.3F.html#420486148">(Feb 08 2024 at 15:47)</a>:</h4>
<p>We could add a lil' database to <a href="https://github.com/IQSS/dataverse-people">https://github.com/IQSS/dataverse-people</a></p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>