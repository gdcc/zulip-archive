<html>
<head><meta charset="utf-8"><title>adapt publication date Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html">adapt publication date</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="424018777"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424018777" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424018777">(Feb 29 2024 at 13:28)</a>:</h4>
<p>Is it correct that in order to change the publication date of a dataset I need to mangle things in the DB? I didn't find an API call to do this... Or can I edit this metadata field using the usual Native API edit of metadata?</p>



<a name="424019526"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019526" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019526">(Feb 29 2024 at 13:32)</a>:</h4>
<p>There's this: <a href="https://guides.dataverse.org/en/6.1/api/native-api.html#set-citation-date-field-type-for-a-dataset">https://guides.dataverse.org/en/6.1/api/native-api.html#set-citation-date-field-type-for-a-dataset</a></p>



<a name="424019563"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019563" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019563">(Feb 29 2024 at 13:32)</a>:</h4>
<p>I saw that one</p>



<a name="424019633"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019633" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019633">(Feb 29 2024 at 13:33)</a>:</h4>
<p>But that does only change the field which is used to display the citation</p>



<a name="424019678"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019678" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019678">(Feb 29 2024 at 13:33)</a>:</h4>
<p>For our reporting, it looks like we want the publicationDate thing from the metadata</p>



<a name="424019745"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019745" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019745">(Feb 29 2024 at 13:33)</a>:</h4>
<p>I'm talking about this dataset: <a href="https://data.fz-juelich.de/dataset.xhtml?persistentId=doi%253A10.26165%252FJUELICH-DATA%252F1E1DTF">https://data.fz-juelich.de/dataset.xhtml?persistentId=doi%253A10.26165%252FJUELICH-DATA%252F1E1DTF</a></p>



<a name="424019766"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019766" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019766">(Feb 29 2024 at 13:33)</a>:</h4>
<p>(There's another one, too)</p>



<a name="424019841"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019841" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019841">(Feb 29 2024 at 13:34)</a>:</h4>
<p>It is a mere registration of a dataset published at Zenodo in 2023</p>



<a name="424019851"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019851" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019851">(Feb 29 2024 at 13:34)</a>:</h4>
<p>Buh. I'm getting a 404.</p>



<a name="424019869"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019869" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019869">(Feb 29 2024 at 13:34)</a>:</h4>
<p>So now I need to make the dates aligned</p>



<a name="424019944"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019944" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019944">(Feb 29 2024 at 13:34)</a>:</h4>
<p><a href="https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/1E1DTF">https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/1E1DTF</a></p>



<a name="424019974"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019974" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019974">(Feb 29 2024 at 13:35)</a>:</h4>
<p>Sry, browser escaped the special chars</p>



<a name="424019977"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424019977" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424019977">(Feb 29 2024 at 13:35)</a>:</h4>
<p>If memory serves, publication data is an SQL timestamp.</p>



<a name="424020297"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424020297" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424020297">(Feb 29 2024 at 13:36)</a>:</h4>
<p>Yeah, "releasetime" at <a href="https://guides.dataverse.org/en/5.6/schemaspy/tables/datasetversion.html">https://guides.dataverse.org/en/5.6/schemaspy/tables/datasetversion.html</a></p>



<a name="424020327"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424020327" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424020327">(Feb 29 2024 at 13:36)</a>:</h4>
<p>That should be it.</p>



<a name="424020366"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424020366" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424020366">(Feb 29 2024 at 13:37)</a>:</h4>
<p>You can update it via SQL, yes. Dirty.</p>



<a name="424020396"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424020396" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424020396">(Feb 29 2024 at 13:37)</a>:</h4>
<p><a href="https://github.com/poikilotherm/dataverse/blob/407d06155410b04b8d9085eb3568d192374e2742/src/main/java/edu/harvard/iq/dataverse/DvObject.java#L118-L118">https://github.com/poikilotherm/dataverse/blob/407d06155410b04b8d9085eb3568d192374e2742/src/main/java/edu/harvard/iq/dataverse/DvObject.java#L118-L118</a></p>



<a name="424020426"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424020426" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424020426">(Feb 29 2024 at 13:37)</a>:</h4>
<p>It is a <code>Timestamp</code></p>



<a name="424020852"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424020852" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424020852">(Feb 29 2024 at 13:39)</a>:</h4>
<p>Haha yeah I can't edit it via the edit metadata thing - the <code>JsonParser</code> does not parse a <code>publicationDate</code> <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span> So hacky DB hack it is...</p>



<a name="424025450"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424025450" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424025450">(Feb 29 2024 at 14:03)</a>:</h4>
<p>OK after a reindex of both datasets the cached exports are updates, too. Hacky, but worked.</p>



<a name="424026654"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424026654" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424026654">(Feb 29 2024 at 14:09)</a>:</h4>
<p>Great!</p>



<a name="424049213"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/adapt%20publication%20date/near/424049213" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/adapt.20publication.20date.html#424049213">(Feb 29 2024 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span>  I am sure that you know the Dataverse database much better than me, but in case it is useful, we did the next steps to modify the dataset dates:<br>
select * from datasetfieldvalue where value like '%UTANDE-HECTAD%';<br>
   id   | displayorder |                                   value                                   | datasetfield_id <br>
--------+--------------+---------------------------------------------------------------------------+-----------------<br>
 144875 |            0 | CENTRAL SPAIN VEGETATION: UTANDE-HECTAD's RELEVÃ‰S (30TWL02 UTM GRID CELL) |          <em>216521</em><br>
(1 row)</p>
<p>dvndb=&gt; select * from datasetfield where id=216521;<br>
   id   | datasetfieldtype_id | datasetversion_id | parentdatasetfieldcompoundvalue_id | template_id <br>
--------+---------------------+-------------------+------------------------------------+-------------<br>
<em>216521</em> |                   1 |              <strong>3508</strong> |                       â€¦</p>
<p>dvndb=&gt; select dataset_id from datasetversion where id=<strong>3508</strong>;<br>
 dataset_id </p>
<hr>
<div class="codehilite"><pre><span></span><code>  **13908**
</code></pre></div>

<p>Update dates of the current dataset version, dataset and dvobject:<br>
dvndb=&gt; update dvobject set createdate='2023-12-26 12:07:41.324' where id=<strong>13908</strong>;<br>
UPDATE 1<br>
dvndb=&gt; update dvobject set modificationtime='2023-12-30 13:12:03.766' where id=<strong>13908</strong>;<br>
UPDATE 1<br>
dvndb=&gt; update dvobject set permissionmodificationtime='2023-12-26 12:07:41.324' where id=<strong>13908</strong>;<br>
UPDATE 1<br>
dvndb=&gt; update dvobject set globalidcreatetime='2023-12-26 12:07:41.324' where id=<strong>13908</strong>;<br>
UPDATE 1<br>
dvndb=&gt; update datasetversion set createtime='2023-12-26 12:07:41.332' where id=<strong>3508</strong>;<br>
UPDATE 1<br>
dvndb=&gt; update datasetversion set lastupdatetime='2023-12-30 13:12:03.766' where id=<strong>3508</strong>;<br>
UPDATE 1</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>