<html>
<head><meta charset="utf-8"><title>ampersands in metadata prevent dataset from publication Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html">ampersands in metadata prevent dataset from publication</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="466324949"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/466324949" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marÃ­a a. matienzo <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#466324949">(Aug 30 2024 at 18:44)</a>:</h4>
<p>we were having some  issues with datasets publishing that have ampersands in their metadata values, e.g.  </p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code><span class="nt">&lt;creators&gt;&lt;creator&gt;&lt;creatorName&gt;</span>S<span class="err">&amp;</span>P<span class="w"> </span>Global<span class="nt">&lt;/creatorName&gt;&lt;/creator&gt;&lt;/creators&gt;</span>
</code></pre></div>
<p>not an urgent thing to fix in dataverse itself (we can substitute <code>&amp;</code> with <code>and</code>), but has there been any discussion about escaping characters/replacing them with their character entities?</p>



<a name="467252574"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/467252574" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian Gautier <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#467252574">(Sep 03 2024 at 13:18)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="735407">@MarÃ­a A. Matienzo</span>.  Yes there's been lots of discussion and solutions implemented to address this in a few ways. </p>
<p>That bit of xml you posted looks like metadata in the DataCite schema. The GitHub issue at <a href="https://github.com/IQSS/dataverse/issues/3328">https://github.com/IQSS/dataverse/issues/3328</a> was about how special characters in certain metadata fields were preventing publishing when publishing involves registering DOIs from DataCite and the pull request at <a href="https://github.com/IQSS/dataverse/pull/7798">https://github.com/IQSS/dataverse/pull/7798</a> addressed this. That fix was released with Dataverse 5.5.</p>
<p>Is the repository you're using using a version of Dataverse that's earlier than 5.5?</p>



<a name="467326197"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/467326197" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#467326197">(Sep 03 2024 at 17:54)</a>:</h4>
<p>I was gonna say... I thought we fixed that. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> </p>
<p>If it's still broken, please feel free to open a fresh issue!</p>



<a name="467326352"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/467326352" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marÃ­a a. matienzo <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#467326352">(Sep 03 2024 at 17:55)</a>:</h4>
<p>will do. <span class="user-mention" data-user-id="621770">@Julian Gautier</span> this is 6.1, incidentally.</p>



<a name="467327622"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/467327622" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#467327622">(Sep 03 2024 at 18:00)</a>:</h4>
<p><span class="user-mention" data-user-id="735407">@MarÃ­a A. Matienzo</span> please feel free to try to reproduce the bug at <a href="https://demo.dataverse.org">https://demo.dataverse.org</a></p>



<a name="468899305"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468899305" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marÃ­a a. matienzo <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468899305">(Sep 09 2024 at 19:30)</a>:</h4>
<p>just getting back to this - i was unable to reproduce the bug on the demo server, but i suspect i'm running into the issue still because we're using EZID on our end (see <a href="https://github.com/IQSS/dataverse/issues/3328#issuecomment-819837590">https://github.com/IQSS/dataverse/issues/3328#issuecomment-819837590</a>)</p>



<a name="468900146"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468900146" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marÃ­a a. matienzo <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468900146">(Sep 09 2024 at 19:34)</a>:</h4>
<p>looks like this issue has been closed - i understand that it's low priority, but what would be the best way to get an issue on the backlog for this (i.e. opening a new one vs. something else)?</p>



<a name="468905331"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468905331" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468905331">(Sep 09 2024 at 20:02)</a>:</h4>
<p>A fresh issue would be ideal.</p>



<a name="468926320"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468926320" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marÃ­a a. matienzo <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468926320">(Sep 09 2024 at 22:06)</a>:</h4>
<p><a href="https://github.com/IQSS/dataverse/issues/10830">https://github.com/IQSS/dataverse/issues/10830</a></p>



<a name="468931355"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468931355" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468931355">(Sep 09 2024 at 22:42)</a>:</h4>
<p>Thanks! It looks like DOIEZIdServiceBean was removed in <a href="https://github.com/IQSS/dataverse/commit/44ce6a19c72c7c4c3c156e44fa56de5d89613106">https://github.com/IQSS/dataverse/commit/44ce6a19c72c7c4c3c156e44fa56de5d89613106</a> in Dataverse 6.2. Is there any chance you could re-test with 6.2 or 6.3 (or the "develop" branch, if you're brave)?</p>



<a name="468931411"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468931411" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> marÃ­a a. matienzo <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468931411">(Sep 09 2024 at 22:43)</a>:</h4>
<p>we're getting ready to deploy 6.3 to prod this week - i'll test it then.</p>



<a name="468931455"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/ampersands%20in%20metadata%20prevent%20dataset%20from%20publication/near/468931455" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/ampersands.20in.20metadata.20prevent.20dataset.20from.20publication.html#468931455">(Sep 09 2024 at 22:43)</a>:</h4>
<p>Awesome. Thanks!</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>