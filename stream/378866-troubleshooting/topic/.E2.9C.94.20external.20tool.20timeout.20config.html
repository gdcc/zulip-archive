<html>
<head><meta charset="utf-8"><title>‚úî external tool timeout config ¬∑ troubleshooting ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html">‚úî external tool timeout config</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="487322779"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487322779" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487322779">(Dec 10 2024 at 19:05)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="598112">@Philip Durbin üêâ</span> ! I also have some errors running the docker version following the developer guide. Do you mind if I send the information here or would you rather I create a new topic?</p>



<a name="487322955"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487322955" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487322955">(Dec 10 2024 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="787413">@nana</span> I moved us to a new topic. How can I help? <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="487323537"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487323537" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487323537">(Dec 10 2024 at 19:10)</a>:</h4>
<p>Thank you! So I can create a local version of Dataverse, sign in and create a dataset. But once I attempt to access a file using the external tool (Data Explorer in our case) I get this error in the console:<br>
<a href="/user_uploads/53090/N_3YrCe0NoLUHB_xz2ns-dRI/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/N_3YrCe0NoLUHB_xz2ns-dRI/image.png" title="image.png"><img data-original-dimensions="2968x476" src="/user_uploads/thumbnail/53090/N_3YrCe0NoLUHB_xz2ns-dRI/image.png/840x560.webp"></a></div>



<a name="487323630"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487323630" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487323630">(Dec 10 2024 at 19:10)</a>:</h4>
<p>Another dev in our team is experiencing the same problem</p>



<a name="487323692"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487323692" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487323692">(Dec 10 2024 at 19:10)</a>:</h4>
<div class="codehilite"><pre><span></span><code>[#|2024-12-10T19:08:51.068+0000|SEVERE|Payara 6.2024.6|edu.harvard.iq.dataverse.api.errorhandlers.ThrowableHandler|_ThreadID=3121;_ThreadName=http-thread-pool::http-listener-1(8);_TimeMillis=1733857731068;_LevelValue=1000;|
dev_dataverse&gt;   _status=&quot;ERROR&quot;;_code=500;_message=&quot;Internal server error. More details available at the server logs.&quot;;_incidentId=&quot;dfa7979b-6f18-4ab3-977f-086c9c7ee8dd&quot;;_interalError=&quot;NullPointerException&quot;;_requestUrl=&quot;http://localhost:8080/api/v1/files/5/metadata/2/toolparams/2?until=2024-12-10T19:13:50.861&amp;user=dataverseAdmin&amp;method=GET&amp;token=a4728da09c9e44f873bfd3df5ecf0aaf73b6f5b83edbb981bc8bcb5a193eb8bc99378b50514f03da0cd91b95b7986c39ede737683a27d7945864f5c059f1a357&quot;;_requestMethod=&quot;GET&quot;||#]
dev_dataverse&gt;
dev_dataverse&gt; [#|2024-12-10T19:08:51.069+0000|SEVERE|Payara 6.2024.6|edu.harvard.iq.dataverse.api.errorhandlers.ThrowableHandler|_ThreadID=3121;_ThreadName=http-thread-pool::http-listener-1(8);_TimeMillis=1733857731069;_LevelValue=1000;|
dev_dataverse&gt;   java.lang.NullPointerException: Cannot invoke &quot;jakarta.json.JsonNumber.intValue()&quot; because the return value of &quot;org.eclipse.parsson.JsonObjectBuilderImpl$JsonObjectImpl.getJsonNumber(String)&quot; is null
</code></pre></div>



<a name="487323988"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487323988" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487323988">(Dec 10 2024 at 19:12)</a>:</h4>
<p>Which line of the Dataverse code is throwing that error? We probably need to look more of the output.</p>



<a name="487324313"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324313" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324313">(Dec 10 2024 at 19:14)</a>:</h4>
<p>I think this is the full error:</p>
<div class="codehilite"><pre><span></span><code>[#|2024-12-10T19:08:51.068+0000|SEVERE|Payara 6.2024.6|edu.harvard.iq.dataverse.api.errorhandlers.ThrowableHandler|_ThreadID=3121;_ThreadName=http-thread-pool::http-listener-1(8);_TimeMillis=1733857731068;_LevelValue=1000;|
dev_dataverse&gt;   _status=&quot;ERROR&quot;;_code=500;_message=&quot;Internal server error. More details available at the server logs.&quot;;_incidentId=&quot;dfa7979b-6f18-4ab3-977f-086c9c7ee8dd&quot;;_interalError=&quot;NullPointerException&quot;;_requestUrl=&quot;http://localhost:8080/api/v1/files/5/metadata/2/toolparams/2?until=2024-12-10T19:13:50.861&amp;user=dataverseAdmin&amp;method=GET&amp;token=a4728da09c9e44f873bfd3df5ecf0aaf73b6f5b83edbb981bc8bcb5a193eb8bc99378b50514f03da0cd91b95b7986c39ede737683a27d7945864f5c059f1a357&quot;;_requestMethod=&quot;GET&quot;||#]
dev_dataverse&gt;
dev_dataverse&gt; [#|2024-12-10T19:08:51.069+0000|SEVERE|Payara 6.2024.6|edu.harvard.iq.dataverse.api.errorhandlers.ThrowableHandler|_ThreadID=3121;_ThreadName=http-thread-pool::http-listener-1(8);_TimeMillis=1733857731069;_LevelValue=1000;|
dev_dataverse&gt;   java.lang.NullPointerException: Cannot invoke &quot;jakarta.json.JsonNumber.intValue()&quot; because the return value of &quot;org.eclipse.parsson.JsonObjectBuilderImpl$JsonObjectImpl.getJsonNumber(String)&quot; is null
dev_dataverse&gt;  at org.eclipse.parsson.JsonObjectBuilderImpl$JsonObjectImpl.getInt(JsonObjectBuilderImpl.java:264)
dev_dataverse&gt;  at edu.harvard.iq.dataverse.util.URLTokenUtil.lambda$createPostBody$0(URLTokenUtil.java:220)
dev_dataverse&gt;  at java.base/java.util.ArrayList.forEach(Unknown Source)
dev_dataverse&gt;  at java.base/java.util.Collections$UnmodifiableCollection.forEach(Unknown Source)
dev_dataverse&gt;  at edu.harvard.iq.dataverse.util.URLTokenUtil.createPostBody(URLTokenUtil.java:216)
dev_dataverse&gt;  at edu.harvard.iq.dataverse.api.Files.getExternalToolFMParams(Files.java:845)
dev_dataverse&gt;  at edu.harvard.iq.dataverse.api.Files$Proxy$_$$_WeldSubclass.getExternalToolFMParams(Unknown Source)
dev_dataverse&gt;  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
dev_dataverse&gt;  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
dev_dataverse&gt;  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
dev_dataverse&gt;  at java.base/java.lang.reflect.Method.invoke(Unknown Source)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:146)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:189)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:93)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)
dev_dataverse&gt;  at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)
dev_dataverse&gt;  at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:261)
dev_dataverse&gt;  at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)
dev_dataverse&gt;  at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)
dev_dataverse&gt;  at org.glassfish.jersey.internal.Errors.process(Errors.java:292)
dev_dataverse&gt;  at org.glassfish.jersey.internal.Errors.process(Errors.java:274)
dev_dataverse&gt;  at org.glassfish.jersey.internal.Errors.process(Errors.java:244)
dev_dataverse&gt;  at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)
dev_dataverse&gt;  at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240)
dev_dataverse&gt;  at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)
dev_dataverse&gt;  at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)
dev_dataverse&gt;  at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)
dev_dataverse&gt;  at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:357)
dev_dataverse&gt;  at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)
dev_dataverse&gt;  at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)
dev_dataverse&gt;  at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1554)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:331)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
dev_dataverse&gt;  at org.glassfish.tyrus.servlet.TyrusServletFilter.doFilter(TyrusServletFilter.java:83)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
dev_dataverse&gt;  at org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:226)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
dev_dataverse&gt;  at edu.harvard.iq.dataverse.api.ApiBlockingFilter.doFilter(ApiBlockingFilter.java:170)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
dev_dataverse&gt;  at edu.harvard.iq.dataverse.api.ApiRouter.doFilter(ApiRouter.java:31)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
dev_dataverse&gt;  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
dev_dataverse&gt;  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:257)
dev_dataverse&gt;  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:166)
dev_dataverse&gt;  at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
dev_dataverse&gt;  at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:577)
dev_dataverse&gt;  at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)
dev_dataverse&gt;  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
dev_dataverse&gt;  at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:372)
dev_dataverse&gt;  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:239)
dev_dataverse&gt;  at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
dev_dataverse&gt;  at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
dev_dataverse&gt;  at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)
dev_dataverse&gt;  at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)
dev_dataverse&gt;  at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)
dev_dataverse&gt;  at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)
dev_dataverse&gt;  at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)
dev_dataverse&gt;  at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)
dev_dataverse&gt;  at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)
dev_dataverse&gt;  at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)
dev_dataverse&gt;  at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)
dev_dataverse&gt;  at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)
dev_dataverse&gt;  at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)
dev_dataverse&gt;  at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)
dev_dataverse&gt;  at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)
dev_dataverse&gt;  at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)
dev_dataverse&gt;  at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)
dev_dataverse&gt;  at java.base/java.lang.Thread.run(Unknown Source)
</code></pre></div>



<a name="487324385"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324385" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324385">(Dec 10 2024 at 19:15)</a>:</h4>
<p>Does that help at all?</p>



<a name="487324482"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324482" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324482">(Dec 10 2024 at 19:15)</a>:</h4>
<p>definitely</p>



<a name="487324491"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324491" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324491">(Dec 10 2024 at 19:15)</a>:</h4>
<p><code>edu.harvard.iq.dataverse.util.URLTokenUtil.createPostBody(URLTokenUtil.java:216)</code></p>



<a name="487324535"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324535" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324535">(Dec 10 2024 at 19:16)</a>:</h4>
<p>which commit are you on?</p>



<a name="487324574"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324574" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324574">(Dec 10 2024 at 19:16)</a>:</h4>
<p>The latest</p>



<a name="487324594"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324594" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324594">(Dec 10 2024 at 19:16)</a>:</h4>
<p>Well actually one second</p>



<a name="487324612"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487324612" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487324612">(Dec 10 2024 at 19:16)</a>:</h4>
<p>Let me double check that haha</p>



<a name="487325002"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487325002" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487325002">(Dec 10 2024 at 19:19)</a>:</h4>
<p>I'm on this commit: <a href="https://github.com/IQSS/dataverse/commit/82dad99d4eefbb194519fdadcfc630ff05b6e1b9">https://github.com/IQSS/dataverse/commit/82dad99d4eefbb194519fdadcfc630ff05b6e1b9</a></p>



<a name="487325148"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487325148" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487325148">(Dec 10 2024 at 19:20)</a>:</h4>
<p>Ok, so the error is being thrown here: <a href="https://github.com/IQSS/dataverse/blob/82dad99d4eefbb194519fdadcfc630ff05b6e1b9/src/main/java/edu/harvard/iq/dataverse/util/URLTokenUtil.java#L216">https://github.com/IQSS/dataverse/blob/82dad99d4eefbb194519fdadcfc630ff05b6e1b9/src/main/java/edu/harvard/iq/dataverse/util/URLTokenUtil.java#L216</a></p>



<a name="487325462"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487325462" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487325462">(Dec 10 2024 at 19:22)</a>:</h4>
<p>I see... This is the manifest I use to register the app, is there anything I should change?<br>
configure:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;displayName&quot;: &quot;Data Explorer&quot;,
  &quot;description&quot;: &quot;Odesi Data Explorer for viewing, configuring and editing variables&quot;,
  &quot;scope&quot;: &quot;file&quot;,
  &quot;type&quot;: &quot;configure&quot;,
  &quot;contentType&quot;: &quot;text/tab-separated-values&quot;,
  &quot;toolUrl&quot;: &quot;http://localhost:4200/&quot;,
  &quot;toolParameters&quot;: {
    &quot;queryParameters&quot;: [
      {
        &quot;fileId&quot;: &quot;{fileId}&quot;
      },
      {
        &quot;fileMetadataId&quot;: &quot;{fileMetadataId}&quot;
      },
      {
        &quot;datasetPid&quot;: &quot;{datasetPid}&quot;
      },
      {
        &quot;dvLocale&quot;: &quot;{localeCode}&quot;
      }
    ]
  },
  &quot;allowedApiCalls&quot;: [
    {
      &quot;name&quot;: &quot;retrieveDataFileDDI&quot;,
      &quot;httpMethod&quot;: &quot;GET&quot;,
      &quot;urlTemplate&quot;: &quot;/api/v1/access/datafile/{fileId}/metadata/ddi&quot;,
      &quot;timeOut&quot;: 270
    },
    {
      &quot;name&quot;: &quot;retrieveDataFile&quot;,
      &quot;httpMethod&quot;: &quot;GET&quot;,
      &quot;urlTemplate&quot;: &quot;/api/v1/access/datafile/{fileId}&quot;
    },
    {
      &quot;name&quot;: &quot;uploadDataFile&quot;,
      &quot;httpMethod&quot;: &quot;PUT&quot;,
      &quot;urlTemplate&quot;: &quot;/api/v1/edit/{fileId}&quot;
    }
  ]
}
</code></pre></div>
<p>explore:</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;displayName&quot;: &quot;Data Explorer&quot;,
  &quot;description&quot;: &quot;Odesi Data Explorer for viewing, and configuring variables&quot;,
  &quot;scope&quot;: &quot;file&quot;,
  &quot;type&quot;: &quot;explore&quot;,
  &quot;contentType&quot;: &quot;text/tab-separated-values&quot;,
  &quot;toolUrl&quot;: &quot;http://localhost:4200&quot;,
  &quot;toolParameters&quot;: {
    &quot;queryParameters&quot;: [
      {
        &quot;fileId&quot;: &quot;{fileId}&quot;
      },
      {
        &quot;fileMetadataId&quot;: &quot;{fileMetadataId}&quot;
      },
      {
        &quot;datasetPid&quot;: &quot;{datasetPid}&quot;
      },
      {
        &quot;dvLocale&quot;: &quot;{localeCode}&quot;
      }
    ]
  },
  &quot;allowedApiCalls&quot;: [
    {
      &quot;name&quot;: &quot;retrieveDataFile&quot;,
      &quot;httpMethod&quot;: &quot;GET&quot;,
      &quot;urlTemplate&quot;: &quot;/api/v1/access/datafile/{fileId}&quot;
    },
    {
      &quot;name&quot;: &quot;retrieveDataFileDDI&quot;,
      &quot;httpMethod&quot;: &quot;GET&quot;,
      &quot;urlTemplate&quot;: &quot;/api/v1/access/datafile/{fileId}/metadata/ddi&quot;,
      &quot;timeOut&quot;: 270
    }
  ]
}
</code></pre></div>



<a name="487325695"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487325695" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487325695">(Dec 10 2024 at 19:24)</a>:</h4>
<p>Some of your <code>allowedApiCalls</code> don't have a <code>timeOut</code>.</p>
<p>Could that be the problem?</p>
<p>I suspect this might be the line that's giving you trouble:</p>
<p><code>int timeout = apiObj.getInt(TIMEOUT);</code></p>



<a name="487325851"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487325851" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487325851">(Dec 10 2024 at 19:25)</a>:</h4>
<p>I can try changing that, can i set it to -1 for unlimited time or should all urls have a limit?</p>



<a name="487325982"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487325982" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487325982">(Dec 10 2024 at 19:26)</a>:</h4>
<p>buh, I'm not sure</p>



<a name="487326064"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487326064" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487326064">(Dec 10 2024 at 19:27)</a>:</h4>
<p>"For non-public datasets and datafiles, how many minutes the signed URLs given to the tool should be valid for. Must be an integer." <a href="https://guides.dataverse.org/en/6.4/api/external-tools.html">https://guides.dataverse.org/en/6.4/api/external-tools.html</a></p>



<a name="487326116"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487326116" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487326116">(Dec 10 2024 at 19:27)</a>:</h4>
<p>Please feel free to open an issue to clarify the docs.</p>



<a name="487326504"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487326504" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin üöÄ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487326504">(Dec 10 2024 at 19:29)</a>:</h4>
<p>Judging from the code, <code>-1</code> is not supported. I guess you could open a separate issue for that, if you want it.</p>



<a name="487333250"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/487333250" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nana <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#487333250">(Dec 10 2024 at 20:13)</a>:</h4>
<p>Okay I will. Thanks, Philip!</p>



<a name="528686587"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20external%20tool%20timeout%20config/near/528686587" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20external.20tool.20timeout.20config.html#528686587">(Jul 14 2025 at 15:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="787413">nana</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>