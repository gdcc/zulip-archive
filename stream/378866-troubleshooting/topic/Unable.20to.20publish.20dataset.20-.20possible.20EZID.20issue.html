<html>
<head><meta charset="utf-8"><title>Unable to publish dataset - possible EZID issue Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html">Unable to publish dataset - possible EZID issue</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="527922126"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527922126" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527922126">(Jul 09 2025 at 16:09)</a>:</h4>
<p>Still on 5.14 and payara5.Â  I'm running into an issue publishing datasets.</p>
<p>#|2025-07-08T19:05:28.937+0000|SEVERE|Payara 5.2022.4|edu.harvard.iq.dataverse.DatasetPage|_ThreadID=96;_ThreadName=http-thread-pool::jk-connector(3);_TimeMillis=1752001528937;_LevelValue=1000;|<br>
Â  CommandException, when attempting to update the dataset: This dataset may not be published due to an error when contacting the &lt;a href=https://ezid.cdlib.org target="_blank"/&gt; EZID &lt;/a&gt; Service. Please try again.<br>
edu.harvard.iq.dataverse.engine.command.exception.CommandException: This dataset may not be published due to an error when contacting the &lt;a href=https://ezid.cdlib.org target="_blank"/&gt; EZID &lt;/a&gt; Service. Please try again.<br>
Â  Â  Â  Â  at edu.harvard.iq.dataverse.engine.command.impl.AbstractDatasetCommand.registerExternalIdentifier(AbstractDatasetCommand.java:193)</p>
<p>I'm wondering if the doi settings in domain.xml have changed.<br>
Mine look like:<br>
&lt;jvm-options&gt;-DProtocol=doi&lt;/jvm-options&gt;<br>
&lt;jvm-options&gt;-Ddoi.provider=EZID&lt;/jvm-options&gt;<br>
&lt;jvm-options&gt;-Ddoi.password=<strong>*</strong>*&lt;/jvm-options&gt;<br>
&lt;jvm-options&gt;-Dcom.ctc.wstx.returnNullForDefaultNamespace=true&lt;/jvm-options&gt;<br>
&lt;jvm-options&gt;-Ddoi.username=<strong>*</strong>&lt;/jvm-options&gt;</p>
<p>Thank you,</p>
<p>Jamie Jamison<br>
UCLA Dataverse</p>



<a name="527923022"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527923022" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527923022">(Jul 09 2025 at 16:15)</a>:</h4>
<p>Hoboy. EZID. Only supported in California. <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="527923129"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527923129" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527923129">(Jul 09 2025 at 16:15)</a>:</h4>
<p>Is the EZID service up and working?</p>



<a name="527923210"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527923210" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527923210">(Jul 09 2025 at 16:16)</a>:</h4>
<p>Also, when was the last time published worked for you? And has anything changed?</p>



<a name="527937304"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527937304" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527937304">(Jul 09 2025 at 17:43)</a>:</h4>
<p>Oh good, Jim is helping here as well: <a href="https://groups.google.com/g/dataverse-community/c/gdTnvT5TAgM/m/SiuYx_E4BgAJ">https://groups.google.com/g/dataverse-community/c/gdTnvT5TAgM/m/SiuYx_E4BgAJ</a></p>



<a name="527954783"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527954783" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527954783">(Jul 09 2025 at 19:47)</a>:</h4>
<p>Jim was very helpful.  I've gotten the userid, password and baseurl set.  I just need to figure out how  dataverse.pid.ezid.api-url is set.  What ever I have for that is still incorrect.</p>



<a name="527955139"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527955139" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527955139">(Jul 09 2025 at 19:49)</a>:</h4>
<p><a href="https://guides.dataverse.org/en/5.14/installation/config.html#dataverse-pid-ezid-api-url">https://guides.dataverse.org/en/5.14/installation/config.html#dataverse-pid-ezid-api-url</a> says it defaults to <a href="https://ezid.cdlib.org">https://ezid.cdlib.org</a></p>



<a name="527958048"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/527958048" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#527958048">(Jul 09 2025 at 20:10)</a>:</h4>
<p>I have that.   The other one I'm confused about is Ddataverse.pid.permalink.base-url.   This isn't the same as the old base-url?</p>
<p>Documentation (<a href="https://guides.dataverse.org/en/5.14/installation/config.html#dataverse-pid-permalink-base-url">https://guides.dataverse.org/en/5.14/installation/config.html#dataverse-pid-permalink-base-url</a>)  has:</p>
<h3><a href="https://guides.dataverse.org/en/5.14/installation/config.html#id247">dataverse.pid.permalink.base-url</a><a href="https://guides.dataverse.org/en/5.14/installation/config.html#dataverse-pid-permalink-base-url">https://guides.dataverse.org/en/5.14/installation/config.html#dataverse-pid-permalink-base-url</a></h3>
<p>When usingÂ <a href="https://guides.dataverse.org/en/5.14/installation/config.html#permalinks">PermaLinks</a>, this setting can be used to configure an external resolver. Dataverse will associate a PermaLink PID with the URL:Â <code>&lt;dataverse.pid.permalink.base-url&gt;/citation?persistentId=perma:&lt;permalink&gt;</code>. The default value is your Dataverse site URL, which will result in PermaLinks correctly resolving to the appropriate dataset page.</p>
<p>To set this option, issue a command such as:</p>
<p><code>./asadminÂ create-jvm-optionsÂ '-Ddataverse.pid.permalink.base-url=https\://localresolver.yourdataverse.org'</code></p>
<p>So that would be url=https\://localresolver.dataverse.ucla.edu   ?</p>



<a name="528734112"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528734112" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528734112">(Jul 14 2025 at 20:23)</a>:</h4>
<p>I contacted UC Berkeley, the other campus using EZID.  They sent some examples and I've tried adding those but I'm still getting the error:<br>
[#|2025-07-14T20:12:04.845+0000|SEVERE|Payara 5.2022.4|edu.harvard.iq.dataverse.DatasetPage|_ThreadID=97;_ThreadName=http-thread-pool::jk-connector(4);_TimeMillis=1752523924845;_LevelValue=1000;|<br>
  CommandException, when attempting to update the dataset: This dataset may not be published due to an error when contacting the &lt;a href=https://ezid.cdlib.org target="_blank"/&gt; EZID &lt;/a&gt; Service. Please try again.<br>
edu.harvard.iq.dataverse.engine.command.exception.CommandException: This dataset may not be published due to an error when contacting the &lt;a href=https://ezid.cdlib.org target="_blank"/&gt; EZID &lt;/a&gt; Service. Please try again.</p>
<p>It's probably something obviouse but I haven't found the problem yet.</p>
<p>Can I share my domain.xml file with anyone just to get someother eyes on the problem.</p>
<p>-jamie</p>



<a name="528734971"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528734971" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528734971">(Jul 14 2025 at 20:28)</a>:</h4>
<p>Hmm, is there any more in server.log? That's pretty much the complete error?</p>



<a name="528741392"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528741392" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528741392">(Jul 14 2025 at 21:13)</a>:</h4>
<p>The entire error is too long to fit here.  I've attached it as a text file.<br>
<a href="/user_uploads/53090/Brc9ZPiq68eQTxmZlk1dRnK5/payara5-error.txt">payara5-error.txt</a></p>



<a name="528743503"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528743503" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> jamie jamison <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528743503">(Jul 14 2025 at 21:28)</a>:</h4>
<p>What I think it comes down to is that I still don't have ezid setup correctly</p>



<a name="528857063"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528857063" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528857063">(Jul 15 2025 at 13:08)</a>:</h4>
<p>Hmm, I don't like the look of this:</p>
<p><code>String edu.ucsb.nceas.ezid.EZIDException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>



<a name="528857329"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528857329" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528857329">(Jul 15 2025 at 13:09)</a>:</h4>
<p>For <span class="user-mention" data-user-id="903222">@Yuyun Wirawati</span> there was something wrong with a HTTP SSL cert: <a href="https://groups.google.com/g/dataverse-community/c/xD1gfiD5H-U/m/56aSTXkFEgAJ">https://groups.google.com/g/dataverse-community/c/xD1gfiD5H-U/m/56aSTXkFEgAJ</a></p>



<a name="528857641"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528857641" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528857641">(Jul 15 2025 at 13:10)</a>:</h4>
<p>And there was a similar cert error here when trying to add a harvesting client: <a href="https://groups.google.com/g/dataverse-community/c/lpYLX4RkxO4/m/5KTRZQ-3AQAJ">https://groups.google.com/g/dataverse-community/c/lpYLX4RkxO4/m/5KTRZQ-3AQAJ</a></p>



<a name="528965740"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Unable%20to%20publish%20dataset%20-%20possible%20EZID%20issue/near/528965740" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuyun Wirawati <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Unable.20to.20publish.20dataset.20-.20possible.20EZID.20issue.html#528965740">(Jul 16 2025 at 01:19)</a>:</h4>
<p>hmm, same error message. <br>
For us, we replaced the cacerts.jks (  /usr/local/payara5/glassfish/domains/domain1/config/cacerts.jks) to new version. Connection to DataCite was restored, and we could publish again.</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>