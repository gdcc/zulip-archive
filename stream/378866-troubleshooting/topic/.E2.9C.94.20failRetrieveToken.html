<html>
<head><meta charset="utf-8"><title>âœ” failRetrieveToken Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20failRetrieveToken.html">âœ” failRetrieveToken</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="426159652"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20failRetrieveToken/near/426159652" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohsen Jafari <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20failRetrieveToken.html#426159652">(Mar 12 2024 at 15:59)</a>:</h4>
<p>My OIDC's token endpoint returns the following result:</p>
<p>{"access_token":"MY_ACCESS_TOKEN","id_token":"MY_ID_TOKEN","token_type":"Bearer"}</p>
<p>But I get this error in the server.log:</p>
<p>edu.harvard.iq.dataverse.authorization.providers.oauth2.OAuth2Exception: auth.providers.token.failRetrieveToken<br>
    at edu.harvard.iq.dataverse.authorization.providers.oauth2.oidc.OIDCAuthProvider.getAccessToken(OIDCAuthProvider.java:277)<br>
    at edu.harvard.iq.dataverse.authorization.providers.oauth2.oidc.OIDCAuthProvider.getUserRecord(OIDCAuthProvider.java:223)<br>
    at edu.harvard.iq.dataverse.authorization.providers.oauth2.OAuth2LoginBackingBean.exchangeCodeForToken(OAuth2LoginBackingBean.java:103)<br>
    at edu.harvard.iq.dataverse.authorization.providers.oauth2.OAuth2LoginBackingBean$Proxy$_$$_WeldSubclass.exchangeCodeForToken(Unknown Source)<br>
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>
    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)<br>
    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)<br>
    at java.base/java.lang.reflect.Method.invoke(Method.java:568)<br>
    at jakarta.el.ELUtil.invokeMethod(ELUtil.java:227)<br>
    at jakarta.el.BeanELResolver.invoke(BeanELResolver.java:481)...</p>



<a name="426184542"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20failRetrieveToken/near/426184542" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20failRetrieveToken.html#426184542">(Mar 12 2024 at 18:02)</a>:</h4>
<p>You're still on alpha/6.1 right? So this line? <a href="https://github.com/IQSS/dataverse/blob/v6.1/src/main/java/edu/harvard/iq/dataverse/authorization/providers/oauth2/oidc/OIDCAuthProvider.java#L277">https://github.com/IQSS/dataverse/blob/v6.1/src/main/java/edu/harvard/iq/dataverse/authorization/providers/oauth2/oidc/OIDCAuthProvider.java#L277</a></p>



<a name="426521087"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20failRetrieveToken/near/426521087" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mohsen Jafari <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20failRetrieveToken.html#426521087">(Mar 14 2024 at 11:30)</a>:</h4>
<p>Your link helped me and I solved the problem. My token endpoint should have returned a 200 OK status code along with the token. Thanks.</p>



<a name="426521121"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20failRetrieveToken/near/426521121" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20failRetrieveToken.html#426521121">(Mar 14 2024 at 11:30)</a>:</h4>
<p><span class="user-mention silent" data-user-id="698782">Mohsen Jafari</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>