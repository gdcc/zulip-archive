<html>
<head><meta charset="utf-8"><title>Datasets with large number of files failed to Re-index v6.4 Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html">Datasets with large number of files failed to Re-index v6.4</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="496425661"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/496425661" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bikram <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#496425661">(Jan 28 2025 at 21:15)</a>:</h4>
<p>We recently upgraded to v6.4 and Re-indexing got stuck 3-4 times on 2 different datasets which are really huge. We run re-index on a separate server which is not part of Production workload. While re-indexing was stuck Payara server got stuck too and app was unavailable. It ran for hours and 1 time Payara server crashed and restarted with OutofMemory error and other time Payara server did not come back after crash.  <br>
I had to manually set <code>indextime</code> of these 2 datasets in DB to proceed with Re-index of other datasets. Last time on 6.2 upgrade it took a while to re-index but we did not run into issue with frozen server.<br>
First dataset has 1057 files with size 321G on disk<br>
Second dataset 2872 files with 84G size</p>



<a name="497086528"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/497086528" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Baroti <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#497086528">(Jan 31 2025 at 20:53)</a>:</h4>
<p>Did you try increasing the memory for your system, Bikram - did the indexing finish eventually?</p>



<a name="497086997"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/497086997" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bikram <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#497086997">(Jan 31 2025 at 20:56)</a>:</h4>
<p>System has 32GB memory, I think should be enough. It did not finish and got stuck. I had to manually update indextime in DB to proceed with other datasets.</p>



<a name="497090608"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/497090608" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Baroti <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#497090608">(Jan 31 2025 at 21:21)</a>:</h4>
<p>Bikram, go ahead and try 64GB, and please keep us posted! <span aria-label="fingers crossed" class="emoji emoji-1f91e" role="img" title="fingers crossed">:fingers_crossed:</span></p>



<a name="501885121"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/501885121" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#501885121">(Feb 25 2025 at 18:41)</a>:</h4>
<p><span class="user-mention" data-user-id="719882">@Bikram</span> thanks for opening <a href="https://github.com/IQSS/dataverse/issues/11284">#11284</a> about this.</p>



<a name="502028791"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/502028791" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Don Sizemore <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#502028791">(Feb 26 2025 at 11:57)</a>:</h4>
<p><span class="user-mention" data-user-id="719882">@Bikram</span> what's Payara's Xmx value?</p>



<a name="502047597"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Datasets%20with%20large%20number%20of%20files%20failed%20to%20Re-index%20v6.4/near/502047597" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bikram <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Datasets.20with.20large.20number.20of.20files.20failed.20to.20Re-index.20v6.2E4.html#502047597">(Feb 26 2025 at 13:32)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="626369">@Don Sizemore</span>, Its <code>-Xmx24576m</code></p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>