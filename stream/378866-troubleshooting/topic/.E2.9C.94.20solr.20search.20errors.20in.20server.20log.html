<html>
<head><meta charset="utf-8"><title>âœ” solr search errors in server log Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html">âœ” solr search errors in server log</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="477513320"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477513320" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477513320">(Oct 17 2024 at 19:46)</a>:</h4>
<p>Hi there .. I am seeing errors in the logs of both our QA and Prod dataverse installations that look like this:</p>
<p>Search Syntax Error: Error from server at &lt;server URL&gt;/solr/collection1: sort param field can't be found: dateSort']]<br>
Search Syntax Error: Error from server at &lt;server URL&gt;/solr/collection1: undefined field: "datasetType"]]</p>
<p>I assume I messed up the schema during one of the recent updates .. they were a little tricky because we don't have solr running on the same server as dataverse, so I had to list the schema on the app server, copy it to the solr server, and then run the update fields script after copying the new schema from the iqss github</p>
<p>however it seemed to go okay anyway (didn't get any errors) .. any ideas on the best way to fix? <br>
looking at <a href="https://guides.dataverse.org/en/latest/admin/metadatacustomization.html">this</a> .. should i just copy the schema.xml again and re-run the update fields script? I don't want to make it worse</p>



<a name="477517738"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477517738" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477517738">(Oct 17 2024 at 20:17)</a>:</h4>
<p><code>datasetType</code> is definitely new as of 6.4</p>



<a name="477517955"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477517955" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477517955">(Oct 17 2024 at 20:19)</a>:</h4>
<p>For the block, maybe we should move to <a class="stream-topic" data-stream-id="378866" href="/#narrow/channel/378866-troubleshooting/topic/delete.20custom.20metadata.20block">#troubleshooting &gt; delete custom metadata block</a></p>



<a name="477517994"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477517994" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477517994">(Oct 17 2024 at 20:19)</a>:</h4>
<p>In order to keep this topic focused on Solr, I mean.</p>



<a name="477519136"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477519136" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477519136">(Oct 17 2024 at 20:27)</a>:</h4>
<p>ah sorry i always do that</p>



<a name="477519312"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477519312" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477519312">(Oct 17 2024 at 20:28)</a>:</h4>
<p>i thought it was related <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="477519715"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477519715" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477519715">(Oct 17 2024 at 20:31)</a>:</h4>
<p>i deleted that question</p>



<a name="477520816"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477520816" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477520816">(Oct 17 2024 at 20:39)</a>:</h4>
<p>So if it helps, that script is grabbing fields from <a href="http://localhost:8080/api/admin/index/solr/schema">http://localhost:8080/api/admin/index/solr/schema</a></p>



<a name="477520861"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477520861" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477520861">(Oct 17 2024 at 20:39)</a>:</h4>
<p>You don't have to use the script if it's giving you trouble.</p>



<a name="477520918"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477520918" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477520918">(Oct 17 2024 at 20:40)</a>:</h4>
<p>But you do need to make sure Solr has the fields your installation expects.</p>



<a name="477520980"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477520980" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477520980">(Oct 17 2024 at 20:40)</a>:</h4>
<p><code>dateSort</code> should be super old. I'm not sure why you don't have that one.</p>



<a name="477521138"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477521138" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477521138">(Oct 17 2024 at 20:41)</a>:</h4>
<p>Do you have a lot of custom metadata blocks? Or experimental blocks?</p>



<a name="477521194"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477521194" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477521194">(Oct 17 2024 at 20:42)</a>:</h4>
<p>Basically, anything that isn't already in the schema.xml we ship?</p>



<a name="477521779"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477521779" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477521779">(Oct 17 2024 at 20:46)</a>:</h4>
<p>we don't have any .. other than accidentally adding the computational one .. the datasetType error is on our QA site that we have updated to v6.4, and the dateSort one is on our production which is still at v6.3 ..</p>



<a name="477522081"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477522081" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477522081">(Oct 17 2024 at 20:49)</a>:</h4>
<p>Well, dateSort is old. You can grab that line from <a href="https://github.com/IQSS/dataverse/blob/v6.3/conf/solr/schema.xml">https://github.com/IQSS/dataverse/blob/v6.3/conf/solr/schema.xml</a></p>



<a name="477523701"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477523701" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477523701">(Oct 17 2024 at 21:01)</a>:</h4>
<p>if I run 'curl "<a href="http://localhost:8080/api/admin/index/solr/schema">http://localhost:8080/api/admin/index/solr/schema</a>"' .. the only fields it returns are the ones within the &lt;!-- SCHEMA-FIELDS::BEGIN --&gt;&lt;!-- SCHEMA-FIELDS::END --&gt; section .. so i've messed something up</p>



<a name="477523806"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477523806" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477523806">(Oct 17 2024 at 21:02)</a>:</h4>
<p>No, that's right.</p>



<a name="477523848"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477523848" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477523848">(Oct 17 2024 at 21:02)</a>:</h4>
<p>That "schema" endpoint is only for the dynamic fields. The ones that come from the database.</p>



<a name="477523874"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477523874" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477523874">(Oct 17 2024 at 21:03)</a>:</h4>
<p>From metadata blocks, that is.</p>



<a name="477523916"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477523916" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477523916">(Oct 17 2024 at 21:03)</a>:</h4>
<p>I hope I haven't confused you more. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="477523919"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477523919" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477523919">(Oct 17 2024 at 21:03)</a>:</h4>
<p>ah okay</p>



<a name="477524028"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477524028" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477524028">(Oct 17 2024 at 21:04)</a>:</h4>
<p>so where is it finding "dateSort"?</p>



<a name="477524120"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477524120" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477524120">(Oct 17 2024 at 21:05)</a>:</h4>
<p>i see it was added for 4.0</p>



<a name="477524560"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477524560" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477524560">(Oct 17 2024 at 21:08)</a>:</h4>
<p>it is defined in my schema.xml</p>



<a name="477526246"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477526246" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477526246">(Oct 17 2024 at 21:23)</a>:</h4>
<p>i have the most current one .. same as <a href="https://github.com/IQSS/dataverse/blob/v6.3/conf/solr/schema.xml">https://github.com/IQSS/dataverse/blob/v6.3/conf/solr/schema.xml</a></p>



<a name="477532077"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477532077" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477532077">(Oct 17 2024 at 22:14)</a>:</h4>
<p>i figured out the issue with the QA site .. the errors were occurring when I was upgrading and haven't occurred since so I think was just a timing thing</p>



<a name="477532366"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/477532366" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Deirdre Kirmis <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#477532366">(Oct 17 2024 at 22:16)</a>:</h4>
<p>for prod i will go through the steps again to update the schema tonight and then do a full index</p>



<a name="478141206"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20solr%20search%20errors%20in%20server%20log/near/478141206" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20solr.20search.20errors.20in.20server.20log.html#478141206">(Oct 21 2024 at 20:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598843">Deirdre Kirmis</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>