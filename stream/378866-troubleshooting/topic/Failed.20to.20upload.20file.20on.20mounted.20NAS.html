<html>
<head><meta charset="utf-8"><title>Failed to upload file on mounted NAS Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html">Failed to upload file on mounted NAS</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="526572206"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526572206" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayu Widi <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526572206">(Jul 01 2025 at 10:07)</a>:</h4>
<p>Hi There,,<br>
We have a new installation using version 6.6 , and we need to use our NAS as our storage . We have mounted it to : say /home/dataverse_file_nas ,, but when i try to upload via web application, the files appeared after i uploaded it, but when i try to save, i got : <code>Failed to save the file, storage id file://197c54bcb31-57a5d045ce55 (/home/dataverse_file_nas /20.5xxxxxx/xxxxxxx</code></p>
<p>in the mount directory, the folder named persistent identifier was created, and file appeared there with md5 name as usual but with 0 bytes. But, again, the file failed to save, and not appeared in dataset's files section.</p>
<p>can anybody help me? i tried to create, edit, copy, and delete file manually using dataverse service user on the server, there's no issue, dataverse user have enough permission to the directories .</p>



<a name="526573138"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526573138" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526573138">(Jul 01 2025 at 10:11)</a>:</h4>
<p>Hmm, is SELinux enabled? It is preventing the saving of files on your NAS?</p>



<a name="526577854"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526577854" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayu Widi <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526577854">(Jul 01 2025 at 10:39)</a>:</h4>
<p>i disabled the SELinux , and <code>sestatus</code>shows me <code>SELinux status:                 disabled</code> but the upload is still failed</p>



<a name="526588459"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526588459" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526588459">(Jul 01 2025 at 11:40)</a>:</h4>
<p>Can you double check what user your Payara server is running with?</p>



<a name="526712653"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526712653" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayu Widi <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526712653">(Jul 02 2025 at 03:17)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598183">Oliver Bertuch</span> <a href="#narrow/channel/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS/near/526588459">said</a>:</p>
<blockquote>
<p>Can you double check what user your Payara server is running with?</p>
</blockquote>
<p>ps -ef result show this :</p>
<p><code>dataver+    2340       1  2 Jul01 ?        00:20:06 /usr/lib/jvm/java-17-openjdk                                                                                                             -17.0.15.0.6-3.el9.x86_64/bin/java -cp /usr/local/payara6/glassfish/domains/doma                                                                                                             in1/lib/ext/*:/usr/local/payara6/glassfish/modules/glassfish.jar -XX:+UnlockDiag</code></p>



<a name="526713002"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526713002" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayu Widi <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526713002">(Jul 02 2025 at 03:22)</a>:</h4>
<p>this is what i get after upload via web app : </p>
<div class="codehilite"><pre><span></span><code># ls -lth
total 1.5K
-rwxr-xr-x 0 dataverse dataverse  0 Jul  2 10:20 197c926b1d5-6e93970258d0
</code></pre></div>
<p>if i try to edit the file with vim , it says permission denied :<br>
<code>"197c926b1d5-6e93970258d0" [Permission Denied]</code></p>



<a name="526993006"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526993006" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526993006">(Jul 03 2025 at 13:09)</a>:</h4>
<p>Can you double check it's not SELinux causing you trouble? <a href="https://access.redhat.com/articles/2191331">https://access.redhat.com/articles/2191331</a></p>



<a name="526993196"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/526993196" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#526993196">(Jul 03 2025 at 13:10)</a>:</h4>
<p>Also, you're mounting the filesystem from a NAS. What are you using? NFS? SMB? iSCSI + FS? Something else?</p>



<a name="531987664"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Failed%20to%20upload%20file%20on%20mounted%20NAS/near/531987664" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ayu Widi <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Failed.20to.20upload.20file.20on.20mounted.20NAS.html#531987664">(Jul 31 2025 at 06:02)</a>:</h4>
<p>we tried many settings but no result. Our case was using CIFS. Now we move to NFS and everything's running well.</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>