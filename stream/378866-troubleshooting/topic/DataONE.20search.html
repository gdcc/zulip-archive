<html>
<head><meta charset="utf-8"><title>DataONE search · troubleshooting · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html">DataONE search</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="397000890"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397000890" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397000890">(Oct 17 2023 at 00:46)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="598112">@Philip Durbin</span>  --it's been a long time, but I see you're still deep into everything Dataverse. I wanted to reopen the topic of indexing Dataverse content into DataONE (<a href="https://datone.org">https://datone.org</a>) -- my colleague Ian has been working on getting that harvest enabled, but running into blocks from robots.txt and other policy issues -- I just wanted to check in and make sure we're heading in the right direction. Let me know if you have a minute to chat.</p>



<a name="397084003"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397084003" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397084003">(Oct 17 2023 at 11:04)</a>:</h4>
<p><span class="user-mention" data-user-id="659548">@Matt Jones</span> hi! Yes, I'm still in deep. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> </p>
<p>I see you replied to <span class="user-mention" data-user-id="637063">@Leo Andreev</span> at <a href="https://help.hmdc.harvard.edu/Ticket/Display.html?id=337611">https://help.hmdc.harvard.edu/Ticket/Display.html?id=337611</a> recently. Let me check in with him. He's been working on robots.txt stuff over at <a href="https://github.com/IQSS/dataverse.harvard.edu/issues/228">https://github.com/IQSS/dataverse.harvard.edu/issues/228</a> but I don't remember the exact status.</p>
<p>Anyway, sure! Let's do a call. 3am local time for you so let's wait a bit. <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="397160268"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397160268" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397160268">(Oct 17 2023 at 18:13)</a>:</h4>
<p>We're talking about it but probably won't get to it today.</p>



<a name="397165074"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397165074" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397165074">(Oct 17 2023 at 18:49)</a>:</h4>
<p>ok, thanks <span class="user-mention" data-user-id="598112">@Philip Durbin</span> -- when we first tried to harvest <a href="http://schema.org">schema.org</a>, it seems like we didn;'t throttle and so it was a problem for your server,. So, Ian worked on toning it down and limiting our request rate, but then on the very day that he tried it again, he noticed that your robots.txt was modified to include a <code>Disallow: /</code> from all user agents except google. So we were worried that we did something wrong again. Ian sent Leo a note on RT, but we'd love to work out how to handle this in a way that works for your systems.</p>



<a name="397165625"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397165625" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397165625">(Oct 17 2023 at 18:53)</a>:</h4>
<p>Heh, well, we appreciate you being good Internet citizens. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="397166839"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397166839" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397166839">(Oct 17 2023 at 19:02)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="598112">@Philip Durbin</span>, I appreciate your and Leo's time. I'm happy to jump on a call if you need to hash out technical stuff.</p>



<a name="397179703"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397179703" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397179703">(Oct 17 2023 at 20:44)</a>:</h4>
<p>Much appreciated. It's a busy day here. Sorry.</p>



<a name="397541147"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397541147" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397541147">(Oct 19 2023 at 16:37)</a>:</h4>
<p>Leonid is still quite busy. Are there questions I can answer? Or is the main question just, "When will you stop blocking us?" <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="397587815"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397587815" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397587815">(Oct 19 2023 at 22:50)</a>:</h4>
<p>That is the main question for sure, with a side question of why blocking was needed for our new process -- we're hoping our throttled harvest is well below whatever limits you need to impose. If not, we'd like to be sure they are before we restart.</p>



<a name="397587853"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397587853" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397587853">(Oct 19 2023 at 22:50)</a>:</h4>
<p>Probably you're collateral damage. I'm sure there are worse offenders.</p>



<a name="397587965"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397587965" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397587965">(Oct 19 2023 at 22:52)</a>:</h4>
<p>so if we see the robots.txt file flip back to unblocked, is that a sign its ok to start again?</p>



<a name="397588145"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397588145" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397588145">(Oct 19 2023 at 22:54)</a>:</h4>
<p>Let us know if there's anything we need to change to be good netizens</p>



<a name="397592945"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397592945" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397592945">(Oct 19 2023 at 23:47)</a>:</h4>
<p>Can you or <span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> please provide any specifics about what he wrote in the ticket?</p>
<blockquote>
<p>In addition, I also cut the concurrent requests down and added some throttling. Before the requests began to fail, the harvest was running much faster than before due to the smaller response sizes. Please let me know whether to cut it back further and I can do so.</p>
</blockquote>
<p>How many requests per second are we talking about?</p>



<a name="397608461"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397608461" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397608461">(Oct 20 2023 at 02:07)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span> The lowest rate I saw was 20 pages/min and the most I saw was 36 pages/min</p>



<a name="397608513"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397608513" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397608513">(Oct 20 2023 at 02:07)</a>:</h4>
<p>so between 0.3 and 0.6-ish/second</p>



<a name="397727756"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397727756" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397727756">(Oct 20 2023 at 14:56)</a>:</h4>
<p>More specifics: the job started with a permissive <code>robots.txt</code> and the spider was requesting <code>application/ld+json</code> successfully, but at 2023-10-13 23:06:16 UTC those requests started returning a <code>text/html</code> response we couldn't parse, and then at 2023-10-13 23:09:14 they began returning 404</p>



<a name="397728425"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397728425" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397728425">(Oct 20 2023 at 14:59)</a>:</h4>
<p>Thanks. Out of curiosity, do you plan to index metadata from any of the other Dataverse installations? <a href="https://dataverse.org/installations">https://dataverse.org/installations</a> ?</p>



<a name="397729448"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397729448" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397729448">(Oct 20 2023 at 15:02)</a>:</h4>
<p>Yes actually, we have been in contact with Borealis recently and just began a harvest of their Dataverse metadata as well</p>



<a name="397729738"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397729738" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397729738">(Oct 20 2023 at 15:03)</a>:</h4>
<p>Oh, nice. Our Canadian friends. <span aria-label="flag canada" class="emoji emoji-1f1e8-1f1e6" role="img" title="flag canada">:flag_canada:</span> How has the indexing experience been so far?</p>



<a name="397731129"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397731129" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397731129">(Oct 20 2023 at 15:10)</a>:</h4>
<p>Excellent! It's one of the endpoints in our triage that has the most complete <a href="http://schema.org">schema.org</a> data of anywhere I've seen</p>



<a name="397731593"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397731593" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397731593">(Oct 20 2023 at 15:12)</a>:</h4>
<p>Wow, that's nice to hear.</p>



<a name="397732308"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397732308" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397732308">(Oct 20 2023 at 15:16)</a>:</h4>
<p>I see a lot of repositories that are missing <code>identifier</code> or have incorrectly configured <code>@id</code> or other fields so it's nice to see ones that follow the spec</p>



<a name="397733296"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397733296" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397733296">(Oct 20 2023 at 15:21)</a>:</h4>
<p>Gotcha. Well we did use Google's validator.</p>



<a name="397733380"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/397733380" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#397733380">(Oct 20 2023 at 15:22)</a>:</h4>
<p>And we put in some <a href="http://schema.org">schema.org</a> fixes recently. Not sure if Borealis has upgraded yet.</p>



<a name="398114285"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/398114285" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#398114285">(Oct 23 2023 at 15:49)</a>:</h4>
<p>Looks like some correspondence is happening in <a href="https://help.hmdc.harvard.edu/Ticket/Display.html?id=337611">https://help.hmdc.harvard.edu/Ticket/Display.html?id=337611</a> . Great!</p>



<a name="407133558"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/407133558" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#407133558">(Dec 11 2023 at 02:13)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span> We've finally got most of the Harvard Dataverse corpus scraped, harvested, and indexed in DataONE: <a href="https://search.dataone.org/portals/HD">https://search.dataone.org/portals/HD</a> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="407133839"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/407133839" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#407133839">(Dec 11 2023 at 02:15)</a>:</h4>
<p>I will have Angie Garcia, our outreach coordinator, get in contact with you as soon as we're all back from AGU, or sooner if you're there to find us in person. Cheers and Happy Holidays!</p>



<a name="407135362"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/407135362" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#407135362">(Dec 11 2023 at 02:22)</a>:</h4>
<p><span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> nice, thanks for letting us know!</p>



<a name="408250542"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/408250542" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#408250542">(Dec 15 2023 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> I was just thinking, what you've built is morally equivalent to SHARE, which we list an an integration: <a href="https://guides.dataverse.org/en/6.1/admin/integrations.html#share">https://guides.dataverse.org/en/6.1/admin/integrations.html#share</a></p>



<a name="408250641"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/408250641" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#408250641">(Dec 15 2023 at 20:14)</a>:</h4>
<p>If you'd like to create a PR to add DataONE, the file edit it here: <a href="https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/admin/integrations.rst">https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/admin/integrations.rst</a></p>



<a name="408266216"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/408266216" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#408266216">(Dec 15 2023 at 22:26)</a>:</h4>
<p>Definitely! I've added PR <a href="https://github.com/IQSS/dataverse/pull/10192">#10192</a> with the suggested changes. Thank you for the suggestion.</p>



<a name="475304568"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/475304568" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#475304568">(Oct 07 2024 at 14:00)</a>:</h4>
<p><span class="user-mention" data-user-id="659548">@Matt Jones</span> <span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> can you think of any reason why <a href="https://search.dataone.org/view/sha256%3A2291cc19ed4e348a344f58f656cf5b354bfd2b8a0a05d59b2799d9333ce795f4">https://search.dataone.org/view/sha256%3A2291cc19ed4e348a344f58f656cf5b354bfd2b8a0a05d59b2799d9333ce795f4</a> (Ci Technology DataSet) has my ORCID on it? My ORCID ( <a href="http://orcid.org/0000-0002-9528-9470">http://orcid.org/0000-0002-9528-9470</a> ) is listed as both submitter (!) and rights holder (!!). Someone just emailed me about access to that dataset but I have nothing to do with it. <span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span></p>



<a name="476456094"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/476456094" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#476456094">(Oct 11 2024 at 20:42)</a>:</h4>
<p>Hi Philip, my apologies for the delay as I've been on vacation—to answer<br>
your question, since the records are all just placeholders that trace back<br>
to the "real" HD records, we assign the repository manager as both<br>
submitter and rightsholder. Since the records update automatically and the<br>
node instance needs a user account to do so, we tell the system that they<br>
are being maintained by "you". It also allows you to, for example, modify<br>
the records yourself using our API, should you need to do so. We really<br>
should take the mention of the submitter and rightsholder ORCID out of<br>
prominence or view entirely for <a href="http://schema.org">schema.org</a> records, but that is technically<br>
how it works.</p>
<p>As for the root cause of why they may be asking you this question: I<br>
suppose they must need the record changed in some way. If so, we would be<br>
happy to help facilitate. The records should be updated automatically based<br>
on HD JSON-LDs on a regular basis, but sometimes in rare cases our indexer<br>
drops the records and they must be reindexed manually. Before I left for<br>
vacation I noticed HD had a backlog of changes that need to be indexed, so<br>
I can take a look and see if this is one of those cases. We have yet to<br>
identify the bug, but we're working on it.</p>



<a name="476458814"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/476458814" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#476458814">(Oct 11 2024 at 21:04)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin 🐉</span> making sure you see this <span aria-label="up" class="emoji emoji-2b06" role="img" title="up">:up:</span></p>



<a name="476998532"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/476998532" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#476998532">(Oct 15 2024 at 14:07)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin 🐉</span> Now that I'm back from vacation, it looks like the Harvard Dataverse sitemap doesn't have any <code>lastmod</code> dates after <code>2024-07-03</code>. Perhaps the sitemap has stopped updating somehow?</p>



<a name="476999859"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/476999859" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#476999859">(Oct 15 2024 at 14:14)</a>:</h4>
<p>I've set our sitemap spider to pick up all changes after <code>2024-07-03</code> so when the sitemap does get updated, we can get to work indexing the backlog.</p>



<a name="477017831"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477017831" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477017831">(Oct 15 2024 at 15:40)</a>:</h4>
<p><span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> thanks for getting back to me. Now I'm back from couple days off. It sounds like my ORCID is on thousands of datasets. Can you please remove it? <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="477018331"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477018331" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477018331">(Oct 15 2024 at 15:43)</a>:</h4>
<p>Sure. Since I manage the metadata flows, we can replace it with mine if that's an acceptable solution.</p>



<a name="477019330"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477019330" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477019330">(Oct 15 2024 at 15:48)</a>:</h4>
<p>From my perspective, that's a step in the right direction. <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="477019397"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477019397" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477019397">(Oct 15 2024 at 15:48)</a>:</h4>
<p>I don't particularly want to field questions about rights and access, etc.</p>



<a name="477019514"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477019514" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477019514">(Oct 15 2024 at 15:49)</a>:</h4>
<p>Are there any other options, longer term? Maybe even just "see source dataset"?</p>



<a name="477019556"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477019556" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477019556">(Oct 15 2024 at 15:49)</a>:</h4>
<p>That's fair. Perhaps a better solution would be to hide those fields from view entirely, since they don't really mean anything to the end user.</p>



<a name="477020024"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477020024" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477020024">(Oct 15 2024 at 15:51)</a>:</h4>
<blockquote>
<p>Are there any other options, longer term? Maybe even just "see source dataset"?</p>
</blockquote>
<p>Yes. I will bring this up at our DataONE team meeting on Thursday, because ideally we don't want end users asking data managers about these automatically managed records at all.</p>



<a name="477020661"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477020661" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477020661">(Oct 15 2024 at 15:55)</a>:</h4>
<p>Well, I think the fields are meaningful. Who submitted this data? Who is the rights holder? But sure, hidden fields are better than inaccurate fields, I'd say.</p>



<a name="477020921"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477020921" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477020921">(Oct 15 2024 at 15:56)</a>:</h4>
<p>Of course. They would still be visible in the system metadata, just not on the dataset landing pages.</p>



<a name="477021635"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477021635" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477021635">(Oct 15 2024 at 15:59)</a>:</h4>
<p>Any idea why the HD sitemap seems to be stale since early July?</p>



<a name="477021820"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477021820" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477021820">(Oct 15 2024 at 16:00)</a>:</h4>
<p>Oh, we probably switched to &gt;50K mode. One sec.</p>



<a name="477022139"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477022139" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477022139">(Oct 15 2024 at 16:01)</a>:</h4>
<p>Here, please try this one: <a href="https://dataverse.harvard.edu/sitemap_index.xml">https://dataverse.harvard.edu/sitemap_index.xml</a></p>



<a name="477022269"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477022269" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477022269">(Oct 15 2024 at 16:02)</a>:</h4>
<p>If it's helpful, here are our docs on it: <a href="https://guides.dataverse.org/en/6.4/installation/config.html#multiple-sitemap-files-sitemap-index-file">https://guides.dataverse.org/en/6.4/installation/config.html#multiple-sitemap-files-sitemap-index-file</a></p>



<a name="477023152"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477023152" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477023152">(Oct 15 2024 at 16:06)</a>:</h4>
<p>Ah, perfect. Our spider can handle indexed sitemaps. Thank you!</p>



<a name="477023712"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477023712" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477023712">(Oct 15 2024 at 16:09)</a>:</h4>
<p>Sure thing, I wonder if we should do something with the old, aging, single-file sitemap. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="477023975"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477023975" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477023975">(Oct 15 2024 at 16:10)</a>:</h4>
<p>Yeah, good question. Maybe a <code>moved permanently</code> that redirects to the base of the index?</p>



<a name="477024668"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477024668" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477024668">(Oct 15 2024 at 16:14)</a>:</h4>
<p>Good idea. I'm asking internally.</p>



<a name="477024953"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477024953" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477024953">(Oct 15 2024 at 16:15)</a>:</h4>
<p>Weird: the new sitemap doesn't seem to have records newer than <code>2024-07-03</code> either.</p>



<a name="477025031"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477025031" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477025031">(Oct 15 2024 at 16:15)</a>:</h4>
<p><img alt=":doh:" class="emoji" src="https://avatars.zulip.com/53090/emoji/images/343009b9.png" title="doh"></p>



<a name="477042159"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477042159" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477042159">(Oct 15 2024 at 17:50)</a>:</h4>
<p><span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> ok! The sitemap should be fixed now. Please try again. And thanks again for letting us know!</p>



<a name="477043751"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477043751" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477043751">(Oct 15 2024 at 18:01)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="598112">@Philip Durbin 🐉</span> ! Yes, I'm scraping 4200 new records now.</p>



<a name="477045262"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477045262" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477045262">(Oct 15 2024 at 18:10)</a>:</h4>
<p>Great news. And where are we with "rights holder" and "submitter"? Some day it would be nice to fill these in with the proper values. Maybe stuff like "CC0" and whoever is in the Depositor field? Of course, hiding these values for now, if they don't have accurate information, sounds good to me.</p>



<a name="477055282"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477055282" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477055282">(Oct 15 2024 at 19:16)</a>:</h4>
<p>Because the records are maintained automatically, the rights have to be the same across the board. I can change the <code>rightsHolder</code> field to my ORCiD. The <code>submitter</code> field is immutable, unfortunately, so I think the best route to take would be to just hide them from view of the end user so it doesn't get misinterpreted as to why it's not the authors themselves. Because in essence, those rights <strong><em>are</em></strong> held by the authors themselves, they just have to edit the HD record, since the DataONE record is automatically drawn from HD.</p>



<a name="477055365"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477055365" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477055365">(Oct 15 2024 at 19:16)</a>:</h4>
<p>I will raise this issue at our meeting on Thursday and let you know the outcome.</p>



<a name="477063127"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477063127" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477063127">(Oct 15 2024 at 20:10)</a>:</h4>
<p>Thanks, I'm curious what people think about this.</p>



<a name="477063184"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477063184" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477063184">(Oct 15 2024 at 20:10)</a>:</h4>
<p>From my perspective "submitter" maps to "depositor" in Dataverse.</p>



<a name="477063210"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477063210" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477063210">(Oct 15 2024 at 20:11)</a>:</h4>
<p>And rights are always a hot mess. <span aria-label="crazy" class="emoji emoji-1f61c" role="img" title="crazy">:crazy:</span></p>



<a name="477063242"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477063242" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477063242">(Oct 15 2024 at 20:11)</a>:</h4>
<p>But we do have lots of fields in Dataverse for rights if you want them! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="477065864"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477065864" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477065864">(Oct 15 2024 at 20:30)</a>:</h4>
<blockquote>
<p>From my perspective "submitter" maps to "depositor" in Dataverse.</p>
</blockquote>
<p>Does Dataverse require ORCiDs for submission? If so that would be a fairly 1:1 translation...</p>



<a name="477066431"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477066431" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477066431">(Oct 15 2024 at 20:34)</a>:</h4>
<p>No, ORCIDs are optional</p>



<a name="477069935"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477069935" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477069935">(Oct 15 2024 at 21:01)</a>:</h4>
<p>Our <code>submitter</code> field corresponds to the user identifier of the party that initially deposited the dataset (and is immutable via the API from the time of first deposit). It is closely aligned to <code>rightsHolder</code>, which is the user identifier of the party that has full access rights over the dataset, which can change through time (in addition to any other access rules that are provided for other users). The values in these fields are typically ORCID values now, but could also be any identifier from an identity provider that you use (e.g., from CILogon, Globus Auth, OpenID Connect, etc).</p>



<a name="477070286"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477070286" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477070286">(Oct 15 2024 at 21:03)</a>:</h4>
<p>Ideally we like to have the info as it applies to each dataset individually, but in the case of <a href="http://schema.org">schema.org</a> harvests, this info is usually not in the record, and so we have reverted to setting a global value for the whole collection. Which is where we went awry from your perspective, I think. Maybe we need to standardize/clarify how rights and access fields are populated in <a href="http://schema.org">schema.org</a> Dataset entries to promote interoperability?</p>



<a name="477070746"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477070746" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477070746">(Oct 15 2024 at 21:06)</a>:</h4>
<p>We've been gaining members of DataONE that use the Dataverse platform (e.g., DataverseNO most recently), and so it would be good to iron out these details for all groups that might wish to join.</p>



<a name="477070749"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477070749" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477070749">(Oct 15 2024 at 21:06)</a>:</h4>
<p>Maybe. These days we're using Croissant as an extension of <a href="http://Schema.org">Schema.org</a>.</p>
<p>Here's an example: <a href="https://dataverse.harvard.edu/api/datasets/export?exporter=croissant&amp;persistentId=doi%3A10.7910/DVN/HOLVXA">https://dataverse.harvard.edu/api/datasets/export?exporter=croissant&amp;persistentId=doi%3A10.7910/DVN/HOLVXA</a></p>



<a name="477070852"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477070852" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477070852">(Oct 15 2024 at 21:07)</a>:</h4>
<p>We don't seem to put Dataverse's "depositor" field in there. If there's a good place for it, we certainly could.</p>



<a name="477070956"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477070956" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477070956">(Oct 15 2024 at 21:08)</a>:</h4>
<p>We do populate "creator" but this can be different than "depositor". A depositor can upload data on a creator/author's behalf in Dataverse.</p>



<a name="477070991"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477070991" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477070991">(Oct 15 2024 at 21:08)</a>:</h4>
<p>But yes, yes, yes, we should align! <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="477071736"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477071736" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477071736">(Oct 15 2024 at 21:13)</a>:</h4>
<p>Yeah, <code>creator</code> and <code>rightsHolder</code> in DataONE are certainly different. We interpret <code>creator</code> following SOSO to be the list of parties that should be cited/attributed for the Dataset. Whereas <code>rightsHolder</code> is about access control, and orthogonal to attribution. Various other parties can act on behalf of creators when editing and depositing datasets. So I think a separate set of roles around rightsHolder, submitter/depositor, and access control lists could be useful. But its only really useful to people that are trying to use interoperable editing APIs (and not just public read access).</p>



<a name="477071835"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477071835" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477071835">(Oct 15 2024 at 21:14)</a>:</h4>
<p>(Hi Phil! Glad to be chatting again, it has been quite a while!)</p>



<a name="477072935"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477072935" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477072935">(Oct 15 2024 at 21:23)</a>:</h4>
<p>SOSO?</p>



<a name="477073116"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073116" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073116">(Oct 15 2024 at 21:24)</a>:</h4>
<p>Also, can you please remind me... is DataONE getting Dataverse metadata from the <code>&lt;head&gt;</code> of dataset pages as <a href="http://Schema.org">Schema.org</a> JSON-LD?</p>



<a name="477073173"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073173" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073173">(Oct 15 2024 at 21:24)</a>:</h4>
<p>SOSO - <a href="http://science-on-schema.org">science-on-schema.org</a></p>



<a name="477073241"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073241" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073241">(Oct 15 2024 at 21:25)</a>:</h4>
<p>ooo, fun!</p>



<a name="477073269"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073269" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073269">(Oct 15 2024 at 21:25)</a>:</h4>
<blockquote>
<p>is DataONE getting Dataverse metadata from the <code>&lt;head&gt;</code> of dataset pages as <a href="http://schema.org/">Schema.org</a> JSON-LD?</p>
</blockquote>
<p>IIRC we're doing content negotiation and grabbing it from an AWS instance</p>



<a name="477073274"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073274" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073274">(Oct 15 2024 at 21:25)</a>:</h4>
<p>I wonder if the Croissant folks know about this <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="477073403"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073403" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073403">(Oct 15 2024 at 21:26)</a>:</h4>
<p>well, sure, we're on AWS</p>



<a name="477073423"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073423" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073423">(Oct 15 2024 at 21:26)</a>:</h4>
<p>Is the code open source?</p>



<a name="477073499"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073499" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073499">(Oct 15 2024 at 21:27)</a>:</h4>
<p>Yes—it's located at <a href="https://github.com/DataONEorg/mnlite">https://github.com/DataONEorg/mnlite</a></p>



<a name="477073916"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477073916" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477073916">(Oct 15 2024 at 21:30)</a>:</h4>
<p>After downloading and parsing the sitemaps, we query each page listed and ask for JSON-LD, which I think causes a redirect to a request like this:</p>
<div class="codehilite"><pre><span></span><code>https://dvn-cloud.s3.us-east-1.amazonaws.com/10.7910/DVN/BUOUNW/export_schema.org.cached?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIEJ3NV7UYCSRJC7A%2F20240925%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20240925T082255Z&amp;X-Amz-Expires=7200&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=ce9e514a3d9e1c521733311b597a7df31e4e8387b0b6b353891f1a2c30635b28
</code></pre></div>



<a name="477074764"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477074764" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477074764">(Oct 15 2024 at 21:36)</a>:</h4>
<p>On a related note, every once in a while we seem to be running into an issue where the server only returns half of a json document...</p>



<a name="477074964"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477074964" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jones <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477074964">(Oct 15 2024 at 21:38)</a>:</h4>
<p>Carl Boettiger has been pursuing the SOSO-Croissant mapping and how they relate to one another, and it has been discussed a few times in ESIP cluster meetings, but we haven't dove into it in detail yet.</p>



<a name="477082349"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477082349" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477082349">(Oct 15 2024 at 22:44)</a>:</h4>
<p>Thanks, make sense. Looks like you're using <code>export_schema.org.cached</code> but if you want, you could switch to <code>export_croissant.cached</code>. Google Dataset Search is encouraging sites to switch to Croissant. Please see also this <a href="https://groups.google.com/g/dataverse-community/c/JI8HPgGarr8/m/y05wm0R8DwAJ">summary</a> I wrote.</p>



<a name="477082634"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477082634" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477082634">(Oct 15 2024 at 22:46)</a>:</h4>
<p>I don't see Carl in the Croissant meeting minutes but I do see mention of <a href="http://science-on-schema.org">science-on-schema.org</a>. Thanks for putting this on my radar.</p>



<a name="477218685"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/477218685" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#477218685">(Oct 16 2024 at 13:43)</a>:</h4>
<p>Ah, it looks like <span class="user-mention" data-user-id="621770">@Julian Gautier</span> <a href="https://github.com/IQSS/dataverse/issues/7349#issuecomment-812261349">attended</a> the DataONE "Science on <a href="http://Schema.org">Schema.org</a> Guidelines and Experiences" call back in 2021. Good.</p>



<a name="523282972"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523282972" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523282972">(Jun 10 2025 at 12:45)</a>:</h4>
<p>Good morning <span class="user-mention" data-user-id="598112">@Philip Durbin</span> and team. We've received some requests for DataONE to index location information for Dataverse datasets, but I don't think we scrape any from the SOSO docs. Do you store location information (bounding boxes, points, etc?) Is there a way for me to request that this info gets serialized into <a href="http://schema.org">schema.org</a> documents in future versions of the Dataverse software?</p>



<a name="523283244"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523283244" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523283244">(Jun 10 2025 at 12:46)</a>:</h4>
<p>Hi! We're about to start our annual conference (<a class="stream-topic" data-stream-id="375707" href="/#narrow/channel/375707-community/topic/.23Dataverse2025/with/464418895">#community &gt; #Dataverse2025</a>) but quickly, yes, please check the geospatial metadata block for a bounding box.</p>



<a name="523283678"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523283678" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523283678">(Jun 10 2025 at 12:48)</a>:</h4>
<p>Ah, exciting! Have a great conference!</p>



<a name="523284034"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523284034" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523284034">(Jun 10 2025 at 12:50)</a>:</h4>
<p>Thanks. Which of these export formats are you importing? <a href="https://dataverse.harvard.edu/api/info/exportFormats">https://dataverse.harvard.edu/api/info/exportFormats</a></p>



<a name="523284178"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523284178" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523284178">(Jun 10 2025 at 12:51)</a>:</h4>
<p><code>application/ld+json</code> (<a href="http://schema.org">schema.org</a>)</p>



<a name="523284660"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523284660" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523284660">(Jun 10 2025 at 12:53)</a>:</h4>
<p>Some datasets have place names, but I don't think we get any quantitative locations</p>



<a name="523285455"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/523285455" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#523285455">(Jun 10 2025 at 12:56)</a>:</h4>
<p>Don't feel the need to respond now, I can wait until after the conference to talk about this</p>



<a name="524321340"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524321340" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524321340">(Jun 16 2025 at 19:32)</a>:</h4>
<p><span class="user-mention" data-user-id="659827">@Ian Nesbitt</span> We're back! And I think I have some good news for you. I hope! <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span> </p>
<p>I started with <a href="https://dataverse.harvard.edu/api/search?q=*&amp;geo_point=42.3,-71.1&amp;geo_radius=1.5">https://dataverse.harvard.edu/api/search?q=*&amp;geo_point=42.3,-71.1&amp;geo_radius=1.5</a> which is the example of a geospatial search at <a href="https://guides.dataverse.org/en/6.6/api/search.html">https://guides.dataverse.org/en/6.6/api/search.html</a></p>
<p>This lead me to <a href="https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/E8Z5Q3">https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/E8Z5Q3</a></p>
<p>If you export as <a href="http://Schema.org">Schema.org</a> JSON-LD like this: <a href="https://dataverse.harvard.edu/api/datasets/export?exporter=schema.org&amp;persistentId=doi%3A10.7910/DVN/E8Z5Q3">https://dataverse.harvard.edu/api/datasets/export?exporter=schema.org&amp;persistentId=doi%3A10.7910/DVN/E8Z5Q3</a></p>
<p>You'll see this:</p>
<div class="codehilite"><pre><span></span><code>  &quot;spatialCoverage&quot;: [
    &quot;North America&quot;,
    &quot;Global&quot;
  ]
</code></pre></div>



<a name="524321448"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524321448" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524321448">(Jun 16 2025 at 19:33)</a>:</h4>
<p>It's not bounding boxes but you can get them from Dataverse's native JSON format if you like: <a href="https://dataverse.harvard.edu/api/datasets/export?exporter=dataverse_json&amp;persistentId=doi%3A10.7910/DVN/E8Z5Q3">https://dataverse.harvard.edu/api/datasets/export?exporter=dataverse_json&amp;persistentId=doi%3A10.7910/DVN/E8Z5Q3</a></p>



<a name="524321526"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524321526" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524321526">(Jun 16 2025 at 19:34)</a>:</h4>
<p>Or the OAI_ORE format: <a href="https://dataverse.harvard.edu/api/datasets/export?exporter=OAI_ORE&amp;persistentId=doi%3A10.7910/DVN/E8Z5Q3">https://dataverse.harvard.edu/api/datasets/export?exporter=OAI_ORE&amp;persistentId=doi%3A10.7910/DVN/E8Z5Q3</a></p>



<a name="524321972"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524321972" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524321972">(Jun 16 2025 at 19:37)</a>:</h4>
<p>Ah, I was just typing a message to you. Hope your conference went well!</p>



<a name="524322043"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524322043" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524322043">(Jun 16 2025 at 19:38)</a>:</h4>
<p>Yep! Good times. Too short. <span aria-label="smile" class="emoji emoji-1f604" role="img" title="smile">:smile:</span></p>



<a name="524322567"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524322567" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524322567">(Jun 16 2025 at 19:41)</a>:</h4>
<p>I do see the semantic place names in <code>spatialCoverage</code> but when we found the geospatial metadata block field definitions last week it confirmed my suspicion that the quantitative location information doesn't get serialized to <a href="http://schema.org">schema.org</a></p>



<a name="524323058"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323058" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323058">(Jun 16 2025 at 19:46)</a>:</h4>
<p>Right. It doesn't seem to. Should it? Is there a good place in <a href="http://schema.org">schema.org</a> (and Croissant, if you're familiar) for bounding boxes?</p>



<a name="524323412"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323412" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323412">(Jun 16 2025 at 19:48)</a>:</h4>
<p>Yes they do! It looks like this:</p>
<div class="codehilite" data-code-language="JSON-LD"><pre><span></span><code><span class="w">  </span><span class="nt">"spatialCoverage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Place"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nd">"@type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GeoShape"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"box"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{SOUTH} {WEST} {NORTH} {EAST}"</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>



<a name="524323442"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323442" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323442">(Jun 16 2025 at 19:49)</a>:</h4>
<p>For SO</p>



<a name="524323522"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323522" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323522">(Jun 16 2025 at 19:49)</a>:</h4>
<p>Interesting. Would you be able to make a feature request? <a href="https://github.com/IQSS/dataverse/issues">https://github.com/IQSS/dataverse/issues</a></p>



<a name="524323574"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323574" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323574">(Jun 16 2025 at 19:50)</a>:</h4>
<p>You can read about it in the <a href="http://science-on-schema.org">science-on-schema.org</a> Dataset guide: <a href="https://github.com/ESIPFed/science-on-schema.org/blob/main/guides/Dataset.md#spatial-coverage">https://github.com/ESIPFed/science-on-schema.org/blob/main/guides/Dataset.md#spatial-coverage</a></p>



<a name="524323602"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323602" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323602">(Jun 16 2025 at 19:50)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/channel/378866-troubleshooting/topic/DataONE.20search/near/524323522">said</a>:</p>
<blockquote>
<p>Interesting. Would you be able to make a feature request? <a href="https://github.com/IQSS/dataverse/issues">https://github.com/IQSS/dataverse/issues</a></p>
</blockquote>
<p>Definitely</p>



<a name="524323815"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524323815" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524323815">(Jun 16 2025 at 19:52)</a>:</h4>
<p>Awesome. Thanks. Also, out of curiosity, have you heard of Croissant? Any interest in it? It's also based on <a href="http://schema.org">schema.org</a>.</p>
<p>I ask because from the Dataverse perspective, we implemented the original <code>JSON-LD Schema.org</code> format to support Google Dataset Search. But now they've deprecated it in favor of Croissant.</p>



<a name="524324124"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524324124" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524324124">(Jun 16 2025 at 19:53)</a>:</h4>
<p>Yes, and we've discussed formally adopting it as well, but haven't made any official moves towards that yet</p>



<a name="524324467"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524324467" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524324467">(Jun 16 2025 at 19:56)</a>:</h4>
<p>Ok. I'm just reviewing <a href="https://dataverse.harvard.edu/api/info/exportFormats">https://dataverse.harvard.edu/api/info/exportFormats</a> again and if I'm not wrong Dataverse supports three formats based on <a href="http://schema.org">schema.org</a>:</p>
<ul>
<li>OAI_ORE</li>
<li><a href="http://schema.org">schema.org</a></li>
<li>croissant</li>
</ul>
<p>Would you want that "geo box" info in all three formats?</p>



<a name="524324850"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524324850" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524324850">(Jun 16 2025 at 19:58)</a>:</h4>
<p>I don't know exactly how that field translates from standard SO, but those other formats definitely support bounding boxes so I'll try to include it in the issue</p>



<a name="524324890"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524324890" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524324890">(Jun 16 2025 at 19:59)</a>:</h4>
<p>I think the answer is "yes"</p>



<a name="524324925"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524324925" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524324925">(Jun 16 2025 at 19:59)</a>:</h4>
<p>Great, thanks. If you want you can just say "all formats based on <a href="http://schema.org">schema.org</a>".</p>



<a name="524325078"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524325078" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524325078">(Jun 16 2025 at 20:00)</a>:</h4>
<p>Ok. I need to finish some other stuff but I can probably post the issue later this evening</p>



<a name="524325116"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524325116" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524325116">(Jun 16 2025 at 20:00)</a>:</h4>
<p>no rush, we don't have time to work on it anyway <span aria-label="crazy" class="emoji emoji-1f61c" role="img" title="crazy">:crazy:</span></p>



<a name="524325230"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524325230" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524325230">(Jun 16 2025 at 20:01)</a>:</h4>
<p>Same story here at DataONE as always :)</p>



<a name="524325264"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524325264" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524325264">(Jun 16 2025 at 20:01)</a>:</h4>
<p>I figured <span aria-label="rofl" class="emoji emoji-1f923" role="img" title="rofl">:rofl:</span></p>



<a name="524468703"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524468703" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524468703">(Jun 17 2025 at 14:36)</a>:</h4>
<p>Submitted: <a href="https://github.com/IQSS/dataverse/issues/11582">https://github.com/IQSS/dataverse/issues/11582</a></p>



<a name="524469158"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524469158" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524469158">(Jun 17 2025 at 14:38)</a>:</h4>
<p>Looks great! Thanks! I made a couple tiny tweaks.</p>



<a name="524469469"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/524469469" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#524469469">(Jun 17 2025 at 14:40)</a>:</h4>
<p>Thanks! You are quick!</p>



<a name="547347141"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547347141" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547347141">(Oct 27 2025 at 18:29)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="598112">@Philip Durbin 🚀</span> , we have been having an issue that I've missed since July...it seems our scraper is getting empty status code 202 responses from the HD server when it tries to get the base sitemap. I think the reason I missed it is because it doesn't register as an error...</p>



<a name="547348515"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547348515" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547348515">(Oct 27 2025 at 18:37)</a>:</h4>
<p>Here's what's returned when I wget from the scraper server:</p>
<div class="codehilite"><pre><span></span><code>$ wget https://dataverse.harvard.edu/sitemap_index.xml
--2025-10-27 18:35:21--  https://dataverse.harvard.edu/sitemap_index.xml
Resolving dataverse.harvard.edu (dataverse.harvard.edu)... 54.86.163.49, 3.211.175.147, 3.215.43.147
Connecting to dataverse.harvard.edu (dataverse.harvard.edu)|54.86.163.49|:443... connected.
HTTP request sent, awaiting response... 202 Accepted
Length: 0 [text/html]
Saving to: ‘sitemap_index.xml’

sitemap_index.xml                                [ &lt;=&gt;                                                                                         ]       0  --.-KB/s    in 0s

2025-10-27 18:35:22 (0.00 B/s) - ‘sitemap_index.xml’ saved [0/0]
</code></pre></div>



<a name="547350159"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547350159" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547350159">(Oct 27 2025 at 18:47)</a>:</h4>
<p>Length 0. Interesting.</p>



<a name="547356331"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547356331" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547356331">(Oct 27 2025 at 19:26)</a>:</h4>
<p>It loads fine in a browser which is odd</p>



<a name="547359896"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547359896" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian Gautier <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547359896">(Oct 27 2025 at 19:50)</a>:</h4>
<p>Hey all. I used to scrape the HTML of certain types of pages on Harvard Dataverse and had to stop back in April 2025. Leonid told me back then that the 202 status code I was seeing was because the IT folks who help manage security related things for Harvard Dataverse (HUIT) implemented some "silent challenge" that makes pages accessible from browsers only (or by using a Harvard VPN, although I couldn't get this to work back then, and eventually I stopped needing to scrape).</p>



<a name="547362291"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547362291" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547362291">(Oct 27 2025 at 20:04)</a>:</h4>
<p>Ah. Well, that would explain it. Thank you <span class="user-mention" data-user-id="621770">@Julian Gautier</span></p>



<a name="547363497"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547363497" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547363497">(Oct 27 2025 at 20:12)</a>:</h4>
<p>I imagine you're getting crawled by all sorts of LLM scrapers so I understand the necessity, but it would be nice if DataONE's metadata scraper could exempted from that restriction, because people do expect HD records to be aggregated in DataONE and we do send legitimate traffic to HD...</p>



<a name="547364104"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547364104" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian Gautier <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547364104">(Oct 27 2025 at 20:16)</a>:</h4>
<p>And it's still necessary to scrape the page instead of using the Dataverse API, right? I was able to stop scraping when the info I needed was made available with a new API endpoint, and I was able to use that instead. Sorry if I'm asking a question you've already talked about. I haven't read everything in this thread yet <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="547365043"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547365043" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547365043">(Oct 27 2025 at 20:22)</a>:</h4>
<p>It's ok. We parse the sitemaps to get landing page URLs for datasets, then use the <code>lastmod</code> date to filter for only the most recent ones, and download JSON-LD metadata from the endpoint using content negotiation. It's similar to what the Google Dataset Search scraper is doing</p>



<a name="547365574"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547365574" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547365574">(Oct 27 2025 at 20:26)</a>:</h4>
<p><span class="user-mention" data-user-id="659827">@Ian Nesbitt - DataONE</span> could you use Signposting to get the links to the JSON-LD files?</p>
<p>Please see this PR: expose links to all export formats via Signposting <a href="https://github.com/IQSS/dataverse/issues/11045">#11045</a></p>



<a name="547365655"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547365655" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547365655">(Oct 27 2025 at 20:26)</a>:</h4>
<p>And <a href="https://guides.dataverse.org/en/6.8/api/native-api.html#retrieve-signposting-information">https://guides.dataverse.org/en/6.8/api/native-api.html#retrieve-signposting-information</a></p>



<a name="547366801"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547366801" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547366801">(Oct 27 2025 at 20:34)</a>:</h4>
<p>I'm sure I can find a way to make HEAD requests to the landing pages. Currently we're doing <code>GET</code> requests but using content negotiation to ask for JSON-LD, so the response redirects us to a URL like <code>
https://dvn-cloud.s3.us-east-1.amazonaws.com/10.7910/DVN/BUOUNW/export_schema.org.cached?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAIEJ3NV7UYCSRJC7A%2F20240925%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Date=20240925T082255Z&amp;X-Amz-Expires=7200&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=ce9e514a3d9e1c521733311b597a7df31e4e8387b0b6b353891f1a2c30635b28</code></p>
<p>Would the HEAD request be any more efficient than the content negotiation we currently use?</p>



<a name="547366879"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547366879" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547366879">(Oct 27 2025 at 20:35)</a>:</h4>
<p>Definitely. Right now you're getting the whole payload of the page with a GET, right?</p>



<a name="547367424"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547367424" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547367424">(Oct 27 2025 at 20:39)</a>:</h4>
<p>I don't think we end up having to download any XHTML, because we get redirected to that <code>export_schema.org.cached</code> function when the server sees content negotiation in the request, which I assumed was the most efficient way of doing things</p>



<a name="547367684"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547367684" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547367684">(Oct 27 2025 at 20:41)</a>:</h4>
<p>I see. So you're already skipping the step of doing a GET of the dataset landing page, you're saying. You go directly to the cached export by constructing the URL you need based on the DOI. Is that right?</p>



<a name="547367872"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547367872" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547367872">(Oct 27 2025 at 20:43)</a>:</h4>
<p>Correct. I can recreate the requests in a <code>curl -v</code> command and show you the outputs but I assume I'd run into the aforementioned command line restriction</p>



<a name="547368010"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547368010" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547368010">(Oct 27 2025 at 20:44)</a>:</h4>
<p>Can you set the user agent to look like a browser?</p>



<a name="547368121"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547368121" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547368121">(Oct 27 2025 at 20:45)</a>:</h4>
<p>I can. In the scraper or the curl command?</p>



<a name="547368188"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547368188" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547368188">(Oct 27 2025 at 20:45)</a>:</h4>
<p>Maybe try in curl and if it works, try in the scraper?</p>



<a name="547369448"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547369448" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547369448">(Oct 27 2025 at 20:55)</a>:</h4>
<p>Sadly it still knows I'm on the command line:</p>
<div class="codehilite"><pre><span></span><code>$ curl -v -A &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0&quot; https://dataverse.harvard.edu/sitemap_index.xml
*   Trying 3.211.175.147:443...
* TCP_NODELAY set
* Connected to dataverse.harvard.edu (3.211.175.147) port 443 (#0)
* ALPN, offering h2
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*   CAfile: /etc/ssl/certs/ca-certificates.crt
  CApath: /etc/ssl/certs
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
* TLSv1.3 (IN), TLS handshake, Server hello (2):
* TLSv1.2 (IN), TLS handshake, Certificate (11):
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
* TLSv1.2 (IN), TLS handshake, Server finished (14):
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
* TLSv1.2 (OUT), TLS handshake, Finished (20):
* TLSv1.2 (IN), TLS handshake, Finished (20):
* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256
* ALPN, server accepted to use h2
* Server certificate:
*  subject: C=US; ST=Massachusetts; O=President and Fellows of Harvard College; CN=dataverse.harvard.edu
*  start date: Apr 30 00:00:00 2025 GMT
*  expire date: May 31 23:59:59 2026 GMT
*  subjectAltName: host &quot;dataverse.harvard.edu&quot; matched cert&#39;s &quot;dataverse.harvard.edu&quot;
*  issuer: C=US; O=Internet2; CN=InCommon RSA Server CA 2
*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
* Using Stream ID: 1 (easy handle 0x55c388e8e0d0)
&gt; GET /sitemap_index.xml HTTP/2
&gt; Host: dataverse.harvard.edu
&gt; user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:143.0) Gecko/20100101 Firefox/143.0
&gt; accept: */*
&gt;
* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!
&lt; HTTP/2 202
&lt; server: awselb/2.0
&lt; date: Mon, 27 Oct 2025 20:53:52 GMT
&lt; content-length: 0
&lt; x-amzn-waf-action: challenge
&lt; cache-control: no-store, max-age=0
&lt; content-type: text/html; charset=UTF-8
&lt; access-control-allow-origin: *
&lt; access-control-max-age: 86400
&lt; access-control-allow-methods: OPTIONS,GET,POST
&lt; access-control-expose-headers: x-amzn-waf-action
&lt;
* Connection #0 to host dataverse.harvard.edu left intact
</code></pre></div>



<a name="547369750"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547369750" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547369750">(Oct 27 2025 at 20:56)</a>:</h4>
<p><img alt=":doh:" class="emoji" src="https://avatars.zulip.com/53090/emoji/images/343009b9.png" title="doh"></p>



<a name="547369813"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547369813" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin 🚀 <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547369813">(Oct 27 2025 at 20:57)</a>:</h4>
<p>I pinged Leo earlier. Maybe he'll save us.</p>



<a name="547376865"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547376865" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leo Andreev <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547376865">(Oct 27 2025 at 21:47)</a>:</h4>
<p>Hi Ian, </p>
<blockquote>
<p><code>&lt; HTTP/2 202</code><br>
<code>&lt; access-control-expose-headers: x-amzn-waf-action</code></p>
</blockquote>
<p>Yes, this is <a href="https://docs.aws.amazon.com/waf/latest/developerguide/waf-captcha-and-challenge-how-it-works.html">AWS WAF Silent Challenge</a> that HUIT are enforcing on our UI pages now, to weed out non-browser calls. (HUIT is the Harvard group that runs the load balancer our servers sit behind). <br>
Please send me your crawler's ip address(es)/subnets so that I could ask them to be exempted from this WAF rule. <br>
I checked and I still have the rewrite rules in place for your crawler to serve fast redirects to exported metadata records on S3. <br>
(for the record, our <code>/api</code> is exempt from this blocking; but I'm not suggesting going through that as a solution, since I remember you had reasons to prefer to follow the standard sitemap route. Plus the custom redirects worked really well in the end). </p>
<p>And yes, virtually all Harvard sites that serve any data that can be fed to LLMs have been getting crawled to death. So they've been resorting to increasingly harsh measures to protect the perimeter from the bots. </p>
<p>We'll work it out. <br>
All the best, <br>
-Leo</p>
<p>P.S. I have <code>128.111.85.17</code> for your spider in my records - but that was a while ago.</p>



<a name="547379381"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547379381" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547379381">(Oct 27 2025 at 22:09)</a>:</h4>
<p>Hi Leo, makes sense—I'm actually not sure if our IPs have changed but we have a production scraper at <code>128.111.85.168</code> (<a href="http://sonode.dataone.org">sonode.dataone.org</a>) and a test scraper at <code>128.111.85.172</code> (<a href="http://so.test.dataone.org">so.test.dataone.org</a>).</p>
<p>Yes, we do have to download and parse the whole sitemap unfortunately, but the redirects have been working quite well!</p>



<a name="547524336"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547524336" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leo Andreev <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547524336">(Oct 28 2025 at 15:27)</a>:</h4>
<p>I got a confirmation that the 2 ips above have been added to the exemptions list.</p>



<a name="547525637"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547525637" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leo Andreev <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547525637">(Oct 28 2025 at 15:32)</a>:</h4>
<p>Could you please remind me if your crawler can be throttled as not to exceed a certain call rate? <br>
That's another thing HUIT are enforcing. Unlike the silent challenges, and for reasons I don't fully understand, they have been unable to grant us exceptions for specific url patterns etc. with that. <br>
At the moment the rate is defined as 300 calls/5 min., after which they put the ip on their crap list (code 403) for the next 5 min.</p>



<a name="547526112"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547526112" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leo Andreev <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547526112">(Oct 28 2025 at 15:34)</a>:</h4>
<p>(I am working with them on relaxing these rules/making them more flexible etc., as this is causing us real problems; but that's what we have to work around at the moment)</p>



<a name="547527667"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547527667" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547527667">(Oct 28 2025 at 15:40)</a>:</h4>
<p>We can delay each call as much as needed. Currently we enforce a 2-second delay between each.</p>



<a name="547528530"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547528530" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leo Andreev <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547528530">(Oct 28 2025 at 15:43)</a>:</h4>
<p>Great, that should be <del>more</del> slower than enough.</p>



<a name="547530538"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547530538" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547530538">(Oct 28 2025 at 15:51)</a>:</h4>
<p>I think if I set it to 1/sec it would be fine, because the delay time does not include processing time, but I also want to be kind to your servers and there's really no rush in getting the scrape done.</p>



<a name="547970584"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547970584" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Nesbitt - DataONE <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547970584">(Oct 30 2025 at 15:37)</a>:</h4>
<p>A brief update: we successfully scraped ~11,000 new and changed records, and metadata is once again flowing from HD to DataONE! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> Thank you <span class="user-mention" data-user-id="637063">@Leo Andreev</span> !!</p>



<a name="547982038"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/DataONE%20search/near/547982038" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Leo Andreev <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/DataONE.20search.html#547982038">(Oct 30 2025 at 16:26)</a>:</h4>
<p>Sweet, happy to hear.</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>