<html>
<head><meta charset="utf-8"><title>âœ” Moving from PG13 to PG15 - Public Schema changes Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html">âœ” Moving from PG13 to PG15 - Public Schema changes</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="527511156"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527511156" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Stevens <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527511156">(Jul 07 2025 at 16:01)</a>:</h4>
<p>Greeting All,<br>
In order to outrun the impending EOL for PG13 we are moving to PG15 ( cant go to 16 yet due to other institutional factors ). How do the new public schema changes in 15 effect how I would migrate the data relative to (pg_dump) process or config file changes? Thanks for any input, advice or potential gotcha's</p>



<a name="527692533"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527692533" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527692533">(Jul 08 2025 at 13:38)</a>:</h4>
<p>I have just recently played with running the DB upgrades outside of a deployment and presented my experiments during DCM2025. Maybe that's something you can play with, too? Here are my slides: <a href="http://talks.bertuch.name/dcm2025-upgrade">http://talks.bertuch.name/dcm2025-upgrade</a></p>



<a name="527694168"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527694168" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527694168">(Jul 08 2025 at 13:45)</a>:</h4>
<p>If it helps, <a href="https://github.com/IQSS/dataverse/issues/9877">#9877</a> is the PR where we updated the installer to <code>GRANT ALL ON SCHEMA public</code> to the pguser. And we added a related note to the guides.</p>



<a name="527882807"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527882807" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Stevens <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527882807">(Jul 09 2025 at 12:59)</a>:</h4>
<p>Thanks Oliver ( nice presentation by the way ) and Phil. All went smoothly and our staging instance is now using PG15. Since the installer was not involved in this move I was not sure if the GRANT ALL would carry over.</p>



<a name="527883501"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527883501" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527883501">(Jul 09 2025 at 13:02)</a>:</h4>
<p>Hmm, so you didn't need the <code>GRANT ALL</code>, it sounds like. <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="527885174"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527885174" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Stevens <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527885174">(Jul 09 2025 at 13:10)</a>:</h4>
<p>I did a basic pg_dump on the PG13 db and used command line psql command to import it into an empty PG15 db on our RDS PG15 datastore. The dvndb user owns the db within the datastore so perhaps the GRANT ALL is implied?</p>



<a name="527885304"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527885304" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527885304">(Jul 09 2025 at 13:11)</a>:</h4>
<p>Maybe. Or maybe that GRANT ALL is only needed during the installation process? I think I remember it failing without it. Not sure. <img alt=":shrugdog:" class="emoji" src="https://avatars.zulip.com/53090/emoji/images/86c833ef.png" title="shrugdog"></p>



<a name="527885783"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527885783" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Stevens <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527885783">(Jul 09 2025 at 13:13)</a>:</h4>
<p>Im adding it to my notes as a "be aware of and verify". Thanks Phil, will mark this as resolved.</p>



<a name="527886596"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527886596" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527886596">(Jul 09 2025 at 13:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="935523">Tim Stevens</span> has marked this topic as resolved.</p>



<a name="527893667"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/%E2%9C%94%20Moving%20from%20PG13%20to%20PG15%20-%20Public%20Schema%20changes/near/527893667" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/.E2.9C.94.20Moving.20from.20PG13.20to.20PG15.20-.20Public.20Schema.20changes.html#527893667">(Jul 09 2025 at 13:50)</a>:</h4>
<p>Thanks, Tim. For the record, it looks like we switched the installer from GRANT ALL to GRANT CREATE in <a href="https://github.com/IQSS/dataverse/issues/9903">#9903</a>.</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>