<html>
<head><meta charset="utf-8"><title>Upgrade to Dataverse 5.3 Â· troubleshooting Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/index.html">troubleshooting</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html">Upgrade to Dataverse 5.3</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="407247426"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407247426" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lennard Golsch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407247426">(Dec 11 2023 at 14:07)</a>:</h4>
<p>Hello, I tried to update my Dataverse to Version 5.3. I followed the instructions as described to update Payara to Payara 5.2020.6 including the replacement of domain1 folder. But when starting Payara I will get the following errors:</p>
<p>Caused by: A MultiException has 2 exceptions.  They are:<br>
Dez 11 14:52:42 dataverse java[831]: 1. com.sun.enterprise.module.ResolveError: Failed to start OSGiModuleImpl:: Bundle = [fish.payara.server.internal.payara-appserver-modules.mic&gt;<br>
Dez 11 14:52:42 dataverse java[831]: 2. java.lang.IllegalStateException: Could not load descriptor SystemDescriptor(<br>
Dez 11 14:52:42 dataverse java[831]:         implementation=fish.payara.microprofile.config.extensions.aws.AWSSecretsConfigSourceConfigurationInjector<br>
Dez 11 14:52:42 dataverse java[831]:         name=aws-secrets-config-source-configuration<br>
Dez 11 14:52:42 dataverse java[831]:         contracts={fish.payara.microprofile.config.extensions.aws.AWSSecretsConfigSourceConfigurationInjector,org.jvnet.hk2.config.ConfigInjec&gt;<br>
Dez 11 14:52:42 dataverse java[831]:         scope=javax.inject.Singleton<br>
Dez 11 14:52:42 dataverse java[831]:         qualifiers={org.jvnet.hk2.config.InjectionTarget}<br>
Dez 11 14:52:42 dataverse java[831]:         descriptorType=CLASS<br>
Dez 11 14:52:42 dataverse java[831]:         descriptorVisibility=NORMAL<br>
Dez 11 14:52:42 dataverse java[831]:         metadata=@region-name={required,datatype\:java.lang.String,leaf},@secret-name={required,datatype\:java.lang.String,leaf},@enabled={opt&gt;<br>
Dez 11 14:52:42 dataverse java[831]:         rank=0<br>
Dez 11 14:52:42 dataverse java[831]:         loader=OsgiPopulatorPostProcessor.HK2Loader(OSGiModuleImpl:: Bundle = [fish.payara.server.internal.payara-appserver-modules.microprofi&gt;<br>
Dez 11 14:52:42 dataverse java[831]:         proxiable=null</p>
<p>Any advice?</p>



<a name="407248600"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407248600" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407248600">(Dec 11 2023 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="673752">@Lennard Golsch</span> yikes, I'm not sure. I don't think I've seen this. Can you please email <a href="mailto:support@dataverse.org">support@dataverse.org</a> and let us know the ticket number?</p>



<a name="407248908"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407248908" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407248908">(Dec 11 2023 at 14:14)</a>:</h4>
<p>Judging from <a href="https://github.com/IQSS/dataverse/releases/tag/v5.3">https://github.com/IQSS/dataverse/releases/tag/v5.3</a> you're using the exact version of Payara mentioned there, which is probably good.</p>



<a name="407250130"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407250130" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lennard Golsch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407250130">(Dec 11 2023 at 14:20)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="598112">@Philip Durbin</span>, yes I am trying to use Payara 5.2020.6. Backing und Restoring Domain1 doesn't work to...</p>



<a name="407250460"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407250460" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lennard Golsch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407250460">(Dec 11 2023 at 14:22)</a>:</h4>
<p>[2023-12-11T15:17:49.647+0100] [Payara 5.2020.6] [WARNING] [NCLS-MON-00506] [javax.enterprise.system.tools.monitor] [tid: _ThreadID=22 _ThreadName=RunLevelControllerThread-1702304219180] [timeMillis: 1702304269647] [levelValue: 900] [[<br>
  Error unregistering ProbeProvider<br>
java.lang.NullPointerException<br>
        at org.glassfish.flashlight.impl.provider.FlashlightProbeProviderFactory.unregisterProbeProvider(FlashlightProbeProviderFactory.java:377)<br>
        at com.sun.ejb.containers.util.pool.AbstractPool.unregisterProbeProvider(AbstractPool.java:268)<br>
        at com.sun.ejb.containers.util.pool.NonBlockingPool.close(NonBlockingPool.java:405)<br>
        at com.sun.ejb.containers.StatelessSessionContainer.doConcreteContainerShutdown(StatelessSessionContainer.java:633)<br>
        at com.sun.ejb.containers.BaseContainer.onShutdown(BaseContainer.java:4311)<br>
        at org.glassfish.ejb.startup.EjbApplication.stop(EjbApplication.java:313)<br>
        at org.glassfish.internal.data.EngineRef.stop(EngineRef.java:162)<br>
        at com.sun.enterprise.v3.server.ApplicationLifecycle$3.actOn(ApplicationLifecycle.java:304)<br>
        at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:629)<br>
        at com.sun.enterprise.v3.server.ApplicationLoaderService.postConstruct(ApplicationLoaderService.java:332)<br>
        at org.jvnet.hk2.internal.ClazzCreator.postConstructMe(ClazzCreator.java:303)<br>
        at org.jvnet.hk2.internal.ClazzCreator.create(ClazzCreator.java:351)<br>
        at org.jvnet.hk2.internal.SystemDescriptor.create(SystemDescriptor.java:463)<br>
        at org.glassfish.hk2.runlevel.internal.AsyncRunLevelContext.findOrCreate(AsyncRunLevelContext.java:281)<br>
        at org.glassfish.hk2.runlevel.RunLevelContext.findOrCreate(RunLevelContext.java:65)<br>
        at org.jvnet.hk2.internal.Utilities.createService(Utilities.java:2102)<br>
        at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:93)<br>
        at org.jvnet.hk2.internal.ServiceHandleImpl.getService(ServiceHandleImpl.java:67)<br>
        at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.oneJob(CurrentTaskFuture.java:1213)<br>
        at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$QueueRunner.run(CurrentTaskFuture.java:1144)<br>
        at org.glassfish.hk2.runlevel.internal.CurrentTaskFuture$UpOneLevel.run(CurrentTaskFuture.java:762)<br>
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)<br>
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)<br>
        at java.base/java.lang.Thread.run(Thread.java:829)<br>
]]</p>



<a name="407251711"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407251711" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lennard Golsch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407251711">(Dec 11 2023 at 14:28)</a>:</h4>
<p>Another try brings me to:<br>
[2023-12-11T15:27:20.561+0100] [Payara 5.2020.6] [SEVERE] [] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=79 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1702304840561] [levelValue: 1000] [[<br>
  RAR5099 : Wrong class name or classpath for Datasource Object<br>
java.lang.ClassNotFoundException: org.postgresql.ds.PGPoolingDataSource<br>
        at com.sun.enterprise.v3.server.APIClassLoaderServiceImpl$APIClassLoader.loadClass(APIClassLoaderServiceImpl.java:245)<br>
        at com.sun.enterprise.v3.server.APIClassLoaderServiceImpl$APIClassLoader.loadClass(APIClassLoaderServiceImpl.java:237)<br>
        at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:98)<br>
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)<br>
        at java.base/java.lang.Class.forName0(Native Method)<br>
        at java.base/java.lang.Class.forName(Class.java:398)<br>
        at com.sun.gjc.common.DataSourceObjectBuilder.getDataSourceObject(DataSourceObjectBuilder.java:264)<br>
        at com.sun.gjc.common.DataSourceObjectBuilder.constructDataSourceObject(DataSourceObjectBuilder.java:110)<br>
        at com.sun.gjc.spi.ManagedConnectionFactoryImpl.getDataSource(ManagedConnectionFactoryImpl.java:1384)<br>
        at com.sun.gjc.spi.DSManagedConnectionFactory.getDataSource(DSManagedConnectionFactory.java:166)<br>
        at com.sun.gjc.spi.DSManagedConnectionFactory.crea</p>



<a name="407252814"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407252814" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lennard Golsch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407252814">(Dec 11 2023 at 14:34)</a>:</h4>
<p>Ok...</p>
<ol>
<li>create backup</li>
<li>install Payara 2020.06</li>
<li>restore backup</li>
<li>install postgres jbdc</li>
<li>deploy dataverse-5.2</li>
</ol>
<p>now it works</p>



<a name="407252929"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407252929" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407252929">(Dec 11 2023 at 14:35)</a>:</h4>
<p>Wait, you just fixed it?</p>



<a name="407253018"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407253018" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407253018">(Dec 11 2023 at 14:36)</a>:</h4>
<p>I'm confused because your step 5 says Dataverse 5.2 but I thought you wanted to go to 5.3.</p>



<a name="407267297"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407267297" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lennard Golsch <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407267297">(Dec 11 2023 at 15:43)</a>:</h4>
<p>Yes, I fixt it. I have followed the recommendation to try the deployment of Dataverse 5.2 first to test the Payara environment. Then I upgraded to Dataverse 5.3</p>



<a name="407267545"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/378866-troubleshooting/topic/Upgrade%20to%20Dataverse%205.3/near/407267545" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/378866-troubleshooting/topic/Upgrade.20to.20Dataverse.205.2E3.html#407267545">(Dec 11 2023 at 15:44)</a>:</h4>
<p>Fantastic! Good job! <img alt=":dataverse_man:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/44207.png" title="dataverse man"></p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>