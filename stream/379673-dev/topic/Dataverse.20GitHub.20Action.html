<html>
<head><meta charset="utf-8"><title>Dataverse GitHub Action Â· dev Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/index.html">dev</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html">Dataverse GitHub Action</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="355451736"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355451736" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355451736">(May 03 2023 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span> <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> do you have experience in sharing an action to the marketplace? Those that I did always included a script or something. Is it possible to just share the <code>yml</code> in its current form?</p>



<a name="355452089"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355452089" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355452089">(May 03 2023 at 13:59)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> no but <span class="user-mention" data-user-id="599446">@Ana Trisovic</span> does!</p>



<a name="355452160"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355452160" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355452160">(May 03 2023 at 13:59)</a>:</h4>
<p>Check out <a href="https://github.com/marketplace/actions/dataverse-uploader-action">https://github.com/marketplace/actions/dataverse-uploader-action</a> !</p>



<a name="355452594"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355452594" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355452594">(May 03 2023 at 14:01)</a>:</h4>
<p>Oh nice! Thanks for sending</p>



<a name="355518707"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355518707" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355518707">(May 03 2023 at 14:36)</a>:</h4>
<p>What would you like to achieve with that action?</p>



<a name="355520974"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355520974" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355520974">(May 03 2023 at 14:41)</a>:</h4>
<p>I would like to bundle all of this, so that end users can simply call this as a step. Nothing fancy, just to reduce boilterplate.</p>
<div class="codehilite"><pre><span></span><code>steps:
   - name: Setup Dataverse
      uses: IQSS/dataverse-dev@master
</code></pre></div>



<a name="355521544"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355521544" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355521544">(May 03 2023 at 14:43)</a>:</h4>
<p>Well we can create a composite action for this <a href="https://docs.github.com/en/actions/creating-actions/creating-a-composite-action">https://docs.github.com/en/actions/creating-actions/creating-a-composite-action</a></p>



<a name="355521775"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355521775" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355521775">(May 03 2023 at 14:43)</a>:</h4>
<p>But we would need to think about stuff like variables etc</p>



<a name="355521858"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355521858" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355521858">(May 03 2023 at 14:44)</a>:</h4>
<p>Certainly those would be inputs...</p>



<a name="355522106"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355522106" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355522106">(May 03 2023 at 14:44)</a>:</h4>
<p>And I'm not sure if the compose thing is the best way to go here</p>



<a name="355522214"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355522214" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355522214">(May 03 2023 at 14:45)</a>:</h4>
<p>It's hard to put in env vars for the container</p>



<a name="355523051"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355523051" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355523051">(May 03 2023 at 14:48)</a>:</h4>
<p>Ah wait, if we go for an action, we might create a compose file that references an env_file in the flesh... That might work for generating these vars before we start the container</p>



<a name="355523684"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355523684" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355523684">(May 03 2023 at 14:50)</a>:</h4>
<p>OK so we need as inputs:</p>
<ul>
<li>App image name/tag</li>
<li>Registry</li>
<li>env var content as simple string (it's yaml, so we can just dump that in a file)</li>
<li>Path to volume storage</li>
</ul>
<p>Anything else?</p>



<a name="355533949"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355533949" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355533949">(May 03 2023 at 15:25)</a>:</h4>
<p><span class="user-mention" data-user-id="598442">@Guillermo Portas</span> would such an action be of use for you as well?</p>



<a name="355849586"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/355849586" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guillermo Portas <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#355849586">(May 04 2023 at 17:59)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> Of course! That action would be useful for running frontend e2e and integration tests in an automated way through GitHub actions</p>



<a name="356983837"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/356983837" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#356983837">(May 09 2023 at 13:26)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> is configbaker part of this?</p>



<a name="356987851"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/356987851" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#356987851">(May 09 2023 at 13:39)</a>:</h4>
<p>Absolutely</p>



<a name="356987936"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/356987936" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#356987936">(May 09 2023 at 13:39)</a>:</h4>
<p>That's what will provide the hard part of bootstrapping et al</p>



<a name="356990185"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/356990185" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#356990185">(May 09 2023 at 13:46)</a>:</h4>
<p>Ok, so it's a dependency, basically. Thanks.</p>



<a name="388127551"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/388127551" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#388127551">(Aug 30 2023 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> and I talked about this briefly today. Stay tuned! <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="389626217"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/389626217" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#389626217">(Sep 07 2023 at 10:46)</a>:</h4>
<p>We ended up creating <a href="https://github.com/gdcc/dataverse-action">https://github.com/gdcc/dataverse-action</a> (a private repo) but no action there yet. <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="391623475"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391623475" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391623475">(Sep 18 2023 at 05:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/stream/377090-python/topic/Dataverse.20GitHub.20Action/near/389626217">schrieb</a>:</p>
<blockquote>
<p>We ended up creating <a href="https://github.com/gdcc/dataverse-action">https://github.com/gdcc/dataverse-action</a> (a private repo) but no action there yet. <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>
</blockquote>
<p>Hi Phil! Sorry for the delay, I was on vacation until today. Going to push the action today :-)</p>



<a name="391667624"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391667624" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391667624">(Sep 18 2023 at 10:24)</a>:</h4>
<p>I just pushed the action to the repository. Here is an example run</p>
<p><a href="https://github.com/gdcc/dataverse-action/actions/runs/6221210931/job/16882733005">https://github.com/gdcc/dataverse-action/actions/runs/6221210931/job/16882733005</a></p>



<a name="391668155"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391668155" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391668155">(Sep 18 2023 at 10:27)</a>:</h4>
<p>I am running into issues when creating a dataverse:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="o">{</span><span class="s2">"status"</span>:<span class="s2">"ERROR"</span>,<span class="s2">"message"</span>:<span class="s2">"Can't find dataverse with identifier='1'"</span><span class="o">}</span>
</code></pre></div>
<p>Tried it also with <code>root</code>, but no chance. My guess is that the respective dataverse hasnt been created yet - Container setup might lagging. If that is the cause, is there an API endpoint I can use to check?</p>
<p>It worked once though, but at that point the builtin user I have created does not have permission yet. How can I set this up? The given <code>API_TOKEN</code> should enable testers to fully operate without permission issues.</p>



<a name="391671806"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391671806" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391671806">(Sep 18 2023 at 10:49)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> should we talk?</p>



<a name="391671952"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391671952" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391671952">(Sep 18 2023 at 10:50)</a>:</h4>
<p>I was able to resolve the issue by adding a health check for the dataverse URL ".../api/dataverses/root", but now there is a new error message:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>ðŸš€<span class="w"> </span>Creating<span class="w"> </span>Test<span class="w"> </span>Dataverse
<span class="m">147</span>
<span class="o">{</span><span class="s2">"status"</span>:<span class="s2">"ERROR"</span>,<span class="s2">"message"</span>:<span class="s2">"Command edu.harvard.iq.dataverse.engine.command.impl.CreateDataverseCommand@5424d2a6 failed: Exception thrown from bean: jakarta.ejb.EJBTransactionRolledbackException: Exception thrown from bean: org.apache.solr.client.solrj.impl.BaseHttpSolrClient</span><span class="nv">$RemoteSolrException</span><span class="s2">: Error from server at http://solr:8983/solr/collection1: SolrCore 'collection1' is not available due to init failure: Could not load conf for core collection1: Can't load schema /var/solr/data/collection1/conf/schema.xml: Plugin init failure for [schema.xml] fieldType \"text_ws\": Plugin init failure for [schema.xml] analyzer/tokenizer \"whitespace\": [schema.xml] analyzer/tokenizer: missing mandatory attribute 'class'"</span><span class="o">}</span>
</code></pre></div>



<a name="391672162"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391672162" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391672162">(Sep 18 2023 at 10:51)</a>:</h4>
<p>We should tweak a few things probably...</p>



<a name="391672187"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391672187" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391672187">(Sep 18 2023 at 10:51)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> sounds great! I have a meeting now and will be available again around 14.00. Would that work for you?</p>



<a name="391672260"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391672260" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391672260">(Sep 18 2023 at 10:52)</a>:</h4>
<p>Sure, should work</p>



<a name="391672808"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391672808" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391672808">(Sep 18 2023 at 10:55)</a>:</h4>
<p>Alright, does WebEx work for you? Otherwise we can also use Zoom if you have a free room or sth</p>



<a name="391672843"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391672843" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391672843">(Sep 18 2023 at 10:55)</a>:</h4>
<p>I can provide a Zoom room</p>



<a name="391672866"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391672866" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391672866">(Sep 18 2023 at 10:55)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="391681940"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391681940" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391681940">(Sep 18 2023 at 11:53)</a>:</h4>
<p><a href="https://fz-juelich-de.zoom.us/j/69281413267?pwd=bDZGbFVGM1A3U0lkT3JjOE9WdkpNQT09">https://fz-juelich-de.zoom.us/j/69281413267?pwd=bDZGbFVGM1A3U0lkT3JjOE9WdkpNQT09</a></p>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> <span class="user-mention" data-user-id="598112">@Philip Durbin</span></p>



<a name="391682293"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391682293" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391682293">(Sep 18 2023 at 11:55)</a>:</h4>
<p>Joining in a minute :-)</p>



<a name="391682352"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391682352" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391682352">(Sep 18 2023 at 11:55)</a>:</h4>
<p>See ya on the other side</p>



<a name="391699328"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391699328" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391699328">(Sep 18 2023 at 13:25)</a>:</h4>
<p>So we worked on the action a little and created two issues: <a href="https://github.com/gdcc/dataverse-action/issues/2">https://github.com/gdcc/dataverse-action/issues/2</a> and <a href="https://github.com/gdcc/dataverse-action/issues/1">https://github.com/gdcc/dataverse-action/issues/1</a></p>



<a name="391699378"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391699378" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391699378">(Sep 18 2023 at 13:25)</a>:</h4>
<p>We want functionality from upstream! <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span></p>



<a name="391705005"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391705005" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391705005">(Sep 18 2023 at 13:51)</a>:</h4>
<p>2 messages were moved here from <a class="stream-topic" data-stream-id="377090" href="/#narrow/stream/377090-python/topic/downloading.20a.20file.20by.20dataset.20DOI.20and.20filename">#python &gt; downloading a file by dataset DOI and filename</a> by <span class="user-mention silent" data-user-id="598112">Philip Durbin</span>.</p>



<a name="391733055"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391733055" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391733055">(Sep 18 2023 at 16:08)</a>:</h4>
<p>Interesting issues. <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="391749845"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391749845" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391749845">(Sep 18 2023 at 17:53)</a>:</h4>
<p>Say more...? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="391750537"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391750537" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391750537">(Sep 18 2023 at 17:58)</a>:</h4>
<p>I'm just looking forward to hearing more about it. I just put it on the agenda for Thursday: <a href="https://ct.gdcc.io">https://ct.gdcc.io</a> <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="391757995"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391757995" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391757995">(Sep 18 2023 at 18:54)</a>:</h4>
<p>Here's an idea for shipping the postgres/solr version: how about we use <a href="https://github.com/opencontainers/image-spec/blob/main/annotations.md">labels/annotations</a>?</p>



<a name="391758223"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391758223" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391758223">(Sep 18 2023 at 18:56)</a>:</h4>
<p>No objection.</p>



<a name="391758242"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391758242" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391758242">(Sep 18 2023 at 18:56)</a>:</h4>
<p>We could use sth like "org.dataverse.deps.postgresql=13" and "org.dataverse.deps.solr=9.3.0"</p>



<a name="391758299"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391758299" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391758299">(Sep 18 2023 at 18:57)</a>:</h4>
<p>These can be added when building the image, Maven will provide those</p>



<a name="391758460"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391758460" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391758460">(Sep 18 2023 at 18:58)</a>:</h4>
<p>Sure, sounds fancy. <span aria-label="monocle" class="emoji emoji-1f9d0" role="img" title="monocle">:monocle:</span></p>



<a name="391758501"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391758501" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391758501">(Sep 18 2023 at 18:58)</a>:</h4>
<p>This information definitely is metadata about the application, so it should be treated as metadata</p>



<a name="391758518"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391758518" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391758518">(Sep 18 2023 at 18:59)</a>:</h4>
<p>That's what annotations are supposed to be used for</p>



<a name="391875244"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391875244" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391875244">(Sep 19 2023 at 09:55)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> since we've added the bootstrap to the action, will the API Token be present in the environment? I remember that this will be written to it if I am not mistaking. If so, we could add a small step moving it into the Action Env.</p>



<a name="391892094"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391892094" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391892094">(Sep 19 2023 at 11:32)</a>:</h4>
<p>I definitely wanted to make the API token available as an output of the action</p>



<a name="391892110"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391892110" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391892110">(Sep 19 2023 at 11:32)</a>:</h4>
<p>But I don't think it'll be around yet</p>



<a name="391892176"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391892176" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391892176">(Sep 19 2023 at 11:33)</a>:</h4>
<p>Need to look at the scripts again - that token is extracted at some place</p>



<a name="391892187"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391892187" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391892187">(Sep 19 2023 at 11:33)</a>:</h4>
<p>So we should be able to expose it</p>



<a name="391894157"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894157" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894157">(Sep 19 2023 at 11:45)</a>:</h4>
<p>Just checked the <a href="https://github.com/IQSS/dataverse/blob/4e1bc5bccda70f0c11fe5b6ad41e2b63360dc330/modules/container-configbaker/scripts/bootstrap/dev/init.sh#L18C1-L19C17">scripts</a> and it is actually exported. Hence, should be available at runtime.</p>
<p>We could write it to the GitHub env by using this line right after bootstrapping:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"API_TOKEN=</span><span class="nv">$API_TOKEN</span><span class="s2">"</span><span class="w"> </span>&gt;&gt;<span class="nv">$GITHUB_ENV</span>
</code></pre></div>
<p>That way it is accessible in successive steps within the action. Shall I add and test it?</p>



<a name="391894376"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894376" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894376">(Sep 19 2023 at 11:46)</a>:</h4>
<p>We could, but that is only within the action!</p>



<a name="391894486"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894486" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894486">(Sep 19 2023 at 11:46)</a>:</h4>
<p>Alright, so you were thinking of having this as a general output of the bootstrapping alongside other outputs? Makes sense</p>



<a name="391894539"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894539" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894539">(Sep 19 2023 at 11:47)</a>:</h4>
<p>Wait - actually what you are proposing... I doubt it'll work</p>



<a name="391894575"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894575" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894575">(Sep 19 2023 at 11:47)</a>:</h4>
<p>The token is exposed <em>within the script</em> running in a container</p>



<a name="391894661"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894661" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894661">(Sep 19 2023 at 11:47)</a>:</h4>
<p>That means the outer layer of our action will not know about it</p>



<a name="391894782"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894782" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894782">(Sep 19 2023 at 11:48)</a>:</h4>
<p>Oh okay, that makes sense. So there needs to be a way to extract it.</p>



<a name="391894919"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391894919" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391894919">(Sep 19 2023 at 11:49)</a>:</h4>
<p>Stackoverflow ftw :-D </p>
<p><a href="https://stackoverflow.com/questions/34051747/get-environment-variable-from-docker-container">https://stackoverflow.com/questions/34051747/get-environment-variable-from-docker-container</a></p>



<a name="391895110"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895110" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895110">(Sep 19 2023 at 11:50)</a>:</h4>
<p>No sir, that is not going to help us... The bootstrap container will not be running any longer after it's done</p>



<a name="391895219"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895219" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895219">(Sep 19 2023 at 11:51)</a>:</h4>
<p>Hm thats unfortunate :-D</p>



<a name="391895372"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895372" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895372">(Sep 19 2023 at 11:51)</a>:</h4>
<p>Do you need the dataverseAdmin API token? To run tests or whatever, can you just create a new user? If the admin API isn't blocked that user can even make themselves a superuser.</p>



<a name="391895383"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895383" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895383">(Sep 19 2023 at 11:51)</a>:</h4>
<p>So we could mount some dir to drop a file into</p>



<a name="391895479"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895479" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895479">(Sep 19 2023 at 11:52)</a>:</h4>
<p>Let me evaluate one other simple idea</p>



<a name="391895521"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895521" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895521">(Sep 19 2023 at 11:52)</a>:</h4>
<p>We could use another output channel</p>



<a name="391895610"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895610" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895610">(Sep 19 2023 at 11:52)</a>:</h4>
<p>We have fd 0, 1 and 2 by default. Let me see if I can make use of 3 to output something</p>



<a name="391895661"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895661" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895661">(Sep 19 2023 at 11:53)</a>:</h4>
<p>output redirection for the win</p>



<a name="391895937"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391895937" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391895937">(Sep 19 2023 at 11:55)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span> yes, we were thinking of the bootstrap process to provide the API Token right after finishing. Done it the way you described too, but havent tried to permit super admin rights. How can that be done?</p>



<a name="391896768"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391896768" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391896768">(Sep 19 2023 at 12:00)</a>:</h4>
<p>Hmm no we need to mount a file or directory</p>



<a name="391897042"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391897042" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391897042">(Sep 19 2023 at 12:01)</a>:</h4>
<p><a href="https://guides.dataverse.org/en/6.0/api/native-api.html#make-user-a-superuser">https://guides.dataverse.org/en/6.0/api/native-api.html#make-user-a-superuser</a></p>



<a name="391897192"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391897192" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391897192">(Sep 19 2023 at 12:02)</a>:</h4>
<p>OK this needs upstream support...</p>



<a name="391897212"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391897212" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391897212">(Sep 19 2023 at 12:02)</a>:</h4>
<p>I'm going to create a new issue in upstream</p>



<a name="391924280"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391924280" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391924280">(Sep 19 2023 at 14:26)</a>:</h4>
<p>So I added <a href="https://github.com/IQSS/dataverse/issues/9933">https://github.com/IQSS/dataverse/issues/9933</a> and created <a href="https://github.com/IQSS/dataverse/pull/9935">https://github.com/IQSS/dataverse/pull/9935</a></p>



<a name="391924336"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391924336" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391924336">(Sep 19 2023 at 14:26)</a>:</h4>
<p>Have a look :-)</p>



<a name="391924423"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391924423" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391924423">(Sep 19 2023 at 14:26)</a>:</h4>
<p>We probably need to get some stuff merged to continue with the action...</p>



<a name="391931554"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391931554" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391931554">(Sep 19 2023 at 14:58)</a>:</h4>
<p>"Modify compose file to mount an existing file into the bootstrap container"... should we go ahead and add this to the dev compose file? Maybe commented out?</p>



<a name="391936073"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391936073" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391936073">(Sep 19 2023 at 15:17)</a>:</h4>
<p>Hmm. This use case might be far stretched from what we do in the main repo. Currently, I can't think of a usage there... But I might be wrong.</p>



<a name="391937799"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391937799" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391937799">(Sep 19 2023 at 15:25)</a>:</h4>
<p>Ok. In the PR can you show a diff of what you mean?</p>



<a name="391948179"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391948179" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391948179">(Sep 19 2023 at 16:15)</a>:</h4>
<p>You mean an example in the description?</p>



<a name="391967876"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391967876" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391967876">(Sep 19 2023 at 18:05)</a>:</h4>
<p>Like this?</p>
<div class="codehilite"><pre><span></span><code>diff --git a/docker-compose-dev.yml b/docker-compose-dev.yml
index ab44dbc180..d6129cf738 100644
--- a/docker-compose-dev.yml
+++ b/docker-compose-dev.yml
@@ -41,6 +41,8 @@ services:
     command:
       - bootstrap.sh
       - dev
+      - -e
+      - /tmp/envfile.txt
     networks:
       - dataverse
</code></pre></div>



<a name="391968457"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391968457" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391968457">(Sep 19 2023 at 18:09)</a>:</h4>
<p>Close. Order is wrong. And it needs a volume mount for the file.</p>



<a name="391968572"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391968572" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391968572">(Sep 19 2023 at 18:10)</a>:</h4>
<p>This why I'm asking for a diff <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="391968589"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391968589" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391968589">(Sep 19 2023 at 18:10)</a>:</h4>
<p>Hrhr</p>



<a name="391968891"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391968891" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391968891">(Sep 19 2023 at 18:12)</a>:</h4>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="w"> </span> dev_bootstrap:
<span class="w"> </span>   container_name: "dev_bootstrap"
<span class="w"> </span>   image: gdcc/configbaker:unstable
<span class="w"> </span>   restart: "no"
<span class="w"> </span>   command:
<span class="w"> </span>     - bootstrap.sh
<span class="gi">+     - -e</span>
<span class="gi">+     - /tmp/envfile.txt</span>
<span class="w"> </span>     - dev
<span class="gi">+   volumes:</span>
<span class="gi">+     - ./envfile.txt:/tmp/envfile.txt</span>
<span class="w"> </span>   networks:
<span class="w"> </span>     - dataverse
</code></pre></div>



<a name="391969084"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391969084" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391969084">(Sep 19 2023 at 18:14)</a>:</h4>
<p>But it is important to create that file on the host first - otherwise you will end up with a folder called "envfile.txt"... <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="391971088"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391971088" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391971088">(Sep 19 2023 at 18:23)</a>:</h4>
<p>Uh oh:</p>
<div class="codehilite"><pre><span></span><code>$ file /tmp/envfile.txt
/tmp/envfile.txt: empty
</code></pre></div>



<a name="391971366"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391971366" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391971366">(Sep 19 2023 at 18:24)</a>:</h4>
<p>oh dev needs to be last</p>



<a name="391972087"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391972087" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391972087">(Sep 19 2023 at 18:29)</a>:</h4>
<p>closer, I think, but...</p>
<p><code>dev_bootstrap&gt; File /tmp/envfile.txt not found, is a directory or not writeable</code></p>



<a name="391972161"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391972161" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391972161">(Sep 19 2023 at 18:29)</a>:</h4>
<p>Did you mount the file?</p>



<a name="391972168"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391972168" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391972168">(Sep 19 2023 at 18:29)</a>:</h4>
<div class="codehilite"><pre><span></span><code>$ file /tmp/envfile.txt
/tmp/envfile.txt: empty
$ cd /tmp/envfile.txt
-bash: cd: /tmp/envfile.txt: Not a directory
$ ls -l /tmp/envfile.txt
-rw-r--r--  1 pdurbin  wheel  0 Sep 19 14:05 /tmp/envfile.txt
</code></pre></div>



<a name="391972234"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391972234" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391972234">(Sep 19 2023 at 18:29)</a>:</h4>
<div class="codehilite"><pre><span></span><code>diff --git a/docker-compose-dev.yml b/docker-compose-dev.yml
index ab44dbc180..82f320c1e9 100644
--- a/docker-compose-dev.yml
+++ b/docker-compose-dev.yml
@@ -40,7 +40,11 @@ services:
     restart: &quot;no&quot;
     command:
       - bootstrap.sh
+      - -e
+      - /tmp/envfile.txt
       - dev
+    volumes:
+      - ./envfile.txt:/tmp/envfile.txt
     networks:
       - dataverse
</code></pre></div>



<a name="391972395"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391972395" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391972395">(Sep 19 2023 at 18:30)</a>:</h4>
<p>I'm glad we're talking about this here and not in the PR. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> Chat is so nice.</p>



<a name="391973848"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391973848" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391973848">(Sep 19 2023 at 18:37)</a>:</h4>
<p>The container should be running as root, right? So it should have the required permissions...</p>



<a name="391974885"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391974885" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391974885">(Sep 19 2023 at 18:43)</a>:</h4>
<p><code>/Library/PrivilegedHelperTools/com.docker.vmnetd</code> is running as root but all other docker things from <code>ps aux</code> are running as my user, pdurbin.</p>



<a name="391974950"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391974950" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391974950">(Sep 19 2023 at 18:44)</a>:</h4>
<p>Interesting - when I mount the file to <code>/tmp</code>, it doesn't work on my machine either!</p>



<a name="391974992"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391974992" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391974992">(Sep 19 2023 at 18:44)</a>:</h4>
<p>It did work when I mounted to <code>/</code></p>



<a name="391975155"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391975155" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391975155">(Sep 19 2023 at 18:45)</a>:</h4>
<p><code>dev_bootstrap&gt; /scripts/bootstrap.sh: line 72: /tmp/envfile.txt: Permission denied</code></p>



<a name="391975736"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391975736" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391975736">(Sep 19 2023 at 18:48)</a>:</h4>
<p>When you say / do you really mean / of my whole file system? Or do you mean I should put my envfile.txt in the root of my git clone of dataverse?</p>



<a name="391975924"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391975924" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391975924">(Sep 19 2023 at 18:50)</a>:</h4>
<p>No, I mean / of the container</p>



<a name="391975981"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391975981" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391975981">(Sep 19 2023 at 18:50)</a>:</h4>
<p>please show me a diff</p>



<a name="391976620"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391976620" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391976620">(Sep 19 2023 at 18:54)</a>:</h4>
<p>I suppose the /tmp folder has the sticky bit set.</p>



<a name="391977017"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977017" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977017">(Sep 19 2023 at 18:56)</a>:</h4>
<p>Haha yes that is a security feature</p>



<a name="391977116"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977116" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977116">(Sep 19 2023 at 18:57)</a>:</h4>
<p><a href="https://stackoverflow.com/a/70894162">https://stackoverflow.com/a/70894162</a></p>



<a name="391977417"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977417" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977417">(Sep 19 2023 at 18:58)</a>:</h4>
<p>So better not mount to /tmp <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="391977515"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977515" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977515">(Sep 19 2023 at 18:59)</a>:</h4>
<p>I'm happy to try whatever, a diff would help</p>



<a name="391977524"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977524" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977524">(Sep 19 2023 at 18:59)</a>:</h4>
<p>It certainly explains why the checks did not fail but the permission still was denied</p>



<a name="391977539"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977539" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977539">(Sep 19 2023 at 18:59)</a>:</h4>
<p>Just remove /tmp</p>



<a name="391977601"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977601" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977601">(Sep 19 2023 at 18:59)</a>:</h4>
<p>All of the above but s#/tmp##</p>



<a name="391977776"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391977776" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391977776">(Sep 19 2023 at 19:00)</a>:</h4>
<p>like this?</p>
<div class="codehilite"><pre><span></span><code>diff --git a/docker-compose-dev.yml b/docker-compose-dev.yml
index ab44dbc180..1d155561ca 100644
--- a/docker-compose-dev.yml
+++ b/docker-compose-dev.yml
@@ -40,7 +40,11 @@ services:
     restart: &quot;no&quot;
     command:
       - bootstrap.sh
+      - -e
+      - envfile.txt
       - dev
+    volumes:
+      - ./envfile.txt:envfile.txt
     networks:
       - dataverse
</code></pre></div>



<a name="391978029"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391978029" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391978029">(Sep 19 2023 at 19:02)</a>:</h4>
<p>trying it</p>



<a name="391978208"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391978208" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391978208">(Sep 19 2023 at 19:04)</a>:</h4>
<p><code>[ERROR] DOCKER&gt; I/O Error [Unable to create container for [gdcc/configbaker:unstable] : {"message":"invalid volume specification: '/Users/pdurbin/github/iqss/dataverse/envfile.txt:envfile.txt': invalid mount config for type \"bind\": invalid mount path: 'envfile.txt' mount path must be absolute"} (Internal Server Error: 500)]</code></p>



<a name="391978461"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391978461" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391978461">(Sep 19 2023 at 19:05)</a>:</h4>
<p>haven't given up yet</p>



<a name="391978997"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391978997" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391978997">(Sep 19 2023 at 19:09)</a>:</h4>
<p>Dude you deleted both / now</p>



<a name="391979143"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979143" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979143">(Sep 19 2023 at 19:10)</a>:</h4>
<p>Plz go for <code>/envfile.txt</code></p>



<a name="391979175"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979175" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979175">(Sep 19 2023 at 19:10)</a>:</h4>
<p>got it!</p>
<div class="codehilite"><pre><span></span><code>diff --git a/docker-compose-dev.yml b/docker-compose-dev.yml
index ab44dbc180..4a0d40917e 100644
--- a/docker-compose-dev.yml
+++ b/docker-compose-dev.yml
@@ -40,7 +40,11 @@ services:
     restart: &quot;no&quot;
     command:
       - bootstrap.sh
+      - -e
+      - envfile.txt
       - dev
+    volumes:
+      - ./envfile.txt:/envfile.txt
     networks:
       - dataverse
</code></pre></div>



<a name="391979256"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979256" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979256">(Sep 19 2023 at 19:11)</a>:</h4>
<div class="codehilite"><pre><span></span><code>$ cat envfile.txt
API_TOKEN=97cad752-983a-446f-866e-b032998ee33d
</code></pre></div>



<a name="391979279"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979279" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979279">(Sep 19 2023 at 19:11)</a>:</h4>
<p>Splendid!</p>



<a name="391979313"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979313" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979313">(Sep 19 2023 at 19:12)</a>:</h4>
<p>That's what you wanted me to do?</p>



<a name="391979370"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979370" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979370">(Sep 19 2023 at 19:12)</a>:</h4>
<p>Yes Sir! <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="391979394"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979394" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979394">(Sep 19 2023 at 19:12)</a>:</h4>
<p>phew</p>



<a name="391979654"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979654" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979654">(Sep 19 2023 at 19:14)</a>:</h4>
<p>So what do we do now...?</p>



<a name="391979685"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979685" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979685">(Sep 19 2023 at 19:14)</a>:</h4>
<p>We're stuck a little with trivial changes to configbaker</p>



<a name="391979726"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979726" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979726">(Sep 19 2023 at 19:14)</a>:</h4>
<p>I just approved <a href="https://github.com/IQSS/dataverse/issues/9935">#9935</a>.</p>



<a name="391979888"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979888" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979888">(Sep 19 2023 at 19:15)</a>:</h4>
<p>Now we just wait for that PR to get merged, right?</p>



<a name="391979954"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391979954" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391979954">(Sep 19 2023 at 19:15)</a>:</h4>
<p>Yeah. Or PRs.</p>



<a name="391980062"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391980062" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391980062">(Sep 19 2023 at 19:16)</a>:</h4>
<p>keep 'em coming!</p>



<a name="391980163"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391980163" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391980163">(Sep 19 2023 at 19:16)</a>:</h4>
<p>I could hack on the action some more but I'm stuck because I don't have the upstream changes merged</p>



<a name="391980538"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391980538" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391980538">(Sep 19 2023 at 19:19)</a>:</h4>
<p>Don't worry, there are only 14 PRs in QA or ready for QA! <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="391980668"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391980668" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391980668">(Sep 19 2023 at 19:20)</a>:</h4>
<p>I'm not sure if our containers-only PRs actually are helpful consuming space in QA</p>



<a name="391980962"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391980962" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391980962">(Sep 19 2023 at 19:22)</a>:</h4>
<p>Sounds like its own topic. <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span></p>



<a name="391982189"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391982189" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391982189">(Sep 19 2023 at 19:30)</a>:</h4>
<p>True, true</p>



<a name="391982276"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391982276" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391982276">(Sep 19 2023 at 19:31)</a>:</h4>
<p>This topic is kinda strange already. We're talking containers in the Python stream... <span aria-label="see no evil" class="emoji emoji-1f648" role="img" title="see no evil">:see_no_evil:</span></p>



<a name="391982334"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391982334" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391982334">(Sep 19 2023 at 19:31)</a>:</h4>
<p>/me looks</p>
<p>d'oh!</p>



<a name="391982432"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391982432" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391982432">(Sep 19 2023 at 19:32)</a>:</h4>
<p>It's a cross section topic</p>



<a name="391982557"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/391982557" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#391982557">(Sep 19 2023 at 19:33)</a>:</h4>
<p><img alt=":doh:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/48103.png" title="doh"></p>



<a name="392053771"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392053771" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392053771">(Sep 20 2023 at 06:48)</a>:</h4>
<p>As this is a cross section topic, let's move this to <a class="stream" data-stream-id="379673" href="/#narrow/stream/379673-dev">#dev</a> instead of the Python channel...</p>



<a name="392053783"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392053783" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392053783">(Sep 20 2023 at 06:48)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="377090" href="/#narrow/stream/377090-python/topic/Dataverse.20GitHub.20Action">#python &gt; Dataverse GitHub Action</a> by <span class="user-mention silent" data-user-id="598183">Oliver Bertuch</span>.</p>



<a name="392053856"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392053856" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392053856">(Sep 20 2023 at 06:49)</a>:</h4>
<p>Should we brainstorm about a list of inputs and outputs?</p>



<a name="392053910"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392053910" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392053910">(Sep 20 2023 at 06:50)</a>:</h4>
<p>We should probably have an input for the tag and the image names</p>



<a name="392054035"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054035" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054035">(Sep 20 2023 at 06:50)</a>:</h4>
<p>Should we have inputs for a Dataverse ref (tag/commit) and build images from there?</p>



<a name="392054085"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054085" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054085">(Sep 20 2023 at 06:51)</a>:</h4>
<p>Port would also be good</p>



<a name="392054096"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054096" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054096">(Sep 20 2023 at 06:51)</a>:</h4>
<p>That way people could use it with forks as well or simply make sure a specific DV version is used</p>



<a name="392054200"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054200" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054200">(Sep 20 2023 at 06:52)</a>:</h4>
<p>Port for DV only or also for Solr/Postgres?</p>



<a name="392054240"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054240" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054240">(Sep 20 2023 at 06:52)</a>:</h4>
<p>Oh and is that input only or outputs, too?</p>



<a name="392054321"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054321" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054321">(Sep 20 2023 at 06:53)</a>:</h4>
<p>I'd say yes. Guess its a rare occasion but in case the default ports are occupied already, users can change it.</p>



<a name="392054402"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054402" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054402">(Sep 20 2023 at 06:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598183">Oliver Bertuch</span> <a href="#narrow/stream/379673-dev/topic/Dataverse.20GitHub.20Action/near/392054240">schrieb</a>:</p>
<blockquote>
<p>Oh and is that input only or outputs, too?</p>
</blockquote>
<p>Do you mean outputting the ports?</p>



<a name="392054477"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054477" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054477">(Sep 20 2023 at 06:54)</a>:</h4>
<p>Yes. Or maybe even provide a URL where DV can be reached once you set it up with the action</p>



<a name="392054503"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054503" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054503">(Sep 20 2023 at 06:55)</a>:</h4>
<p>I mean that is probably sth people want - interact with Dataverse</p>



<a name="392054846"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054846" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054846">(Sep 20 2023 at 06:58)</a>:</h4>
<p>Great idea!</p>



<a name="392054908"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392054908" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392054908">(Sep 20 2023 at 06:59)</a>:</h4>
<p>Input for bootstrap timeout</p>



<a name="392055006"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392055006" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392055006">(Sep 20 2023 at 06:59)</a>:</h4>
<p>Input for bootstrap persona</p>



<a name="392055266"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392055266" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392055266">(Sep 20 2023 at 07:01)</a>:</h4>
<p>You've mentioned memory usage too. Would that be one to consider adding?</p>



<a name="392056292"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392056292" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392056292">(Sep 20 2023 at 07:10)</a>:</h4>
<p>Absolutely! Some actions might require more than 2GB RAM</p>



<a name="392201068"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392201068" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392201068">(Sep 20 2023 at 20:18)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span>  <a href="https://github.com/gdcc/dataverse-action/issues/3">https://github.com/gdcc/dataverse-action/issues/3</a></p>



<a name="392201339"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392201339" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392201339">(Sep 20 2023 at 20:20)</a>:</h4>
<p><a href="https://github.com/IQSS/dataverse/issues/9935">#9935</a> has been merged! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="392212431"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392212431" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392212431">(Sep 20 2023 at 21:52)</a>:</h4>
<p>Progress...<br>
Under <a href="https://github.com/gdcc/dataverse-action/actions/runs/6254427827/job/16981926546">https://github.com/gdcc/dataverse-action/actions/runs/6254427827/job/16981926546</a> you can see that we already are able to gather some insights and inputs.<br>
Cleaned up <a href="https://github.com/gdcc/dataverse-action/blob/main/action.yml">https://github.com/gdcc/dataverse-action/blob/main/action.yml</a> and the compose file already!</p>



<a name="392212478"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392212478" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392212478">(Sep 20 2023 at 21:53)</a>:</h4>
<p>Also making use of the metadata for postgres/solr version, but keep it overrideable from the action config</p>



<a name="392221332"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392221332" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392221332">(Sep 20 2023 at 23:29)</a>:</h4>
<p>go go go! <img alt=":dataverse_man:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/53090/emoji/images/44207.png" title="dataverse man"></p>



<a name="392270425"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392270425" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392270425">(Sep 21 2023 at 08:14)</a>:</h4>
<p>Added option to supply your own JVM options (can also be set/updated after the containers started!)</p>



<a name="392273865"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392273865" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392273865">(Sep 21 2023 at 08:33)</a>:</h4>
<p>And added the exposing mechanism added with <a href="https://github.com/IQSS/dataverse/issues/9935">https://github.com/IQSS/dataverse/issues/9935</a>...</p>



<a name="392273949"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/392273949" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#392273949">(Sep 21 2023 at 08:34)</a>:</h4>
<p>Probably time to start creating some outputs...</p>



<a name="402708244"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/402708244" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#402708244">(Nov 17 2023 at 14:17)</a>:</h4>
<p>If people want to talk about the action, perhaps because they have a question or want to improve it, where should they go? Can we say something about this in the README? I just opened <a href="https://github.com/gdcc/dataverse-action/issues/6">https://github.com/gdcc/dataverse-action/issues/6</a> about this.</p>



<a name="406387576"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/406387576" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#406387576">(Dec 06 2023 at 21:00)</a>:</h4>
<p>Last week we spent a few minutes talking about the action and clean up the issues a bit at <a href="https://github.com/gdcc/dataverse-action/issues">https://github.com/gdcc/dataverse-action/issues</a></p>



<a name="406387663"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/406387663" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#406387663">(Dec 06 2023 at 21:00)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> is there any issue or other task we can help with?</p>



<a name="406387722"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/406387722" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#406387722">(Dec 06 2023 at 21:01)</a>:</h4>
<p>Should we talk about it during tomorrow's meeting?</p>



<a name="406388758"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/406388758" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#406388758">(Dec 06 2023 at 21:05)</a>:</h4>
<p>I'm happy to join tomorrow's meeting <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span> One thing that <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> already addressed <a href="https://github.com/gdcc/pyDataverse/pull/167">here</a> is to specify a version of Dataverse. Perhaps we can utilize this to some extent to enhance the testing process of pyDataverse.</p>



<a name="406390259"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/406390259" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#406390259">(Dec 06 2023 at 21:14)</a>:</h4>
<p>Yes! Great stuff happening. Ok! I added it to <a href="https://docs.google.com/document/d/1Kk6oKaC2QErEVmuMYc6gTK6Qm7_n_9huiYMjlDRnAYs/edit?usp=sharing">the agenda</a>. Thanks!</p>



<a name="411695671"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411695671" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411695671">(Jan 08 2024 at 09:05)</a>:</h4>
<p>I am currently setting up tests for python-dvuploader and I am using a local installation via <code>docker-compose</code> of the current <code>develop</code> branch. This stack containes S3-compatible services <code>minio</code> and `localstack. It would be very convenient to also have these included in the GitHub Action for CI/CD tests.</p>
<p>If we decide to include both <code>minio</code> and <code>localstack</code>, should they be included by default or made optional? If we choose to make them optional, how can we include them in the Action?</p>



<a name="411700552"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411700552" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411700552">(Jan 08 2024 at 09:35)</a>:</h4>
<p>A challenge might be to set/change a collection's storage. Does the endpoint <code>$SERVER_URL/api/dataverses/$PARENT</code> allow to specify a storage location, given the client is a superuser?</p>



<a name="411702312"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411702312" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411702312">(Jan 08 2024 at 09:46)</a>:</h4>
<p>Would it make sense to have a flavor kind of thing going?</p>



<a name="411702359"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411702359" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411702359">(Jan 08 2024 at 09:46)</a>:</h4>
<p>We can include a base compose file with the essential services for Dataverse core</p>



<a name="411702438"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411702438" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411702438">(Jan 08 2024 at 09:47)</a>:</h4>
<p>And add more compose files as flavors with extension that would reference the base file</p>



<a name="411702487"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411702487" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411702487">(Jan 08 2024 at 09:47)</a>:</h4>
<p>A user could choose among the flavors, depending on their use case</p>



<a name="411703005"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703005" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703005">(Jan 08 2024 at 09:50)</a>:</h4>
<p>Sounds great! I think that's also nice for others who want to deploy DV to re-use these compose files <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span></p>



<a name="411703243"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703243" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703243">(Jan 08 2024 at 09:51)</a>:</h4>
<p><a href="https://docs.docker.com/compose/compose-file/14-include/">https://docs.docker.com/compose/compose-file/14-include/</a></p>



<a name="411703313"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703313" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703313">(Jan 08 2024 at 09:52)</a>:</h4>
<p>Note: I'm not sure since which Compose version this is included...</p>



<a name="411703475"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703475" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703475">(Jan 08 2024 at 09:52)</a>:</h4>
<p>The docs for this have been created ~7 months ago, so it is probably only included in very recent versions of Docker</p>



<a name="411703564"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703564" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703564">(Jan 08 2024 at 09:53)</a>:</h4>
<p>(See <a href="https://github.com/compose-spec/compose-spec/commit/27008f85ac127e4d91e89bcad8bf7686ffde241f">https://github.com/compose-spec/compose-spec/commit/27008f85ac127e4d91e89bcad8bf7686ffde241f</a>)</p>



<a name="411703729"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703729" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703729">(Jan 08 2024 at 09:54)</a>:</h4>
<p>Fancy!</p>



<a name="411703832"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703832" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703832">(Jan 08 2024 at 09:54)</a>:</h4>
<p>But at least for the Action, we shall be safe if the Docker version included in the runners is recent enough</p>



<a name="411703856"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703856" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703856">(Jan 08 2024 at 09:55)</a>:</h4>
<p>It is at least a controlled environment</p>



<a name="411703923"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411703923" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411703923">(Jan 08 2024 at 09:55)</a>:</h4>
<p>Off topic: Is there a reason not to use 3  We are using 2.4 atm</p>



<a name="411704002"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704002" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704002">(Jan 08 2024 at 09:55)</a>:</h4>
<p>Yes. Docker Maven Plugin compatibility</p>



<a name="411704020"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704020" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704020">(Jan 08 2024 at 09:55)</a>:</h4>
<p>Ah alright, that makes sense</p>



<a name="411704103"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704103" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704103">(Jan 08 2024 at 09:56)</a>:</h4>
<p>We probably should leave a note in the file about that...</p>



<a name="411704187"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704187" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704187">(Jan 08 2024 at 09:56)</a>:</h4>
<p>(In upstream - downstream we can do whatever we want)</p>



<a name="411704301"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704301" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704301">(Jan 08 2024 at 09:57)</a>:</h4>
<p>When this is sorted, how can we create a collection that uses the other storage?</p>



<a name="411704369"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704369" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704369">(Jan 08 2024 at 09:57)</a>:</h4>
<p>The easiest way for that would probably be a different bootstrapping flavor</p>



<a name="411704483"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704483" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704483">(Jan 08 2024 at 09:58)</a>:</h4>
<p>That will simply require us to provide such a script as a mounted file into the bootstrapping container</p>



<a name="411704506"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704506" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704506">(Jan 08 2024 at 09:58)</a>:</h4>
<p>Ok, thats nice!</p>



<a name="411704677"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411704677" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411704677">(Jan 08 2024 at 09:59)</a>:</h4>
<p>Yeah the idea behind configbaker was always to keep things modular</p>



<a name="411705638"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411705638" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411705638">(Jan 08 2024 at 10:04)</a>:</h4>
<div class="message_inline_image"><a href="/user_uploads/53090/jB1o7jeFK8Wj3zh7yBSoisQi/image.png"><img src="/user_uploads/53090/jB1o7jeFK8Wj3zh7yBSoisQi/image.png"></a></div>



<a name="411705792"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411705792" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411705792">(Jan 08 2024 at 10:05)</a>:</h4>
<p>I will create a PR this week to test the flavoring <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span></p>



<a name="411758465"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/411758465" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#411758465">(Jan 08 2024 at 15:16)</a>:</h4>
<p>Delicious! <span aria-label="yum" class="emoji emoji-1f60b" role="img" title="yum">:yum:</span></p>



<a name="418302271"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418302271" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418302271">(Jan 26 2024 at 15:50)</a>:</h4>
<p>I'm including the GitHub Action in a list of ways to run Dataverse in containers (<a href="https://github.com/IQSS/dataverse/issues/10273">#10273</a>). What use cases am I forgetting?</p>
<p>Use cases for the GitHub Action include:</p>
<ul>
<li>
<p>Testing Client Libraries that interact with Dataverse APIs</p>
</li>
<li>
<p>Testing Integrations of third party software with Dataverse</p>
</li>
</ul>



<a name="418337785"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418337785" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418337785">(Jan 26 2024 at 19:21)</a>:</h4>
<p>Would metadata blocks count as third party software?</p>



<a name="418337844"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418337844" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418337844">(Jan 26 2024 at 19:21)</a>:</h4>
<p>What about testing Dataverse itself for compliance with some standard?</p>



<a name="418337970"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418337970" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Bertuch <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418337970">(Jan 26 2024 at 19:22)</a>:</h4>
<p>Is an SPI extension just an integration with third party software?</p>



<a name="418338194"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418338194" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418338194">(Jan 26 2024 at 19:24)</a>:</h4>
<p>Well, I already have a page for metadata blocks: <a href="https://dataverse-guide--10273.org.readthedocs.build/en/10273/container/running/metadata-blocks.html">https://dataverse-guide--10273.org.readthedocs.build/en/10273/container/running/metadata-blocks.html</a> ... but let's discuss that over at <a class="stream-topic" data-stream-id="375812" href="/#narrow/stream/375812-containers/topic/tutorial.20for.20demo.20or.20eval.20.2310238">#containers &gt; tutorial for demo or eval #10238</a></p>



<a name="418338284"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418338284" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418338284">(Jan 26 2024 at 19:24)</a>:</h4>
<p>Hmm, like if Dataverse complies with OAI-PMH?</p>



<a name="418339250"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418339250" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418339250">(Jan 26 2024 at 19:31)</a>:</h4>
<p>For SPI stuff, yeah I could maybe see "Testing custom exports" as a potential use of the action.</p>
<p><a href="https://github.com/gdcc/dataverse-exporters">https://github.com/gdcc/dataverse-exporters</a> contains a "MyJSON" exporter as an example. Maybe we could write a CI workflow that builds the jar file, drops it into the right place, spins up Dataverse, and makes an assertion (look for "myjson" or whatever).</p>



<a name="418339436"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/Dataverse%20GitHub%20Action/near/418339436" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/Dataverse.20GitHub.20Action.html#418339436">(Jan 26 2024 at 19:32)</a>:</h4>
<p>Anyway, we could discuss any of this over in the other thread. I just wanted to let folks working on the action know that I'm writing about it.</p>



<hr><p>Last updated: Nov 01 2025 at 23:12 UTC</p>
</html>