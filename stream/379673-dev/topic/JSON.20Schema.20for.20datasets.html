<html>
<head><meta charset="utf-8"><title>JSON Schema for datasets Â· dev Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/index.html">dev</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html">JSON Schema for datasets</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="404846564"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404846564" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404846564">(Nov 29 2023 at 11:46)</a>:</h4>
<p>I've been reviewing this pull request: JSON Schema creator and validator <a href="https://github.com/IQSS/dataverse/issues/10109">#10109</a></p>
<p>I didn't write the code but I'm happy to discuss and answer any questions.</p>



<a name="404846761"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404846761" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404846761">(Nov 29 2023 at 11:47)</a>:</h4>
<p>Preliminary docs are here: <a href="https://dataverse-guide--10109.org.readthedocs.build/en/10109/api/native-api.html#retrieve-a-dataset-json-schema-for-a-collection">https://dataverse-guide--10109.org.readthedocs.build/en/10109/api/native-api.html#retrieve-a-dataset-json-schema-for-a-collection</a></p>



<a name="404846834"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404846834" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404846834">(Nov 29 2023 at 11:47)</a>:</h4>
<p>In short, you can ask a specific collection for a JSON Schema for creating a dataset within it.</p>



<a name="404846875"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404846875" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404846875">(Nov 29 2023 at 11:48)</a>:</h4>
<p>The idea is that some collections require additional fields.</p>



<a name="404846940"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404846940" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404846940">(Nov 29 2023 at 11:48)</a>:</h4>
<p>And those fields are reflected in the JSON Schema.</p>



<a name="404873041"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404873041" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Pablo Tosca Villanueva <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404873041">(Nov 29 2023 at 14:05)</a>:</h4>
<p>I accidentally marked this as resolved, and now it is back to its original state <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span>. I am doing QA and trying to understand the Issue/PR I am sure I will ask around here for more information.</p>



<a name="404873514"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404873514" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404873514">(Nov 29 2023 at 14:07)</a>:</h4>
<p>Sure! I started this thread initially because <span class="user-mention" data-user-id="599841">@Jan Range</span> and I were talking about the JSON Schema stuff in the new pyDataverse revamp doc at <a class="stream-topic" data-stream-id="377090" href="/#narrow/stream/377090-python/topic/PyDataverse.20Re-Vamp">#python &gt; PyDataverse Re-Vamp</a> but everyone is absolutely welcome!</p>



<a name="404907646"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404907646" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404907646">(Nov 29 2023 at 16:43)</a>:</h4>
<p>That's awesome and solving a couple of issues for pyDataverse/EasyDataverse! Is there a way to test this functionality already?</p>



<a name="404907934"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404907934" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404907934">(Nov 29 2023 at 16:44)</a>:</h4>
<p><code>ghcr.io/gdcc/dataverse:9464-schema-creator-validator</code> I guess. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="404908074"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404908074" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404908074">(Nov 29 2023 at 16:45)</a>:</h4>
<p>You want the code running on your laptop or a server?</p>



<a name="404911290"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404911290" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404911290">(Nov 29 2023 at 17:00)</a>:</h4>
<p>Either way works fine for me <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span></p>



<a name="404928502"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/404928502" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#404928502">(Nov 29 2023 at 18:37)</a>:</h4>
<p>Do you have Java and Maven installed? If so, switch to the <a href="https://github.com/IQSS/dataverse/tree/9464-schema-creator-validator">9464-schema-creator-validator</a> branch and run the quickstart: <a href="https://guides.dataverse.org/en/6.0/developers/dev-environment.html#quickstart">https://guides.dataverse.org/en/6.0/developers/dev-environment.html#quickstart</a></p>



<a name="405072347"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405072347" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405072347">(Nov 30 2023 at 09:14)</a>:</h4>
<p>Smooth! Installation and endpoint working flawlessly <span aria-label="raised hands" class="emoji emoji-1f64c" role="img" title="raised hands">:raised_hands:</span></p>
<p><a href="/user_uploads/53090/vwi-NfzWIguZljR5z8FBVd0h/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/53090/vwi-NfzWIguZljR5z8FBVd0h/image.png" title="image.png"><img src="/user_uploads/53090/vwi-NfzWIguZljR5z8FBVd0h/image.png"></a></div>



<a name="405107834"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405107834" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405107834">(Nov 30 2023 at 12:34)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> fantastic! Is the JSON Schema more or less what you expect? Can you work with it?</p>



<a name="405110563"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405110563" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405110563">(Nov 30 2023 at 12:50)</a>:</h4>
<p>It looks great so far! I will experiment with it and see how to plug it into EasyDataverse.</p>



<a name="405110618"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405110618" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405110618">(Nov 30 2023 at 12:50)</a>:</h4>
<p>One missing thing I found is that controlled vocabularies are not included. Afaik the <code>subject</code> field is a controlled vocab, and maybe this could be added as an <code>enum</code>?</p>



<a name="405110868"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405110868" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405110868">(Nov 30 2023 at 12:52)</a>:</h4>
<p>Happy to comment this to the PR if I am not missing something.</p>



<a name="405112449"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405112449" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405112449">(Nov 30 2023 at 13:00)</a>:</h4>
<p>Yes, please comment on the PR. Thanks!</p>



<a name="405146670"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405146670" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Pablo Tosca Villanueva <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405146670">(Nov 30 2023 at 15:53)</a>:</h4>
<p>Thanks for that <span class="user-mention" data-user-id="599841">@Jan Range</span> I will bring it up during standup today. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="405190210"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405190210" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405190210">(Nov 30 2023 at 19:53)</a>:</h4>
<p>Hey, this PR also addresses, this old issue: Query Dataverse for mandatory metadata fields via API <a href="https://github.com/IQSS/dataverse/issues/6978">#6978</a></p>



<a name="405317101"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405317101" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405317101">(Dec 01 2023 at 09:04)</a>:</h4>
<p>Is it possible to also add information about datatypes (int,float) to the schema?</p>



<a name="405337410"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405337410" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405337410">(Dec 01 2023 at 10:58)</a>:</h4>
<p>If I am correct, the new schemes are meant for the payload input to endpoints that add/update <br>
metadata (see Example 1). These do not contain the type information that is shipped with the basic metadatablock schemes. </p>
<p>Also afaik, the endpoints expect (an array of) strings for the <code>value</code> property, given it is a primitive. This is also part of the schema for a <code>field</code> (see example 2) and thus I expect the types cannot be added in the typical way.  Hence, the payload has no type enforcing per-se and types are handled at Dataverse's side. Please correct me if I am wrong <span class="user-mention" data-user-id="598112">@Philip Durbin</span> </p>
<p><em>Example 1</em></p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"datasetVersion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"metadataBlocks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"astrophysics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"typeClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"controlledVocabulary"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"astroType"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="s2">"Mosaic"</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"multiple"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"typeClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primitive"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"astroFacility"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="s2">"AIK-2"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"AIK-3"</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">          </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">        </span><span class="p">]</span>
</code></pre></div>
</div></div>
<p><em>Example 2</em></p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">"typeClass"</span><span class="p">,</span>
<span class="w">                </span><span class="s2">"multiple"</span><span class="p">,</span>
<span class="w">                </span><span class="s2">"typeName"</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"anyOf"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/$defs/field"</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"typeClass"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"multiple"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
</code></pre></div>
</div></div>



<a name="405338789"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405338789" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405338789">(Dec 01 2023 at 11:06)</a>:</h4>
<p>Now that both schemes (<a href="https://demo.dataverse.org/api/metadatablocks/citation">basic</a> and collection-sepecifc) are at hand, one could condense this into an intermediate schema that complies with the collection requirements and types expected by the metadata block. That's essentially what EasyDataverse is doing. </p>
<p>Here is an <a href="https://github.com/JR-1991/pyDaRUS/blob/main/pyDaRUS/metadatablocks/schemas/citation.json">example of a JSON schema for Citation</a> generated by EasyDataverse. <span class="user-mention" data-user-id="617722">@Johannes D</span>  would this be useful for you?</p>



<a name="405351897"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405351897" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405351897">(Dec 01 2023 at 12:22)</a>:</h4>
<p><span class="user-mention" data-user-id="617722">@Johannes D</span> thanks for leaving a comment on the PR. That's perfect. I just replied there.</p>



<a name="405352068"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405352068" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405352068">(Dec 01 2023 at 12:23)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> I think I'm confused by how you're saying old and new. To me there's only one schema but I'm sure I'm simply misunderstanding what you're saying. <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>



<a name="405352880"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405352880" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405352880">(Dec 01 2023 at 12:29)</a>:</h4>
<p>Sorry I should have rephrased that - End of the week and my brain goes <span aria-label="dizzy" class="emoji emoji-1f635" role="img" title="dizzy">:dizzy:</span> </p>
<p>By "old" I mean the basic block schema (such as <a href="https://demo.dataverse.org/api/metadatablocks/citation">this</a>), and with "new" the novel collection JSON schema.</p>



<a name="405354259"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405354259" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405354259">(Dec 01 2023 at 12:38)</a>:</h4>
<p>Oh, that makes much more sense. Thanks.</p>



<a name="405354814"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405354814" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405354814">(Dec 01 2023 at 12:42)</a>:</h4>
<p>Kind of, the <code>old</code> format allows to specify a <code>fieldType</code> and I'd like to have that integrated into the new schema.  One use case would be the SPA that uses something like  this (<a href="https://rjsf-team.github.io/react-jsonschema-form/">https://rjsf-team.github.io/react-jsonschema-form/</a>) to auto generate a form based on the schema.  Here the field type is needed to create nice forms for numbers or dates...</p>



<a name="405362600"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405362600" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405362600">(Dec 01 2023 at 13:23)</a>:</h4>
<p>Thanks for the explanation <span class="user-mention" data-user-id="617722">@Johannes D</span> <span aria-label="blush" class="emoji emoji-1f60a" role="img" title="blush">:blush:</span> I am unsure if it is possible to include <code>fieldType</code> in the novel JSON schema. The schema validates whether a <code>typeName</code> is given in a payload to check compliance with the collection and utilizes a generic <code>field</code> schema.</p>
<p>To validate, I have checked the JSON schema for a collection that uses the <code>astrophysics</code> config and requires a <code>float</code> field. Unfortunately, the schema does not include any type checks. Only upon sending you will receive a validation error.</p>
<p><em>Collection schema</em></p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">"$schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://json-schema.org/draft-04/schema#"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"$defs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">"typeClass"</span><span class="p">,</span>
<span class="w">                </span><span class="s2">"multiple"</span><span class="p">,</span>
<span class="w">                </span><span class="s2">"typeName"</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"anyOf"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/$defs/field"</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"typeClass"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"multiple"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"datasetVersion"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">"license"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nt">"uri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uri"</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">"name"</span><span class="p">,</span>
<span class="w">                        </span><span class="s2">"uri"</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">"metadataBlocks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">"citation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span>
<span class="w">                                    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                        </span><span class="nt">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/$defs/field"</span>
<span class="w">                                    </span><span class="p">},</span>
<span class="w">                                    </span><span class="nt">"minItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">                                    </span><span class="nt">"allOf"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                        </span><span class="p">{</span>
<span class="w">                                            </span><span class="nt">"contains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                    </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                        </span><span class="nt">"const"</span><span class="p">:</span><span class="w"> </span><span class="s2">"title"</span>
<span class="w">                                                    </span><span class="p">}</span>
<span class="w">                                                </span><span class="p">}</span>
<span class="w">                                            </span><span class="p">}</span>
<span class="w">                                        </span><span class="p">},</span>
<span class="w">                                        </span><span class="p">{</span>
<span class="w">                                            </span><span class="nt">"contains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                    </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                        </span><span class="nt">"const"</span><span class="p">:</span><span class="w"> </span><span class="s2">"author"</span>
<span class="w">                                                    </span><span class="p">}</span>
<span class="w">                                                </span><span class="p">}</span>
<span class="w">                                            </span><span class="p">}</span>
<span class="w">                                        </span><span class="p">},</span>
<span class="w">                                        </span><span class="p">{</span>
<span class="w">                                            </span><span class="nt">"contains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                    </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                        </span><span class="nt">"const"</span><span class="p">:</span><span class="w"> </span><span class="s2">"datasetContact"</span>
<span class="w">                                                    </span><span class="p">}</span>
<span class="w">                                                </span><span class="p">}</span>
<span class="w">                                            </span><span class="p">}</span>
<span class="w">                                        </span><span class="p">},</span>
<span class="w">                                        </span><span class="p">{</span>
<span class="w">                                            </span><span class="nt">"contains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                    </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                        </span><span class="nt">"const"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dsDescription"</span>
<span class="w">                                                    </span><span class="p">}</span>
<span class="w">                                                </span><span class="p">}</span>
<span class="w">                                            </span><span class="p">}</span>
<span class="w">                                        </span><span class="p">},</span>
<span class="w">                                        </span><span class="p">{</span>
<span class="w">                                            </span><span class="nt">"contains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                    </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                        </span><span class="nt">"const"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subject"</span>
<span class="w">                                                    </span><span class="p">}</span>
<span class="w">                                                </span><span class="p">}</span>
<span class="w">                                            </span><span class="p">}</span>
<span class="w">                                        </span><span class="p">}</span>
<span class="w">                                    </span><span class="p">]</span>
<span class="w">                                </span><span class="p">}</span>
<span class="w">                            </span><span class="p">},</span>
<span class="w">                            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                </span><span class="s2">"fields"</span>
<span class="w">                            </span><span class="p">]</span>
<span class="w">                        </span><span class="p">},</span>
<span class="w">                        </span><span class="nt">"geospatial"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span>
<span class="w">                            </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span>
<span class="w">                                    </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                        </span><span class="nt">"$ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#/$defs/field"</span>
<span class="w">                                    </span><span class="p">},</span>
<span class="w">                                    </span><span class="nt">"minItems"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                                    </span><span class="nt">"allOf"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                        </span><span class="p">{</span>
<span class="w">                                            </span><span class="nt">"contains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                    </span><span class="nt">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                                                        </span><span class="nt">"const"</span><span class="p">:</span><span class="w"> </span><span class="s2">"geographicBoundingBox"</span>
<span class="w">                                                    </span><span class="p">}</span>
<span class="w">                                                </span><span class="p">}</span>
<span class="w">                                            </span><span class="p">}</span>
<span class="w">                                        </span><span class="p">}</span>
<span class="w">                                    </span><span class="p">]</span>
<span class="w">                                </span><span class="p">}</span>
<span class="w">                            </span><span class="p">},</span>
<span class="w">                            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                </span><span class="s2">"fields"</span>
<span class="w">                            </span><span class="p">]</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">"citation"</span><span class="p">,</span>
<span class="w">                        </span><span class="s2">"geospatial"</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">"metadataBlocks"</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">"datasetVersion"</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
</div></div>



<a name="405363180"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405363180" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405363180">(Dec 01 2023 at 13:26)</a>:</h4>
<p><span class="user-mention" data-user-id="617722">@Johannes D</span> thanks! I just copied your comment about that React tool over at <a href="https://github.com/IQSS/dataverse-frontend/issues/231#issuecomment-1836116092">https://github.com/IQSS/dataverse-frontend/issues/231#issuecomment-1836116092</a> (we are actively building forms in React now)</p>



<a name="405363190"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405363190" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405363190">(Dec 01 2023 at 13:26)</a>:</h4>
<p>However, given the collection and metadatablock schema, it is possible to create a new schema from both. <span class="user-mention" data-user-id="598112">@Philip Durbin</span> I think receiving a schema such as this <a href="https://github.com/JR-1991/pyDaRUS/blob/main/pyDaRUS/metadatablocks/schemas/citation.json">one</a> would be awesome since it checks on types too and you can plug it easily into other plugins such as the Form Creator.</p>



<a name="405365157"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405365157" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405365157">(Dec 01 2023 at 13:36)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span>  The lack of further distinction for the primitives values (int, float, boolean, date) is the problem and I hope we could fix that with the new schema representation. IMHO the new schema would be a perfect start for v2 of the API</p>



<a name="405365843"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405365843" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405365843">(Dec 01 2023 at 13:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598112">Philip Durbin</span> <a href="#narrow/stream/379673-dev/topic/JSON.20Schema.20for.20datasets/near/405363180">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="617722">Johannes D</span> thanks! I just copied your comment about that React tool over at <a href="https://github.com/IQSS/dataverse-frontend/issues/231#issuecomment-1836116092">https://github.com/IQSS/dataverse-frontend/issues/231#issuecomment-1836116092</a> (we are actively building forms in React now)</p>
</blockquote>
<p>Thanks, before one can use the tooling we need to translate the rather complex dataverse json representation into a more readable, JSON intuitive representation...basically into what Jan suggested. Otherwise the form represents the complex internal data structure, which is something the normal user should not see.</p>



<a name="405366022"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405366022" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405366022">(Dec 01 2023 at 13:41)</a>:</h4>
<p>Actually thats one reason why we have a python facade between our react SPA and dataverse</p>



<a name="405366036"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405366036" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405366036">(Dec 01 2023 at 13:41)</a>:</h4>
<p>right, v2 territory</p>



<a name="405366112"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405366112" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405366112">(Dec 01 2023 at 13:41)</a>:</h4>
<p>well, maybe we could implement a facade in js-dataverse</p>



<a name="405367056"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405367056" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405367056">(Dec 01 2023 at 13:46)</a>:</h4>
<p>I'd rather would like to see that  the backend as other non js-clients would also benefit from it. I foresee two tasks in the backend: Creation of collection specific simple schemas that include all needed information and transformation of json in the specific schema to the DB model and vise-versa.</p>



<a name="405367185"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405367185" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405367185">(Dec 01 2023 at 13:47)</a>:</h4>
<p>Oh, sure. I just meant that until we have a slick v2 API maybe js-dataverse could follow your lead and implement a similar facade.</p>



<a name="405367229"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405367229" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405367229">(Dec 01 2023 at 13:47)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> python stuff ^^ <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="405380069"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405380069" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405380069">(Dec 01 2023 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="617722">@Johannes D</span> are you actually using react-jsonschema-form or is it just a dream?</p>



<a name="405380826"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405380826" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes D <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405380826">(Dec 01 2023 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="598112">@Philip Durbin</span>    We wanted to use it but our designers  and users requested a complex stepper for the input forms. The effort to adapt the lib for the use case was more complex than writing a  form by hand, so we are not using it in this project. In a different project I used the library and was happy with the lib:)</p>



<a name="405406061"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/405406061" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#405406061">(Dec 01 2023 at 17:16)</a>:</h4>
<p>Very interesting. Thanks.</p>



<a name="444790153"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/444790153" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#444790153">(Jun 14 2024 at 21:06)</a>:</h4>
<p>How do folks feel about phase two of "JSON Schema for dataset"? Is <a href="https://github.com/IQSS/dataverse/issues/10543">#10543</a> what you expected? I just left a comment but maybe I'm confused: <a href="https://github.com/IQSS/dataverse/pull/10543#pullrequestreview-2119147899">https://github.com/IQSS/dataverse/pull/10543#pullrequestreview-2119147899</a></p>



<a name="448430305"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/448430305" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#448430305">(Jul 01 2024 at 20:21)</a>:</h4>
<p><span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> you were part of the discussion early on and created this issue: bklog: Deliverable - As a system integrator, I would appreciate a JSON Schema for validating my dataset JSON before uploading via API - <a href="https://github.com/IQSS/dataverse-pm/issues/26">https://github.com/IQSS/dataverse-pm/issues/26</a></p>
<p>Any thoughts on my comment above?</p>



<a name="448866393"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/448866393" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#448866393">(Jul 03 2024 at 14:33)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> this is the thread I just mentioned on the <a href="https://docs.google.com/document/d/1O2DzuDRPUSq9-LYAaQ5eVRNW4ajwwTbX271ntztVW-Q/edit?usp=sharing">pyDataverse call</a>.</p>



<a name="450692328"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/450692328" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#450692328">(Jul 11 2024 at 12:06)</a>:</h4>
<p><span class="user-mention" data-user-id="599841">@Jan Range</span> <span class="user-mention" data-user-id="598183">@Oliver Bertuch</span> have you had a chance to think about <a href="https://github.com/IQSS/dataverse/pull/10543">https://github.com/IQSS/dataverse/pull/10543</a> ?</p>
<p>It came up again in sprint planning yesterday.</p>
<p>I think we all agree that the PR should add value (more detailed error messages). However, it doesn't improve the JSON Schema we offer for datasets. Does that matter? Is that what you want?</p>



<a name="450695971"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/450695971" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#450695971">(Jul 11 2024 at 12:25)</a>:</h4>
<p>To me, it looks great already! I have two small points that could be beneficial for integration into external tools/libs:</p>
<p>The message is good, but it is currently limited to a human-readable format. Adding a JSONPath or any other path that displays the exact location would allow other libraries to do more with the validation result. Furthermore, adding different error types could help. For instance, if a type validation fails, this could be indicated. </p>
<p>If I could imagine a response example it would look something like this:</p>
<p><em>Paths are not accurate</em></p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">"is_valid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yes"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"citation/fields/0/value"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"error_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"required"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The title field is required."</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"citation/fields/1/value"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"error_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The description must be a string."</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>Is it possible to derive such a format from your validator? I know in Python and Rust it is possible, but I am a Java Noob <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="450698367"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/450698367" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#450698367">(Jul 11 2024 at 12:37)</a>:</h4>
<p>Great, thanks. <span class="user-mention" data-user-id="599841">@Jan Range</span> would you mind copying and pasting your comment into the PR or linking here?</p>



<a name="450702458"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/450702458" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jan Range <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#450702458">(Jul 11 2024 at 12:55)</a>:</h4>
<p>Done <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="463774770"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/379673-dev/topic/JSON%20Schema%20for%20datasets/near/463774770" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/379673-dev/topic/JSON.20Schema.20for.20datasets.html#463774770">(Aug 20 2024 at 18:16)</a>:</h4>
<p><a href="https://github.com/IQSS/dataverse/issues/10543">#10543</a> has been merged</p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>