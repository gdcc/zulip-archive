<html>
<head><meta charset="utf-8"><title>sphinx.ext.autosectionlabel Â· docs Â· Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://gdcc.github.io/zulip-archive/stream/446770-docs/index.html">docs</a></h2>
<h3>Topic: <a href="https://gdcc.github.io/zulip-archive/stream/446770-docs/topic/sphinx.2Eext.2Eautosectionlabel.html">sphinx.ext.autosectionlabel</a></h3>

<hr>

<base href="https://dataverse.zulipchat.com">

<head><link href="https://gdcc.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="541701264"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/446770-docs/topic/sphinx.ext.autosectionlabel/near/541701264" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/446770-docs/topic/sphinx.2Eext.2Eautosectionlabel.html#541701264">(Sep 26 2025 at 15:57)</a>:</h4>
<p>In the meeting today we went over how to add a ref manually. I mentioned that there's an extension to automate it: <a href="https://www.sphinx-doc.org/en/master/usage/extensions/autosectionlabel.html">https://www.sphinx-doc.org/en/master/usage/extensions/autosectionlabel.html</a></p>
<p>Technically, the thing you link to is called a label. We add them above a header like this:</p>
<div class="codehilite"><pre><span></span><code>.. _account-log-in-options:

Account Log In Options
~~~~~~~~~~~~~~~~~~~~~~
</code></pre></div>
<p>I had a quick play with sphinx.ext.autosectionlabel but there's a downside. We won't be able to use the same heading twice on the same page. For example, at <a href="https://guides.dataverse.org/en/6.8/admin/integrations.html">https://guides.dataverse.org/en/6.8/admin/integrations.html</a> we have Open OnDemand under both "getting data in" and "analysis and computation".</p>
<p><a href="https://docs.openedx.org/en/open-release-palm.master/documentors/decisions/0004-no-auto-section-label.html">https://docs.openedx.org/en/open-release-palm.master/documentors/decisions/0004-no-auto-section-label.html</a> mentions the problem above and says it's hard to debug.</p>
<p>I dunno, maybe we could try sphinx.ext.autosectionlabel on a smaller Sphinx site like the one at <a href="https://github.com/IQSS/dataverse-hub">https://github.com/IQSS/dataverse-hub</a> first to see if we even like it. <img alt=":shrugdog:" class="emoji" src="https://avatars.zulip.com/53090/emoji/images/86c833ef.png" title="shrugdog"></p>



<a name="541720570"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/446770-docs/topic/sphinx.ext.autosectionlabel/near/541720570" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/446770-docs/topic/sphinx.2Eext.2Eautosectionlabel.html#541720570">(Sep 26 2025 at 18:02)</a>:</h4>
<p>This is the change I made locally to test the extension:</p>
<div class="codehilite"><pre><span></span><code>diff --git a/doc/sphinx-guides/source/conf.py b/doc/sphinx-guides/source/conf.py
index abf6ba7379..af64cd5ecb 100755
--- a/doc/sphinx-guides/source/conf.py
+++ b/doc/sphinx-guides/source/conf.py
@@ -47,6 +47,7 @@ extensions = [
     &#39;myst_parser&#39;,
     &#39;sphinx_tabs.tabs&#39;,
     &#39;sphinx_substitution_extensions&#39;,
+    &#39;sphinx.ext.autosectionlabel&#39;,
 ]

 # Add any paths that contain templates here, relative to this directory.
@@ -442,3 +443,5 @@ rst_prolog = &quot;&quot;&quot;
 .. |version| replace:: %s
 .. |nextVersion| replace:: %s
 &quot;&quot;&quot; % (version, &quot;%s.%s&quot; % semver.Version.parse(version, optional_minor_and_patch=True).bump_minor().to_tuple()[0:2] )
+
+autosectionlabel_prefix_document = True
\ No newline at end of file
</code></pre></div>



<a name="541720688"></a>
<h4><a href="https://dataverse.zulipchat.com#narrow/stream/446770-docs/topic/sphinx.ext.autosectionlabel/near/541720688" class="zl"><img src="https://gdcc.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Philip Durbin ðŸš€ <a href="https://gdcc.github.io/zulip-archive/stream/446770-docs/topic/sphinx.2Eext.2Eautosectionlabel.html#541720688">(Sep 26 2025 at 18:03)</a>:</h4>
<p>This is what the "two headings on the same page" error looks like:</p>
<p><code>/Users/pdurbin/github/iqss/guides.dataverse.org/doc/sphinx-guides/source/admin/integrations.rst:232:duplicate label admin/integrations:open ondemand, other instance in /Users/pdurbin/github/iqss/guides.dataverse.org/doc/sphinx-guides/source/admin/integrations.rst</code></p>



<hr><p>Last updated: Mar 02 2026 at 13:56 UTC</p>
</html>